DEBUG=!0;var RYU=RYU||{};RYU=function(){function loadAddOns(e){if(clearTimeout(addon_timer),addon.register!=regback&&(addon.register=regback),null==e&&(e=0),e<AddOns.length&&!document.getElementById("AddOn_"+AddOns[e])){if(addon_loaded=e,"register"==AddOns[e]);else{addon[""+AddOns[e]]={},addon[""+AddOns[e]].index=e;var t=document.createElement("script");t.setAttribute("id","AddOn_"+AddOns[e]),t.src=RYU.baseurl+"ryuzine/addons/"+AddOns[e]+"/"+AddOns[e]+".config.js",document.getElementsByTagName("head")[0].appendChild(t)}addon_timer=setTimeout(function(){addon[""+AddOns[e]].name!=AddOns[e]&&loadAddOns(e+1)},1e3)}}function addonInjector(e){for(var t=document.getElementsByTagName("head")[0],n=t.getElementsByTagName("link"),o=[],l=0;l<n.length;l++)"stylesheet"==n[l].getAttribute("rel")&&o.push(n[l]);if(e.inject.js&&e.inject.js.length>0)for(var a=0;a<e.inject.js.length;a++){var i=document.createElement("script");i.src=RYU.baseurl+"ryuzine/addons/"+e.name+"/"+e.inject.js[a][0],null!=e.inject.js[a][2]&&(i.id=e.inject.js[a][2]),1==e.inject.js[a][1]?t.insertBefore(i,o[0]):t.appendChild(i)}if(e.inject.css&&e.inject.css.length>0)for(var l=0;l<e.inject.css.length;l++){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.href=RYU.baseurl+"ryuzine/addons/"+e.name+"/"+e.inject.css[l][0],null!=e.inject.css[l][2]&&(s.id=e.inject.css[l][2]),1==e.inject.css[l][1]?t.insertBefore(s,o[0]):t.appendChild(s)}}function setOptGhostList(e,t){if(isNaN(e))for(var n=0;n<addon_optData.length;n++)addon_optData[n][1]==e&&(e=n);var o=document.getElementById(""+addon_optData[e][1]);1==t?Get_Cookie(""+addon_optData[e][1])?(o.value=Get_Cookie(""+addon_optData[e][1]),RYU.config[""+addon_optData[e][1]]=Get_Cookie(""+addon_optData[e][1])):RYU.config[""+addon_optData[e][1]]&&(o.value=RYU.config[""+addon_optData[e][1]]):RYU.config[""+addon_optData[e][1]]=""+o.value;for(var l=0;e<o.options.length;l++)if(o.options[l].value===o.value){o.selectedIndex=l;break}o.parentNode.getElementsByTagName("p")[0].innerHTML=o.options[o.selectedIndex].text,1==addon_optData[e][5]&&Set_Cookie(""+addon_optData[e][1],""+o.value)}function toggleOptSwitch(i,dir){var poop=i;if(isNaN(i))for(var a=0;a<addon_optData.length;a++)addon_optData[a][1]==i&&(i=a);if(null==dir&&(dir=hasClass(document.getElementById("opt_"+addon_optData[i][1]),"opt-on")?"0":"1"),"0"==dir?(document.getElementById("opt_"+addon_optData[i][1]).className="opt-switch opt-off",1==addon_optData[i][5]&&Set_Cookie(addon_optData[i][1],"0"),RYU.config[""+addon_optData[i][1]]=0,addon_optData[i][4]=0):(document.getElementById("opt_"+addon_optData[i][1]).className="opt-switch opt-on",1==addon_optData[i][5]&&Set_Cookie(addon_optData[i][1],"1"),RYU.config[""+addon_optData[i][1]]=1,addon_optData[i][4]=1),"string"==typeof addon_optData[i][3])var fn=function(){return eval(addon_optData[i][3])}();else addon_optData[i][3]()}function addDialogBox(e,t,n,o,l,a,i){var s=dialogs.length;dialogs[s]=[],dialogs[s][0]=e,dialogs[s][1]=t,dialogs[s][2]=n,dialogs[s][3]=o,dialogs[s][4]=l,dialogs[s][5]=a,dialogs[s][6]=i}function toggleDialog(e){if("all"!=e){for(var t=null,n=0;n<dialogs.length;n++)if(dialogs[n][0]==e)var t=n;if(null==t)return void("about"==e&&aboutDialog());for(var o=!1,l=0;l<hide_dialogs.length;l++)e==hide_dialogs[l]&&(o=!0);if(document.getElementById(""+e))if(hasClass(document.getElementById(""+e),"out")){if("0"==RYU.config.rzw_noobnags&&1==o)return;if(!document.getElementById("shade_box")){var a=document.createElement("div");a.id="shade_box",a.addEventListener(iDown,function(){RYU.toggleDialog(""+e)},!1),document.getElementsByTagName("body")[0].appendChild(a)}addClass(document.getElementById(""+e),"in"),removeClass(document.getElementById(""+e),"out")}else{if("1"==dialogs[t][4])addClass(document.getElementById(""+e),"out"),removeClass(document.getElementById(""+e),"in");else{for(var i=0;i<iscrollers.length;i++)iscrollers[i][0]==e&&null!=iscrollers[i][1]&&(iscrollers[i][1].destroy(),iscrollers[i][1]=null);document.getElementsByTagName("body")[0].removeChild(document.getElementById(""+e))}document.getElementsByTagName("body")[0].removeChild(document.getElementById("shade_box"))}else{if("0"==RYU.config.rzw_noobnags&&1==o)return;if(!document.getElementById("shade_box")){var a=document.createElement("div");a.id="shade_box",a.addEventListener(iDown,function(){RYU.toggleDialog(""+e)},!1),document.getElementsByTagName("body")[0].appendChild(a)}if(null!=dialogs[t][6])var s=" "+dialogs[t][6];else var s="";var d=document.createElement("div");d.id=e,d.className="ryudialog"+s+" in";var r=document.createElement("div");r.className="titlebar";var c=document.createElement("h1");c.className="title",c.innerHTML=RYU._lc(dialogs[t][1]);var m=document.createElement("div");m.className="xdialog button type2 right",m.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc("Close")+"</span></p>",m.addEventListener(iDown,function(){RYU.toggleDialog(""+e)},!1),r.appendChild(c),r.appendChild(m);var u=document.createElement("div");u.className="area";var p=document.createElement("div");if(p.className="scrollbox","string"==typeof dialogs[t][2]&&(p.innerHTML=""+unescape(dialogs[t][2])),u.appendChild(p),d.appendChild(r),d.appendChild(u),null!=dialogs[t][5]&&"0"!=dialogs[t][5]&&""!=dialogs[t][5]&&dialogs[t][3].unshift(["checkbox",e+"_hide","Do not show this again",function(){RYU.hideDialog(this,""+e)}]),null!=dialogs[t][3]&&""!=dialogs[t][3]){u.className="area action";var g=document.createElement("div");if(g.className="actionbar",Array.isArray(dialogs[t][3])){null!=dialogs[t][5]&&"0"!=dialogs[t][5]&&""!=dialogs[t][5]&&dialogs[t][3].length>3&&(dialogs[t][3].length=3),(null==dialogs[t][5]||"0"==dialogs[t][5]||""==dialogs[t][5])&&dialogs[t][3].length>6&&(dialogs[t][3].length=6);for(var f=0;f<dialogs[t][3].length;f++)if("button1"==dialogs[t][3][f][0]||"button2"==dialogs[t][3][f][0]||"checkbox"==dialogs[t][3][f][0]){if(null==dialogs[t][3][f][4])var v="left";else{dialogs[t][3][f][4].match(/left/gi)||dialogs[t][3][f][4].match(/right/gi)||(dialogs[t][3][f][4]="left "+dialogs[t][3][f][4]);var v=dialogs[t][3][f][4]}if("button1"==dialogs[t][3][f][0]||"button2"==dialogs[t][3][f][0]){var y=document.createElement("div");y.id=dialogs[t][3][f][1],y.className="button "+v,y.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc(dialogs[t][3][f][2])+"</span></p>",y.addEventListener(eDown,dialogs[t][3][f][3],!1),g.appendChild(y)}else{var h=document.createElement("div");h.className="hidebox left";var b=document.createElement("input");b.id=dialogs[t][3][f][1],b.type="checkbox",1==o&&b.setAttribute("checked","true"),b.addEventListener(eDown,dialogs[t][3][f][3],!1);var E=document.createElement("span");E.className="label l10n",E.innerHTML=RYU._lc(dialogs[t][3][f][2]),h.appendChild(b),h.appendChild(E),g.appendChild(h)}}}d.appendChild(g)}if(document.getElementsByTagName("body")[0].appendChild(d),Array.isArray(dialogs[t][2]))for(var f=0;f<dialogs[t][2].length;f++)addControl(dialogs[t][2][f][0],dialogs[t][2][f][1],dialogs[t][2][f][2],dialogs[t][2][f][3],dialogs[t][2][f][4],dialogs[t][2][f][5],e,dialogs[t][2][f][7],dialogs[t][2][f][8]);iScrollApply(""+e)}}else for(var k=document.getElementsByClassName("ryudialog"),R=0;R<k.length;R++)hasClass(k[R],"in")&&toggleDialog(""+k[R].id)}function hideDialog(e,t){if("1"==RYU.config.nags&&alert(""+RYU._lc("Hiding dialogs is being overidden, go to OPTIONS > SHOW ALL DIALOGS and turn it OFF to allow hiding")),e.checked)for(var n=hide_dialogs.length-1;n>-1;n--)t==hide_dialogs[n]&&hide_dialogs.splice(n,1);else{for(var o=!1,n=0;n<hide_dialogs.length;n++)t==hide_dialogs[n]&&(o=!0);0==o&&hide_dialogs.push(""+t)}Set_Cookie("hide_dialogs",hide_dialogs)}function isEven(e){return e%2==0}function getsupportedprop(e){for(var t=document.documentElement,n=0;n<e.length;n++)if("string"==typeof t.style[e[n]])return e[n]}function hasClass(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function addClass(e,t){hasClass(e,t)||(e.className+=(e.className?" ":"")+t)}function removeClass(e,t){hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function iEvent(){if("ontouchstart"in document.documentElement&&"webOS"!=RYU.device.OS)var e="touchstart",t="touchstart",n="touchend",o="touchmove",l="touchstart",a="touchend";else var e="click",t="mousedown",n="mouseup",o="mousemove",l="mouseover",a="mouseout";if("undefined"!=typeof IScroll)var i="tap";else var i=t;return{iClick:e,iDown:t,iUp:n,iMove:o,iOver:l,iOut:a,eDown:i}}function defaultPrevention(){"Android"==RYU.device.OS&&window.scrollTo(0,0),preventDefault()}function preventDefault(e){if(null==e)var e=document;e.ontouchstart=function(e){e.elementIsEnabled||e.preventDefault()},e.ontouchmove=function(e){e.elementIsEnabled||e.preventDefault()},e.ontouchend=function(e){e.elementIsEnabled||e.preventDefault()}}function restoreDefault(e){if(null==e)var e=document;e.ontouchstart=function(e){e.elementIsEnabled||(e.elementIsEnabled=!0)},e.ontouchmove=function(e){e.elementIsEnabled||(e.elementIsEnabled=!0)},e.ontouchend=function(e){e.elementIsEnabled||(e.elementIsEnabled=!0)}}function onRebind(e){"undefined"!=typeof iScroll&&null!=e&&(setTimeout(function(){e.refresh()},0),e.scrollTo(0,0))}function toc_addEventListeners(e){var t=document.getElementById("nav").innerHTML;document.getElementById("nav").innerHTML="",document.getElementById("nav").innerHTML=t;for(var n=document.getElementById("nav").getElementsByTagName("li"),e=0;e<n.length;e++)"ontouchend"in document.documentElement?"undefined"!=typeof IScroll?n[e].addEventListener("tap",function(e){return function(){preventDefault(),RYU.tapCheck(this,2,e)}}(e),!1):n[e].addEventListener("touchend",function(e){return function(){RYU.tapCheck(this,2,e)}}(e),!1):"undefined"==typeof iScroll?n[e].addEventListener("mouseup",function(e){return function(){RYU.tapCheck(this,2,e)}}(e),!1):(("Firefox"==RYU.device.Platform||"IE"==RYU.device.Platform)&&n[e].addEventListener("click",function(e){return this.getElementsByTagName("a")[0].href="#",!1},!1),"undefined"!=typeof IScroll?n[e].addEventListener("tap",function(e){return function(){RYU.swapList(this,2,e)}}(e),!1):n[e].addEventListener("mouseup",function(e){return function(){RYU.tapCheck(this,2,e)}}(e),!1))}function elementSizes(){sH=sh.offsetHeight,hH=document.getElementById("header1").offsetHeight,hM=document.getElementById("header1").offsetTop,fH=document.getElementById("footer1").offsetHeight,nH=document.getElementById("controlbox0").offsetHeight,cH=document.getElementById("controlbox1").offsetHeight,fM=hM,sW=sh.offsetWidth,tM=50}function iScrollApply(e,t,n){if("string"==typeof e){if(!document.getElementById(""+e))return;e=document.getElementById(""+e)}if(null==t&&(t="area"),"string"==typeof t)if(document.getElementById(""+t))t=document.getElementById(""+t);else{if(!(e.getElementsByClassName(""+t).length>0))return;t=e.getElementsByClassName(""+t)[0]}if(n=null==n?t:document.getElementById(""+n)?document.getElementById(""+n):e.getElementsByClassName(""+n).length>0?e.getElmentsByClassName(""+n)[0]:t,n.scrollTop=0,"undefined"!=typeof iScroll&&1==RYU.config.iscroll_iscroll){n.style.overflow="hidden",n.style.height="auto";for(var o=iscrollers.length,l=0,a=0;o>a;a++)iscrollers[a][0]==e.id&&null!=iscrollers[a][1]&&(l=1,onRebind(iscrollers[a][1]));0==l&&(iscrollers[o]=[],iscrollers[o][0]=e.id,void 0==nativeScroll&&"Firefox"!=RYU.device.Platform&&"IE"!=RYU.device.Platform?iscrollers[o][1]=new iScroll(t,{scrollbarClass:"iscrollbar",scrollbars:"custom",mouseWheel:!0,interactiveScrollbars:!0,onBeforeScrollStart:function(){return!1},onScrollMove:function(){touchmoveCheck=1},onBeforeScrollEnd:function(){touchmoveCheck=0},tap:!0}):iscrollers[o][1]=new iScroll(t,{scrollbarClass:"iscrollbar",scrollbars:"custom",mouseWheel:!0,interactiveScrollbars:!0,onScrollMove:function(){touchmoveCheck=1},onBeforeScrollEnd:function(){touchmoveCheck=0},tap:!0}))}else{n.style.height="",1==RYU.config.nscroll&&"iOS"==RYU.device.OS&&void 0!=nativeScroll&&1==RYU.config.zoompan&&0==zoomed||1==RYU.config.nscroll&&"Android"==RYU.device.OS&&RYU.device.v>=3&&1==RYU.config.zoompan||"Windows Phone 7"==RYU.device.OS?(n.style.overflow="auto",n.style.overflowX="hidden",void 0!=nativeScroll&&(n.style[nativeScroll]="touch")):"ontouchstart"in document.documentElement?(n.style.overflow="hidden",n.addEventListener("touchstart",RYU.scrollIt,!1)):(n.style.overflow="auto",n.style.overflowX="hidden");for(var i=0;i<iscrollers.length;i++)null!=iscrollers[i][1]&&(iscrollers[i][1].destroy(),iscrollers[i][1]=null);t.children[0].setAttribute("style","")}}function bookBinder(){"undefined"!=typeof IScroll&&(iScroll=IScroll),("Android"==RYU.device.OS&&RYU.device.v<3||"Safari"==RYU.device.Platform&&RYU.device.v<4||"Windows Phone 7"==RYU.device.OS)&&(iScroll=void 0);for(var e=document.getElementsByClassName("style1"),t=0;t<e.length;t++)iScrollApply(e[t]);if(W=window.innerWidth,H=window.innerHeight,document.getElementById("spineshadow").style.zIndex=pagecount+1,bm.style.zIndex=pagecount-1,1==RYU.config.animate&&(void 0!=cssTransform&&void 0!=cssTransitionDelay||void 0!=cssTransform&&void 0==cssTransitionDelay)&&0==nav)if(W>H&&W>1023)for(var t=0;pagecount>t;t++)folio[t].style.display="block",page[t].style.display="block",isEven(t)?(folio[t].style.zIndex=pagecount-t,folio[t].style[cssTransform]="scaleX(1)",page[t].style[cssTransform]=in3d(t)):(folio[t].style.zIndex=t,folio[t].style[cssTransform]="scaleX(0)",page[t].style[cssTransform]=out3d(t)),t>current&&!isEven(t)||current>t&&isEven(t)?(page[t].style[cssTransform]=out3d(t),folio[t].style[cssTransform]="scaleX(0)"):(page[t].style[cssTransform]=in3d(t),folio[t].style[cssTransform]="scaleX(1)"),(t===current-1||t===current||t===current+1)&&(column[t].style.display="block"),iScrollApply(page[t],live[t]);else for(var t=0;pagecount>t;t++)folio[t].style.zIndex=pagecount-t,current>t?(page[t].style[cssTransform]=out3d(t),folio[t].style[cssTransform]="scaleX(0)"):(page[t].style[cssTransform]=in3d(t),folio[t].style[cssTransform]="scaleX(1)"),iScrollApply(page[t],live[t]);else if(0==nav)if(document.getElementById("folio1").style.visibility="hidden",document.getElementById("folio1").style.display="block",document.getElementById("folio1").style.display="none",document.getElementById("folio1").style.visibility="visible",W>H&&W>1023)for(var t=0;pagecount>t;t++)page[t].style[cssTransform]="scaleX(1)",folio[t].style[cssTransform]="scaleX(1)",isEven(t)?folio[t].style.zIndex=pagecount-t:folio[t].style.zIndex=t,document.getElementById("spineshadow").style.zIndex=pagecount+1,t>current?isEven(t)?folio[t].style.display="block":folio[t].style.display="none":current>t&&isEven(t)?folio[t].style.display="none":folio[t].style.display="block",(t===current-1||t===current||t===current+1)&&(column[t].style.display="block"),iScrollApply(page[t],live[t]);else if(0==nav)for(var t=0;pagecount>t;t++)page[t].style[cssTransform]="scaleX(1)",folio[t].style[cssTransform]="scaleX(1)",folio[t].style.display="block",folio[t].style.zIndex=pagecount-t,current>t?folio[t].style.display="none":folio[t].style.display="block",iScrollApply(page[t],live[t]),marginL[t].style.visibility="visible",marginR[t].style.visibility="visible";prevW=W,prevH=H,splashAction(),resizeBoxAd(),"iOS"==RYU.device.OS&&void 0!=nativeScroll&&(up_box.style.display="block",setTimeout(function(){document.getElementById("upbox").style.display="none"},1e3)),adjW=document.getElementById("tocslider").offsetWidth-document.getElementById("tocslider_button").offsetWidth,stpW=parseInt(adjW/pagecount);for(var n=0;pagecount+1>n;n++)pageStop[n]=n*stpW;toc_addEventListeners(),getBookmarksList()}function resizeBoxAd(){if(document.getElementById("boxad")){var e=document.getElementById("boxad"),t=e.getElementsByClassName("scrollbox")[0];e.style.top="50%",e.style.left="50%",t.offsetHeight+t.parentNode.offsetTop+10<=parseInt(.8*H)?(e.style.height=t.offsetHeight+t.parentNode.offsetTop+10+"px",e.style.marginTop="-"+(t.offsetHeight+t.parentNode.offsetTop+10)/2+"px"):(e.style.height=parseInt(.8*H)+"px",e.style.marginTop="-"+parseInt(.8*H/2)+"px"),e.style.width=parseInt(.8*W)+"px",e.style.marginLeft="-"+parseInt(.8*W/2)+"px"}}function clearSplash(e){null==e?e=0:splashad=e,clearTimeout(splashoff),clearTimeout(splashout),clearTimeout(splashload),clearTimeout(adtrigger),splashoff=null,splashout=null,splashload=null,adtrigger=null;var t=function(){document.getElementById("loadicon").className=""},n=function(){document.getElementById("splash").className="splash_out"},o=function(){document.getElementById("splash").style.display="none"};if(e>0||isNaN(e)){if(isNaN(e)&&(e=15),!document.getElementById("splashad_timer")){var l=document.createElement("p");if(l.id="splashad_timer",10>time)var a="0";else var a="";l.innerHTML="0:"+a+time,document.getElementById("splashcell").appendChild(l),adclock=setInterval(function(){if(document.getElementById("splashad_timer")){if(10>time)var e="0";else var e="";document.getElementById("splashad_timer").innerHTML="0:"+e+time,time>0?time--:time=0}else clearInterval(adclock),adclock=null},1e3)}if(void 0!=cssTransitionDelay&&void 0!=cssTransitionDuration){var i=getStyle("splash",cssTransitionDelay),s=getStyle("splash",cssTransitionDuration);null==i&&(i=0),null==s&&(s=0),splashtime=parseInt(1e3*(parseFloat(s)+parseFloat(i)+e)),splashload=setTimeout(t,splashtime),splashout=setTimeout(n,1e3*e),splashoff=setTimeout(o,splashtime),adtrigger=setTimeout(function(){triggerAds()},splashtime)}else splashload=setTimeout(t,1e3*e),splashoff=setTimeout(o,1e3*e),adtrigger=setTimeout(function(){triggerAds()},1e3*e)}else if(void 0!=cssTransitionDelay&&void 0!=cssTransitionDuration){var i=getStyle("splash",cssTransitionDelay),s=getStyle("splash",cssTransitionDuration);null==i&&(i=0),null==s&&(s=0),splashtime=parseInt(1e3*(parseFloat(s)+parseFloat(i))),splashload=setTimeout(t,splashtime),document.getElementById("splash").className="splash_out",splashoff=setTimeout(o,splashtime),adtrigger=setTimeout(function(){triggerAds()},splashtime)}else document.getElementById("loadicon").className="",document.getElementById("splash").style.display="none",triggerAds()}function getStyle(e,t){var n="",o=document.getElementById(e);return window.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=document.defaultView.getComputedStyle(o,null).getPropertyValue(t)):o.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=o.currentStyle[t]),n}function onDemand(e,t){if(document.getElementById("column"+e).style.display=""+t,"block"==t&&0==RYU.config.nscroll)for(var n=0;n<iscrollers.length;n++)iscrollers[n][0]=="page"+e&&onRebind(iscrollers[n][1])}function out3d(e){return 1==RYU.config.css3d?"right"==binding?W>H&&W>1023&&!isEven(e)?"rotate3d(0,1,0,-90deg)":"rotate3d(0,1,0,90deg)":W>H&&W>1023&&!isEven(e)?"rotate3d(0,1,0,90deg)":"rotate3d(0,1,0,-90deg)":"scaleX(0)"}function in3d(e){return 1==RYU.config.css3d?"rotate3d(0,1,0,0deg)":"scaleX(1)"}function turnPage(e,t,n){"undefined"!=typeof n&&(hidecontrols=setTimeout("RYU.controlsToggle(0)",2e3)),e==pagecount-1?bm.style.display="none":bm.style.display="block",(void 0!=cssTransitionDelay&&void 0!=cssTransform||void 0==cssTransitionDelay&&void 0!=cssTransform)&&1==RYU.config.animate?W>H&&W>1023?(0==t?(current=e,clearTimeout(pagetimer[e]),column[e].style.display="block",e-1>=0&&(clearTimeout(pagetimer[e-1]),column[e-1].style.display="block"),onDemand(e,"block"),e-1>=0&&onDemand(e-1,"block"),page[e+1].style[cssTransitionDelay]="0s",page[e+1].style[cssTransform]=out3d(e+1),folio[e+1].style[cssTransitionDelay]="0s",folio[e+1].style[cssTransform]="scaleX(0)",page[e].style[cssTransitionDelay]=".8s",page[e].style[cssTransform]=in3d(e),folio[e].style[cssTransitionDelay]=".8s",folio[e].style[cssTransform]="scaleX(1)",pagetimer[e+1]=setTimeout("RYU.onDemand("+(e+1)+",'none')",2e3),pagecount-1>=e+2&&(pagetimer[e+2]=setTimeout("RYU.onDemand("+(e+2)+",'none')",2500))):(current=e+1,current==pagecount&&(current-=1),clearTimeout(pagetimer[e]),column[e].style.display="block",pagecount-1>=e+1&&(clearTimeout(pagetimer[e+1]),column[e+1].style.display="block"),onDemand(e,"block"),pagecount-1>=e+1&&onDemand(e+1,"block"),page[e-1].style[cssTransitionDelay]="0s",page[e-1].style[cssTransform]=out3d(e-1),folio[e-1].style[cssTransitionDelay]="0s",folio[e-1].style[cssTransform]="scaleX(0)",page[e].style[cssTransitionDelay]=".8s",page[e].style[cssTransform]=in3d(e),folio[e].style[cssTransitionDelay]=".8s",folio[e].style[cssTransform]="scaleX(1)",pagetimer[e-1]=setTimeout("RYU.onDemand("+(e-1)+",'none')",2e3),e-2>=0&&(pagetimer[e-2]=setTimeout("RYU.onDemand("+(e-2)+",'none')",2500))),autoflip=0):0==t?(current=e,clearTimeout(pagetimer[e]),column[e].style.display="block",onDemand(e,"block"),e-1>=0&&onDemand(e-1,"block"),page[e].style[cssTransitionDelay]="0s",page[e].style[cssTransform]=in3d(e),folio[e].style[cssTransitionDelay]="0s",folio[e].style[cssTransform]="scaleX(1)",pagetimer[e+1]=setTimeout("RYU.onDemand("+(e+1)+",'none')",2e3)):(current=e,clearTimeout(pagetimer[e]),column[e].style.display="block",onDemand(e,"block"),page[e-1].style[cssTransitionDelay]="0s",page[e-1].style[cssTransform]=out3d(e-1),folio[e-1].style[cssTransitionDelay]="0s",folio[e-1].style[cssTransform]="scaleX(0)",pagetimer[e-1]=setTimeout("RYU.onDemand("+(e-1)+",'none')",2e3)):W>H&&W>1023?(0==t?(current=e,onDemand(e,"block"),e-1>=0&&onDemand(e-1,"block"),folio[e+1].style.display="none",folio[e].style.display="block",onDemand(e+1,"none"),pagecount-1>=e+2&&onDemand(e+2,"none")):(current=e+1,onDemand(e,"block"),pagecount-1>=e+1&&onDemand(e+1,"block"),current==pagecount&&(current-=1),folio[e-1].style.display="none",folio[e].style.display="block",onDemand(e-1,"none"),e>=3&&onDemand(e-2,"none")),autoflip=0):0==t?(current=e,onDemand(e,"block"),folio[e].style.display="block",onDemand(e+1,"none")):(current=e,onDemand(e,"block"),e-=1,folio[e].style.display="none",e-1>=0&&onDemand(e-1,"none")),slideSync(e)}function flipTo(e){if(W=window.innerWidth,H=window.innerHeight,flipThru=function(e,t,n){1==t?(W>H&&W>1023&&(void 0!=cssTransform||void 0!=cssTransitionDelay)?isEven(e)||turnPage(e,t):turnPage(e,t),e++,n+1>e&&setTimeout("flipThru("+e+","+t+","+n+")",50)):(W>H&&W>1023&&(void 0!=cssTransform||void 0!=cssTransitionDelay)?isEven(e)&&turnPage(e,t):turnPage(e,t),e--,e>n-1&&setTimeout("flipThru("+e+","+t+","+n+")",50))},1==nav)1==simulated?document.getElementById(e).scrollIntoView():window.location.href="#"+e,current=e;else{if(autoflip=1,e-current>32||-32>e-current)var t=1;else var t=0;if(e>current)if(d=1,c=0==current?1:current,0==RYU.config.animate||1==t)for(flip=c;e>=flip;flip++)W>H&&W>1023?isEven(flip)||turnPage(flip,d):turnPage(flip,d);else flipThru(c,d,e);else if(d=0,c=current,0==RYU.config.animate||1==t)for(flip=current;flip>e-1;flip--)W>H&&W>1023?isEven(flip)&&turnPage(flip,d):turnPage(flip,d);else flipThru(c,d,e)}clearTimeout(hidecontrols),hidecontrols=setTimeout("RYU.controlsToggle(0)",2e3)}function flip(e){0==e||"back"==e?W>H&&W>1023?current-2>-1&&flipTo(current==pagecount-1?current-1:current-2):current-1>-1&&flipTo(current-1):pagecount>current+1&&flipTo(current+1)}function tapCheck(e,t,n,o){1==touchmoveCheck||(null==o?swapList(e,t,n):gridBox("ryuzine",o))}function gridBox(e,t){if((null==t||"undefined"==t)&&(t=0),e==view);else{if("ryuzine"==e)var n=2500;else var n=1250;1==RYU.config.animate&&1==viewani?(document.getElementById("gridbox").className="grid_out",setTimeout(function(){document.getElementById("loadicon").className="spinning"},500),"grid"==view?setTimeout(function(){document.getElementById("gridbox").style[cssTransitionDuration]="0s",document.getElementById("gridbox").className="grid_deck",changeView(e),flipTo(t)},1e3):setTimeout(function(){document.getElementById("gridbox").style[cssTransitionDuration]="0s",document.getElementById("gridbox").className="grid_deck",changeView(e)},1e3),setTimeout(function(){document.getElementById("gridbox").style[cssTransitionDuration]="1s",document.getElementById("gridbox").className="grid_in",document.getElementById("loadicon").className=""},n)):"grid"==view?(changeView("ryuzine"),flipTo(t)):changeView(e)}}function enableDefault(e,t){null==t&&(t=4),1==t&&(e.ontouchstart=function(t){t.elementIsEnabled=!0,swapList(e,1,1)}),2==t&&(e.ontouchmove=function(e){e.elementIsEnabled=!0}),3==t&&(e.ontouchend=function(e){e.elementIsEnabled=!0}),4==t&&(e.ontouchstart=function(e){e.elementIsEnabled=!0},e.ontouchmove=function(e){e.elementIsEnabled=!0},e.ontouchend=function(e){e.elementIsEnabled=!0})}function keyNav(e){if("right"==binding)var t=39,n=37;else var t=37,n=39;e.keyCode!=t&&38!=e.keyCode||RYU.config.block_keynav()||flip(0),e.keyCode!=n&&40!=e.keyCode||RYU.config.block_keynav()||flip(1),36==e.keyCode&&flipTo(0),35==e.keyCode&&flipTo(pagecount-1),112!=e.keyCode||e.shiftKey||helpPlay(1),112==e.keyCode&&e.shiftKey&&(helpPlay(1),setTimeout("RYU.playHelp(0)",2e3)),113==e.keyCode&&(ctog=0,controlsToggle(0),togglePanel(1)),114==e.keyCode&&(ctog=0,controlsToggle(0),togglePanel(2)),115!=e.keyCode||e.shiftKey||(ctog=0,controlsToggle(0),togglePanel(3)),115==e.keyCode&&e.shiftKey&&(ctog=0,controlsToggle(0),togglePanel(5)),71==e.keyCode&&e.ctrlKey&&gridBox("grid"),77==e.keyCode&&e.ctrlKey&&gridBox("ryuzine"),72==e.keyCode&&e.ctrlKey&&gridBox("plain"),76==e.keyCode&&e.ctrlKey&&gridBox("continuous"),187!=e.keyCode&&107!=e.keyCode||!e.ctrlKey||resizeText(1),189!=e.keyCode&&109!=e.keyCode||!e.ctrlKey||resizeText(-1),45!=e.keyCode||e.ctrlKey||bookMark(),45==e.keyCode&&e.ctrlKey&&(ctog=0,controlsToggle(0),togglePanel(4)),46==e.keyCode&&unMark(),27==e.keyCode&&RYU.toggleDialog("all")}function togglePanel(e){onRebind(tocscroll),onRebind(optscroll),onRebind(bmarkscroll),clearTimeout(l),clearTimeout(o),clearTimeout(hidecontrols);var t=document.getElementsByClassName("panel");if(isNaN(e))for(var n=0;n<t.length;n++)t[n].id==e&&(e=n);if("block"!=up_box.style.display&&"all"!=e){up_box.style.display="block",up_box.style.visibility="visible";var o=setTimeout(function(){addClass(t[e],"in"),removeClass(t[e],"out")},5)}else if("all"==e||hasClass(t[e],"in")){for(var n=0;n<t.length;n++)addClass(t[n],"out"),removeClass(t[n],"in");var l=setTimeout(function(){up_box.style.display="none",up_box.style.visibility="hidden"},1001);hidecontrols=setTimeout("RYU.controlsToggle(0)",2500)}else{for(var n=0;n<t.length;n++)addClass(t[n],"out"),removeClass(t[n],"in");addClass(t[e],"in"),removeClass(t[e],"out")}}function zoomMode(){if("pan_off"==document.getElementById("pan").className){if(document.getElementById("pan").className="pan_on",zoomed=1,"iOS"==RYU.device.OS&&void 0!=nativeScroll)for(var e=0;pagecount>e;e++)live[e].style.overflow="hidden"}else if(document.getElementById("pan").className="pan_off",zoomed=0,"iOS"==RYU.device.OS&&void 0!=nativeScroll)for(var e=0;pagecount>e;e++)live[e].style.overflow="auto"}function swapList(e,t,n){e.className="list_down",setTimeout(function(){togglePanel(t)},300),setTimeout(function(){e.className="list_up",null==n||(isNaN(n)?window.open(""+n,"_blank"):flipTo(n))},1e3)}function resizeText(e){for(a=0;a<pagecount;a++){var t=document.getElementById("live"+a);""==t.style.fontSize&&(t.style.fontSize="1.0em"),t.style.fontSize=parseFloat(t.style.fontSize)+.2*e+"em"}}function colorText(e){null==e?"colorbox_OUT"==color_opt.className?color_opt.className="colorbox_IN":color_opt.className="colorbox_OUT":document.getElementById("colortext").href=""+baseurl+"ryuzine/css/colortext"+e+".css"}function changeView(e){if(Set_Cookie("view",""+e),view=e,"ryuzine"==e&&(e=viewstyle),e!=viewstyle){nav=1,altview=1,"undefined"!=typeof iScroll&&0==RYU.config.nscroll?sh.style.height="auto":sh.style.height="";for(var t=0;t<iscrollers.length;t++)"binder"==iscrollers[t][0]&&null!=iscrollers[t][1]&&onRebind(iscrollers[t][1]);for(a=0;a<pagecount;a++){for(var t=0;t<iscrollers.length;t++)iscrollers[t][0]=="page"+a&&null!=iscrollers[t][1]&&(iscrollers[t][1].destroy(),iscrollers[t][1]=null);column[a].setAttribute("style",""),column[a].style.display="block","ontouchstart"in document.documentElement,"grid"==e&&(shadow[a].style.display="block","undefined"!=typeof IScroll?shadow[a].addEventListener("tap",RYU.clickthumb[a]=function(e){return function(){RYU.tapCheck(this,0,0,e)}}(a),!1):shadow[a].addEventListener(iUp,RYU.clickthumb[a]=function(e){return function(){RYU.tapCheck(this,0,0,e)}}(a),!1)),page[a].setAttribute("style",""),page[a].style[cssTransform]="scaleX(1)",page[a].style.visibility="visible",folio[a].setAttribute("style",""),folio[a].style[cssTransform]="scaleX(1)",folio[a].style.visibility="visible",live[a].style.height="auto"}"grid"==e&&1==pgsize&&(e="grid_tall"),document.getElementById("screen_format").href=""+baseurl+"ryuzine/css/"+e+".css","plain"==e?document.getElementById("this_issue").href=""+baseurl+"ryuzine/css/blank.css":document.getElementById("this_issue").href=""+baseurl+"css/"+mystyles+".css",1==RYU.config.depthfx_depth&&(pagecurves=1,toggleOptSwitch("depthfx_depth",0)),setTimeout(function(){iScrollApply(document.getElementById("binder"),document.getElementById("binder"),"sheet")},50)}else{for(nav=0,altview=0,sh.style.height="",sh.style.overflow="hidden",a=0;a<pagecount;a++)a===current||a===current-1||a===current+1?column[a].style.display="block":column[a].style.display="none",iScrollApply(page[a],live[a]),null!=RYU.clickthumb[a]&&"undefined"!=RYU.clickthumb[a]&&(shadow[a].removeEventListener(eDown,RYU.clickthumb[a],!1),0==RYU.config.pageshadows&&(shadow[a].style.display="none"));document.getElementById("screen_format").href=""+baseurl+"ryuzine/css/"+e+".css",document.getElementById("this_issue").href=""+baseurl+"css/"+mystyles+".css",1==pagecurves&&0==RYU.config.depthfx_depth&&toggleOptSwitch("depthfx_depth",1);for(var t=0;t<iscrollers.length;t++)"binder"==iscrollers[t][0]&&null!=iscrollers[t][1]&&(iscrollers[t][1].destroy(),iscrollers[t][1]=null);sh.setAttribute("style",""),setTimeout(function(){bookBinder()},2e3)}}function writeHelp(){if("ontouchstart"in document.documentElement&&"webOS"!=RYU.device.OS){var e="ontouchstart";0==RYU.config.zoompan&&(RYU.config.card[12][2]="RYU.guidedHelp(14);RYU.togglePanel('bmark_panel');",RYU.config.card[13][2]="",RYU.config.card[14][1]="RYU.guidedHelp(12);")}else{var e="onmousedown";RYU.config.card[12][2]="RYU.guidedHelp(14);RYU.togglePanel('bmark_panel');",RYU.config.card[13][2]="",RYU.config.card[14][1]="RYU.guidedHelp(12);"}var t=document.getElementById("help_box"),n="";1==RYU.config.pgslider&&(RYU.config.card[3][2]="RYU.guidedHelp(4);",RYU.config.card[4][1]="RYU.guidedHelp(3);",RYU.config.card[4][2]="RYU.guidedHelp(5);",RYU.config.card[5][1]="RYU.guidedHelp(4);"),W=window.innerWidth,W>=480?(0==RYU.config.pgslider?(RYU.config.card[2][2]="RYU.guidedHelp(4);RYU.controlsToggle(0);RYU.togglePanel('toc_panel');",RYU.config.card[4][1]="RYU.guidedHelp(2);RYU.togglePanel('toc_panel');"):(RYU.config.card[2][2]="RYU.guidedHelp(4);RYU.controlsToggle(0);",RYU.config.card[4][1]="RYU.guidedHelp(2);"),RYU.config.card[3][2]=""):(RYU.config.card[1][2]="RYU.guidedHelp(3);",RYU.config.card[2][2]="",RYU.config.card[3][1]="RYU.guidedHelp(1);");for(var o=0;o<card.length;o++)n=n+'<div id="card'+o+'" class="help_card">\n<p class="l10n">'+card[o][0]+'</p>\n<div class="help_buttons">\n',n=0==o?n+'<div class="left" '+e+'="'+card[o][1]+'">X</div>\n<div class="right l10n" '+e+'="'+card[o][2]+'">Next</div>\n<div class="playall l10n"'+e+'="RYU.playHelp(0);">Play All</div>\n':o==card.length-1?n+'<div class="left" '+e+'="'+card[o][1]+'">&lt;</div>\n<div class="right" '+e+'="'+card[o][2]+'">X</div>\n':n+'<div class="left" '+e+'="'+card[o][1]+'">&lt;</div>\n<div class="right" '+e+'="'+card[o][2]+'">&gt;</div>\n',n+="</div>\n</div>";t.innerHTML=n}function helpPlay(e){RYU.togglePanel("opt_panel"),1==e?("navbars_hide"==document.getElementById("controlbox0").className&&RYU.controlsToggle(1),document.getElementById("helper").style.display="block",setTimeout(function(){
document.getElementById("helper").className="helper_on card0"},100)):("navbars_hide"==document.getElementById("controlbox0").className&&RYU.controlsToggle(1),"controlset control_in"!=document.getElementById("controlset0").className&&(document.getElementById("controlset0").className="controlset control_in",document.getElementById("controlset1").className="controlset control_deck",document.getElementById("controlset2").className="controlset control_deck"),document.getElementById("helper").className="helper_off",setTimeout(function(){document.getElementById("helper").style.display="none"},1200))}function guidedHelp(e,t){1==t?writeHelp():document.getElementById("helper").className="helper_on card"+e}function playHelp(e){if(0==e)var t=0;else var t=5e3;var n=t;e<card.length?(""!=card[e][2]?(guidedHelp(e),setTimeout(""+card[e][2],t),n=t):n=0,e+=1,setTimeout(function(){playHelp(e)},n)):e=null}function controlSlide(e,t,n){e=0==e?"nav":"control",n>0?(document.getElementById(e+"set"+(t+1)).className=e+"set "+e+"_deck",document.getElementById(e+"set"+t).className=e+"set "+e+"_in"):(document.getElementById(e+"set"+t).className=e+"set "+e+"_in",t>0&&(document.getElementById(e+"set"+(t-1)).className=e+"set "+e+"_out"))}function controlsDelay(e){clearTimeout(hidecontrols),hidecontrols=setTimeout("RYU.controlsToggle("+e+")",500)}function controlsToggle(e){(1==RYU.config.autohide||1==e)&&(1==ctog?(document.getElementById("controlbox0").className="navbars_hide",document.getElementById("controlbox1").className="tabbars_hide",document.getElementById("controltoggle").className="button down",document.getElementById("binder").className="binder_unshift",ctog=0):(document.getElementById("controlbox0").className="navbars_show",document.getElementById("controlbox1").className="tabbars_show",document.getElementById("controltoggle").className="button up",document.getElementById("binder").className="binder_shift",ctog=1))}function bannerAd(){1==adbox?(document.getElementById("appbanner").className="appbanner_up",adbox=0):(document.getElementById("appbanner").className="appbanner_dn",adbox=1),0==RYU.config.appbanner&&clearInterval(showad)}function bannerClear(){adbox=1,bannerAd(),clearInterval(showad),isNaN(RYU.config.appbanner)||0==RYU.config.appbanner?clearInterval(showad):showad=setInterval(function(){bannerAd()},1e3*RYU.config.appbanner)}function shadowToggle(e){if(null!=e&&(RYU.config.pageshadows=e),0==RYU.config.pageshadows){var t="none";document.getElementById("opt_pageshadows").className="opt-switch opt-off"}else{var t="block";document.getElementById("opt_pageshadows").className="opt-switch opt-on"}for(var n=0;pagecount>n;n++)document.getElementById("shadow"+n).style.display=t}function dynTheme(){if("Android"==RYU.device.OS)var e=andTheme;else if("iOS"==RYU.device.OS)var e=iOSTheme;else if("BlackBerryOS"==RYU.device.OS)var e=bbtTheme;else if("Windows Phone 7"==RYU.device.OS)var e=wp7Theme;else if("IE"==RYU.device.Platform&&1==RYU.device.metro)if(""!=w8mTheme)var e=w8mTheme;else if(""!=winTheme[0])var e=winTheme;else var e=deskTheme;else if("Windows"==RYU.device.OS&&""!=winTheme)var e=winTheme;else if("Mac"==RYU.device.OS&&""!=macTheme)var e=macTheme;else if("Linux"==RYU.device.OS&&""!=nixTheme)var e=nixTheme;else var e=deskTheme;return e}function themeToggle(e){if(null!=e&&(RYU.config.themeset=e),1==RYU.config.themeset){if(0!=swapThemes){var t=dynTheme();if(""==t||null==t)var n=defaultTheme;else var n=""+baseurl+"ryuzine/theme/"+t+"/theme.css";document.getElementById("ui_theme").href=n}else document.getElementById("ui_theme").href=defaultTheme;document.getElementById("opt_themeset").className="opt-switch opt-on"}else null!=document.getElementById("ui_theme")&&(document.getElementById("ui_theme").href=defaultTheme),document.getElementById("opt_themeset").className="opt-switch opt-off";if(0!=RYU.config.themeset)var o=2;else var o=1;var l=window.setInterval(function(){document.getElementById("tcheck").clientWidth==o&&(pgslideParent(),window.clearInterval(l))},30);setTimeout(function(){pgslideParent(),window.clearInterval(l)},2e3)}function aniToggle(e){null!=e&&(RYU.config.animate=e),0==RYU.config.animate?(document.getElementById("opt_animate").className="opt-switch opt-off",document.getElementById("opt_css3d_label").parentNode.className="opt-disabled",document.getElementById("opt_pageshadows_label").parentNode.className="opt-disabled"):(document.getElementById("opt_animate").className="opt-switch opt-on",document.getElementById("opt_pageshadows_label").parentNode.className="",document.getElementById("opt_css3d_label").parentNode.className="")}function pgslideParent(){document.getElementById("controlbox1").offsetTop<=0?("controlbox1"==document.getElementById("tocslider").parentNode.id&&document.getElementById("controlbox0").appendChild(document.getElementById("tocslider")),"controlbox0"==document.getElementById("appbanner").parentNode.id&&document.getElementById("controlbox1").insertBefore(document.getElementById("appbanner"),document.getElementById("controlbox1").firstChild)):("controlbox0"==document.getElementById("tocslider").parentNode.id&&document.getElementById("controlbox1").insertBefore(document.getElementById("tocslider"),document.getElementById("controlbox1").firstChild),"controlbox1"==document.getElementById("appbanner").parentNode.id&&document.getElementById("controlbox0").insertBefore(document.getElementById("appbanner"),document.getElementById("controlbox0").firstChild))}function pgslideToggle(){"tocsliderOUT"==document.getElementById("tocslider").className?document.getElementById("tocslider").className="tocsliderIN":document.getElementById("tocslider").className="tocsliderOUT"}function sliderToggle(e){null!=e&&(RYU.config.pgslider=e),0==RYU.config.pgslider?(document.getElementById("opt_pgslider").className="opt-switch opt-off",document.getElementById("tocslider").className="tocsliderOUT",document.getElementById("slidetoggle").style.display="none",document.getElementById("tocbutton").style.display="block",controlsToggle(0)):(document.getElementById("opt_pgslider").className="opt-switch opt-on",document.getElementById("slidetoggle").style.display="block",document.getElementById("tocbutton").style.display="none",controlsToggle(1),pgslideToggle())}function css3dToggle(e){null!=e&&(RYU.config.css3d=e),0==RYU.config.css3d?document.getElementById("opt_css3d").className="opt-switch opt-off":document.getElementById("opt_css3d").className="opt-switch opt-on"}function autohideToggle(e){null!=e&&(RYU.config.autohide=e),0==RYU.config.autohide?document.getElementById("opt_autohide").className="opt-switch opt-off":document.getElementById("opt_autohide").className="opt-switch opt-on"}function scrollToggle(e){null!=e&&(RYU.config.nscroll=e),0==RYU.config.nscroll?document.getElementById("opt_nscroll").className="opt-switch opt-off":document.getElementById("opt_nscroll").className="opt-switch opt-on",1==altview&&changeView(Get_Cookie("view")?""+Get_Cookie("view"):view),setTimeout(function(){bookBinder()},1e3)}function iScrollToggle(e){null!=e&&(RYU.config.iscroll_iscroll=e),0==RYU.config.iscroll_iscroll?"undefined"!=typeof iScroll&&(scrollHolder=iScroll,iScroll=void 0,"undefined"!=typeof IScroll&&(IScroll=void 0,eDown=iDown)):"undefined"==typeof iScroll&&void 0!=scrollHolder&&("IScroll"in window?(iScroll=IScroll=scrollHolder,eDown="tap",scrollHolder=void 0):(iScroll=scrollHolder,scrollHolder=void 0)),1==altview&&changeView(Get_Cookie("view")?""+Get_Cookie("view"):view),setTimeout(function(){bookBinder()},1e3)}function zoomToggle(e){if(null!=e&&(RYU.config.zoompan=e),"ontouchstart"in document.documentElement||"Firefox Mobile"==RYU.device.appName||"Windows Phone 7"==RYU.device.OS)if(1==RYU.config.zoompan){if("Windows Phone 7"==RYU.device.OS)var t="width=device-width,height=device-height,";else{var t="";body.removeEventListener("touchstart",RYU.defaultPrevention(),!1),body.addEventListener("touchstart",RYU.restoreDefault(),!1)}if(document.getElementById("zoom").style.display="block",document.getElementById("zooming")){document.getElementsByTagName("head")[0].removeChild(document.getElementById("zooming"));var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale="+maxzoom+",user-scalable=yes"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}else{var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale="+maxzoom+",user-scalable=yes"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}document.getElementById("opt_zoompan").className="opt-switch opt-on",document.getElementById("opt_nscroll_label").parentNode.className=""}else{if("WP7"==RYU.device.Platform)var t="width=device-width,height=device-height,";else{var t="";body.addEventListener("touchstart",RYU.defaultPrevention())}if(document.getElementById("zoom").style.display="none",document.getElementById("zooming")){document.getElementsByTagName("head")[0].removeChild(document.getElementById("zooming"));var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}else{var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}document.getElementById("opt_zoompan").className="opt-switch opt-off",document.getElementById("opt_nscroll_label").parentNode.className="opt-disabled",1==RYU.config.nscroll&&(RYU.config.nscroll=0,scrollToggle(0))}}function getBookmarksList(){if(readBookMarks(),mylist="",null!=bookmarks)for(var e=0;bookmarks>e;e++){if(thismark=bookmarkList[e],thismark=thismark.split("#",2),thismark=thismark[1],1==simulated)var t="javascript:";else var t="#"+thismark;mylist=mylist+'<li class="list_up"><a href="'+t+'">'+_lc("Page")+" "+thismark+'</a>  </li><div class="button type2 right"><p><span class="symbol"></span><span class="label l10n">Delete</span></p></div>'}for(var e=0;e<bmarkData.length;e++)mylist=mylist+'<li class="list_up"><a href="javascript:">'+unescape(bmarkData[e][0])+"</a></li><div></div>";document.getElementById("mybookmarks").innerHTML=mylist;for(var n=document.getElementById("mybookmarks").getElementsByTagName("li").length,e=0;n>e;e++){if(e<n-bmarkData.length){var o=bookmarkList[e];o=o.split("#",2),o=o[1]}else var l=-1*(n-bmarkData.length-e),o=bmarkData[l][1];"ontouchend"in document.documentElement&&"webOS"!=RYU.device.OS?"undefined"!=typeof IScroll?(document.getElementById("mybookmarks").getElementsByTagName("li")[e].addEventListener("tap",function(e){return function(){RYU.swapList(this,0,e)}}(o),!1),document.getElementById("mybookmarks").getElementsByTagName("div")[e].addEventListener("tap",function(e){return function(){RYU.unMark(e)}}(e),!1)):(document.getElementById("mybookmarks").getElementsByTagName("li")[e].addEventListener("touchend",function(e){return function(){RYU.tapCheck(this,0,e)}}(o),!1),document.getElementById("mybookmarks").getElementsByTagName("div")[e].addEventListener("touchend",function(e){return function(){RYU.unMark(e)}}(e),!1)):"undefined"==typeof iScroll?(document.getElementById("mybookmarks").getElementsByTagName("li")[e].addEventListener("mouseup",function(e){return function(){RYU.tapCheck(this,0,e)}}(o),!1),document.getElementById("mybookmarks").getElementsByTagName("div")[e].addEventListener("mouseup",function(e){return function(){RYU.unMark(e)}}(e),!1)):(("Firefox"==RYU.device.Platform||"IE"==RYU.device.Platform)&&(document.getElementById("mybookmarks").getElementsByTagName("li")[e].addEventListener("click",function(e){return function(){RYU.tapCheck(this,0,e)}}(o),!1),document.getElementById("mybookmarks").getElementsByTagName("div")[e].addEventListener("click",function(e){return function(){RYU.unMark(e)}}(e),!1)),"undefined"!=typeof IScroll?(document.getElementById("mybookmarks").getElementsByTagName("li")[e].addEventListener("tap",function(e){return function(){RYU.swapList(this,0,e)}}(o),!1),document.getElementById("mybookmarks").getElementsByTagName("div")[e].addEventListener("tap",function(e){return function(){RYU.unMark(e)}}(e),!1)):(document.getElementById("mybookmarks").getElementsByTagName("li")[e].addEventListener("mouseup",function(e){return function(){RYU.tapCheck(this,0,e)}}(o),!1),document.getElementById("mybookmarks").getElementsByTagName("div")[e].addEventListener("mouseup",function(e){return function(){RYU.unMark(e)}}(e),!1)))}}function readBookMarks(){if(Get_Cookie("bookmarks")){bookmarks=Get_Cookie("bookmarks");for(var e=0;bookmarks>e;e++)bookmarkList[e]=Get_Cookie("bookmarkList["+e+"]")}else bookmarks=null}function writeBookMarks(){Delete_Cookie("bookmarks");for(var e=0;bookmarks>e;e++)Delete_Cookie("bookmarkList["+e+"]");bookmarks=bookmarkList.length,Set_Cookie("bookmarks",bookmarks);for(var e=0;bookmarks>e;e++)Set_Cookie("bookmarkList["+e+"]",""+bookmarkList[e]);getBookmarksList()}function bookMark(){var e=confirm(RYU._lc("Add Bookmark for Page")+" "+current+"?");1==e&&(bookmarks=bookmarkList.length,bookmarkList[bookmarks]=""+window.location.href.split("#",1)+"#"+current,writeBookMarks(),onRebind(bmarkscroll))}function removeMarkfromIndex(e,t){e.splice(t,1)}function unMark(e){if(null==e&&(bookmarkList.length>0?e=bookmarkList.length-1:alert(RYU._lc("Bookmark list is empty"))),null!=e){var t=bookmarkList[e];t=t.split("#",2),t=t[1];var n=confirm(RYU._lc("Confirm Bookmark Deletion for Page")+" "+t+"?");1==n&&(removeMarkfromIndex(bookmarkList,e),writeBookMarks(),onRebind(bmarkscroll))}}function Get_Cookie(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return null;if(-1==t)return null;var o=document.cookie.indexOf(";",n);return-1==o&&(o=document.cookie.length),unescape(document.cookie.substring(n,o))}function Set_Cookie(e,t,n,o,l,a){n="Sun, 01-Jan-2040 00:00:01 GMT",document.cookie=e+"="+escape(t)+(n?";expires="+n:"")+(o?";path="+o:"")+(l?";domain="+l:"")+(a?";secure":"")}function Delete_Cookie(e,t,n){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-70 00:00:01 GMT")}function storeMasterCookie(){Get_Cookie("MasterCookie")||Set_Cookie("MasterCookie","MasterCookie")}function storeIntelligentCookie(e,t){if(Get_Cookie("MasterCookie")){var n=Get_Cookie(e);if(!n||n!=t){Set_Cookie(e,t,expires_date);var n=Get_Cookie(e);n&&n==t||Delete_Cookie("MasterCookie")}}}function slideFlip(){flipTo(slidePg)}function slideSync(e){document.getElementById("tocslider_button").style.left=pageStop[e]+"px",document.getElementById("tocslider_button").getElementsByTagName("p")[0].innerHTML=e,document.getElementById("tocslider_track").style[cssBackgroundSize]=""+pageStop[e]+"px 100%","right"==binding?(0==e?next.className="button type1 right firstnav":"button type1 right firstnav"==next.className&&(next.className="button type1 right"),e==pagecount-1?back.className="button type1 left lastnav":"button type1 left lastnav"==back.className&&(back.className="button type1 left")):(0==e?back.className="button type1 left firstnav":"button type1 left firstnav"==back.className&&(back.className="button type1 left"),e==pagecount-1?next.className="button type1 right lastnav":"button type1 right lastnav"==next.className&&(next.className="button type1 right"))}function trackPos(e){for(var t=e.offsetLeft,n=0;pagecount+1>n;n++)t>=pageStop[n]&&t<pageStop[n+1]&&(e.getElementsByTagName("p")[0].innerHTML=n,slidePg=n)}function slideStart(e){var t,n;slideObj=document.getElementById("tocslider_button"),slideTrx=document.getElementById("tocslider"),window.attachEvent?(t=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,n=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop):window.addEventListener&&(t=e.clientX+window.scrollX,n=e.clientY+window.scrollY),slideObj.cursorStartX=t,slideObj.elStartLeft=parseInt(slideObj.style.left,10),slideObj.elStartTop=parseInt(slideObj.style.top,10),isNaN(slideObj.elStartLeft)&&(slideObj.elStartLeft=0),isNaN(slideObj.elStartTop)&&(slideObj.elStartTop=0),window.attachEvent?(document.attachEvent("onmousemove",slideGo),document.attachEvent("onmouseup",slideStop),window.event.cancelBubble=!0,window.event.returnValue=!1):window.addEventListener&&(document.addEventListener("mousemove",slideGo,!0),document.addEventListener("mouseup",slideStop,!0),e.preventDefault())}function slideGo(e){var t;window.attachEvent?t=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft:window.addEventListener&&(t=e.clientX+window.scrollX);var n=slideTrx.offsetLeft,o=slideTrx.offsetLeft+slideTrx.offsetWidth;t>=n&&o>=t&&(window.attachEvent?(slideObj.style.left=slideObj.elStartLeft+t-slideObj.cursorStartX+"px",window.event.cancelBubble=!0,window.event.returnValue=!1):window.addEventListener&&(slideObj.style.left=slideObj.elStartLeft+t-slideObj.cursorStartX+"px",slideObj.offsetLeft<0&&(slideObj.style.left="0px"),slideObj.offsetLeft>slideTrx.offsetWidth-slideObj.offsetWidth&&(slideObj.style.left=slideTrx.offsetWidth-slideObj.offsetWidth+"px"),e.preventDefault()),trackPos(slideObj))}function slideStop(e){window.detachEvent?(document.detachEvent("onmousemove",slideGo),document.detachEvent("onmouseup",slideStop)):window.removeEventListener&&(document.removeEventListener("mousemove",slideGo,!0),document.removeEventListener("mouseup",slideStop,!0))}function touchSlideStop(){document.getElementById("tocslider_button").removeEventListener("touchmove",RYU.touchSlideGo,!1),slideFlip()}var _lc=function(e){return e.toString(),e},pagecount=2,current=0,version="1.0",folio=[],page=[],header=[],back=[],next=[],live=[],livescroll=[],tocscroll=null,bmarkscroll=null,optscroll=null,aboutscroll=null,sheetscroll=null,scrollHolder,column=[],footer=[],marginL=[],marginR=[],bmarkData=[],pagetimer=[],config=void 0,autoflip=0,nav=0;altview=0;var view="ryuzine",clickthumb=[],p_toggle=0,W=null,H=null,inputMethod="mousedown",pagecurves=0,zoomed=0,bookmarks=0,bookmarkList=[],mark=null,mystyles="",defaultTheme="",adjW,stpW,slidePg=0,pageStop=[],viewani=0,p=0,x=1,z=0,events=0,prevW=0,prevH=0,aCheck=null,ctog=1,adbox=0,showad="",hidecontrols=null,slidecontrols=null,upboxtimer=null,paneltimer=null,splashoff=null,splashout=null,shadow=[],splashload=null,handle=null,adtrigger=null,bod={},sh={},up_box={},font_opt={},color_opt={},toc_slide={},toc_list={},opt_slide={},opt_list={},toc_button={},bmark_slide={},bmark_text={},help_button={},view_opt={},controls={},slide_box={},light_box={},lightshade={},sH={},hH={},hM={},fH={},fM={},tM={},nH={},cH={},bm={},hide_dialogs=[];window.console||(window.console={}),window.console.log&&0!=DEBUG||(window.console.log=function(){});var cssTransitionsSupported=!1,cssTransform=getsupportedprop(["transform","MozTransform","WebkitTransform","msTransform","OTransform"]),cssTransitionDelay=getsupportedprop(["transitionDelay","MozTransitionDelay","WebkitTransitionDelay","msTransitionDelay","OTransitionDelay"]),cssTransitionDuration=getsupportedprop(["transitionDuration","MozTransitionDuration","WebkitTransitionDuration","msTransitionDuration","OTransitionDuration"]),css3borderRadius=getsupportedprop(["borderRadius","MozBorderRadius","WebkitBorderRadius"]),css3dCapable=getsupportedprop(["perspective","MozPerspective","WebkitPerspective","msPerspective","OPerspective"]),nativeScroll=getsupportedprop(["overflowScrolling","WebkitOverflowScrolling"]),cssBackgroundSize=getsupportedprop(["backgroundSize","WebkitBackgroundSize","MozBackgroundSize","msBackgroundSize","OBackgroundSize"]);if(storeMasterCookie(),storeIntelligentCookie("test","cookie value"),"undefined"!=typeof RYU.php)var php=RYU.php;if(void 0!=php)var baseurl=php.baseurl;else var baseurl="";if("undefined"!=typeof RYU.config){var binding=RYU.config.binding||"left",pgsize=RYU.config.pgsize||0;RYU.config.zoompan=RYU.config.zoompan||0;var maxzoom=RYU.config.maxzoom||5;RYU.config.pgslider=RYU.config.pgslider||0;var viewani=RYU.config.viewani||1,splashad=RYU.config.splashad||0,box_ad=RYU.config.boxad||0;RYU.config.iscroll_iscroll=0;for(var AddOns=RYU.config.AddOns||[],helpcards=14,card=[],c=0;helpcards+1>c;c++)card[c]=[];card[0][0]="RYUZINE HELP<br />Step through cards with bottom buttons or click Play All.",card[0][1]="RYU.helpPlay(0);",card[0][2]="RYU.guidedHelp(1);RYU.flipTo(1);",card[1][0]="Swipe left/right to flip pages on touch-enabled devices.",card[1][1]="RYU.guidedHelp(0);RYU.flipTo(0);",card[1][2]="RYU.guidedHelp(2);",card[2][0]="Tap outer margins to flip pages back and forth.  Desktops can also use arrow keys.",card[2][1]="RYU.guidedHelp(1);",card[2][2]="RYU.guidedHelp(3);",card[3][0]="Phones in portrait mode can use navigation bar buttons.",card[3][1]="RYU.guidedHelp(2);",card[3][2]="RYU.guidedHelp(4);RYU.controlsToggle(0);RYU.togglePanel('toc_panel');",card[4][0]="Quickly flip to any page from any page.",card[4][1]="RYU.guidedHelp(3);RYU.togglePanel('toc_panel');",card[4][2]="RYU.guidedHelp(5);RYU.togglePanel('font_panel');",card[5][0]="Font size can be adjusted up/down to your preference",card[5][1]="RYU.guidedHelp(3);",card[5][2]="RYU.guidedHelp(6);RYU.colorText();setTimeout('RYU.colorText(1)',1000);setTimeout('RYU.colorText(2)',3000);setTimeout('RYU.colorText(0)',5000);",card[6][0]="Page color scheme can be changed for easier reading.",card[6][1]="RYU.guidedHelp(5);RYU.colorText();",card[6][2]="RYU.guidedHelp(7);RYU.togglePanel('views_panel');RYU.colorText(0);",card[7][0]="Alternative Views change how pages are displayed.",card[7][1]="RYU.guidedHelp(6);RYU.togglePanel('font_panel');RYU.colorText();",card[7][2]="RYU.guidedHelp(8);RYU.togglePanel('opt_panel');",card[8][0]="Options Panel offers additional user preferences (stored in cookie file).",card[8][1]="RYU.guidedHelp(7);RYU.togglePanel('views_panel');",card[8][2]="RYU.guidedHelp(9);RYU.togglePanel('share_panel');",card[9][0]="Share panel allows sharing via e-mail or social networks (depending on widget).",card[9][1]="RYU.guidedHelp(8);RYU.togglePanel('opt_panel');",card[9][2]="RYU.guidedHelp(10);RYU.togglePanel('share_panel');",card[10][0]="Hide the User Interface for an unobstructed view.",card[10][1]="RYU.guidedHelp(9);RYU.togglePanel('share_panel');",card[10][2]="RYU.guidedHelp(11);RYU.controlsToggle(1);",card[11][0]="Press upper corner or CTRL+Insert to open the In-App Bookmarks Panel",card[11][1]="RYU.guidedHelp(10);RYU.controlsToggle(1);RYU.togglePanel(3);",card[11][2]="RYU.guidedHelp(12);RYU.togglePanel('bmark_panel');",card[12][0]="Add or Delete bookmarks for this issue (stored in browser cookie).",card[12][1]="RYU.guidedHelp(11);RYU.togglePanel('bmark_panel');",card[12][2]="RYU.guidedHelp(13);RYU.togglePanel('bmark_panel');",card[13][0]="Zoom &#38; Pan button toggles zooming and dragging while zoomed (only on touch devices).",card[13][1]="RYU.guidedHelp(12);RYU.togglePanel('bmark_panel');",card[13][2]="RYU.guidedHelp(14);RYU.controlSlide(1,1,0);",card[14][0]="Some Ryuzine features are not available on all platforms or in all browsers.",card[14][1]="RYU.guidedHelp(13);",card[14][2]="RYU.helpPlay(0);RYU.flipTo(0);",RYU.config.card=card;var swapThemes=RYU.config.swapThemes||0;RYU.config.pageshadows;var deskTheme=RYU.config.deskTheme||"",winTheme=RYU.config.winTheme||"",macTheme=RYU.config.macTheme||"",nixTheme=RYU.config.nixTheme||"",iOSTheme=RYU.config.iOSTheme||"",andTheme=RYU.config.andTheme||"",bbtTheme=RYU.config.bbtTheme||"",wp7Theme=RYU.config.wp7Theme||"",wp8Theme=RYU.config.wp8Theme||"",bmarkData=RYU.config.bmarkData||[["Ryuzine User Forums","http://www.ryumaru.com/forum/"],["Ryu Maru Website","http://www.ryumaru.com"]]}else alert(RYU._lc("App Error: Loading configuration variables failed."));if(top===self)var simulated=!1;else if("preview"==window.name&&"Firefox"==RYU.device.Platform)var simulated=!0;else var simulated=!1;Get_Cookie("pgslider")&&(RYU.config.pgslider=Get_Cookie("pgslider")),"Windows Phone 7"==RYU.device.OS&&(RYU.config.pgslider=0),Get_Cookie("autohide")?RYU.config.autohide=Get_Cookie("autohide"):RYU.config.autohide=0,Get_Cookie("pageshadows")?RYU.config.pageshadows=Get_Cookie("pageshadows"):RYU.config.pageshadows=1,"Android"==RYU.device.OS&&(RYU.config.pageshadows=0),Get_Cookie("animate")?RYU.config.animate=Get_Cookie("animate"):RYU.config.animate=1,(("Safari"==RYU.device.Platform||"iOS"==RYU.device.OS)&&RYU.device.v<4||"Opera"==RYU.device.Platform&&RYU.device.bv<15)&&(RYU.config.animate=0),Get_Cookie("nscroll")?RYU.config.nscroll=Get_Cookie("nscroll"):"iOS"==RYU.device.OS&&void 0!=nativeScroll||"Android"==RYU.device.OS&&RYU.device.v>=3?RYU.config.nscroll=1:RYU.config.nscroll=0,Get_Cookie("zoompan")&&(RYU.config.zoompan=Get_Cookie("zoompan"),0==RYU.config.zoompan&&(RYU.config.nscroll=0)),"Android"==RYU.device.OS&&(RYU.config.zoompan=1),Get_Cookie("css3d")?RYU.config.css3d=Get_Cookie("css3d"):RYU.config.css3d=0,"Android"==RYU.device.OS&&RYU.device.v<3&&(RYU.config.css3d=0,css3dCapable=null,cssTransform=void 0),Get_Cookie("nags")?RYU.config.nags=1*Get_Cookie("nags"):RYU.config.nags=0,Get_Cookie("hide_dialogs")&&(hide_dialogs=[Get_Cookie("hide_dialogs")]);var viewstyle="ryuzine_"+binding+"bound";if(2==pgsize)var fillstyle="_fill";else if(1==pgsize)var fillstyle="_tall";else var fillstyle="";viewstyle+=fillstyle;var addon={};addon.register=function(e){if(!e.name)return void loadAddOns(addon_loaded+1);if("register"!=e.name){for(var t=0,n=0;n<Object.keys(addon).length;n++)Object.keys(addon)[n]==e.name&&(t=1);0==t&&(addon[""+e.name]={});for(var o=0,n=0;n<AddOns.length;n++)e.name==AddOns[n]&&(e.index=n,o=n);for(var l=0;l<Object.keys(e).length;l++)addon[""+e.name][""+Object.keys(e)[l]]=e[""+Object.keys(e)[l]];if(e=addon[""+e.name],e.info||(e.info={name:""+e.name,version:"0",author:"Unknown",url:"",license:"Unknown",about:"There is no description for this add-on."}),e.requires)for(var a=0;a<e.requires.length;a++){var i=e.requires[a].split("?"),s=0;if("ryuzinereader"==i[0]&&document.getElementById("ryuzinereader")||"ryuzinerack"==i[0]&&document.getElementById("ryuzinerack")||"ryuzinerack"==i[0]&&document.getElementById("ryuzinerack")||"ryuzinewriter"==i[0]&&document.getElementById("ryuzinewriter"))s=1,null!=i[1]&&parseFloat(version)<parseFloat(i[1])&&(s=0);else if("!ryuzinereader"==i[0]&&document.getElementById("ryuzinereader")||"!ryuzinepress"==i[0]&&document.getElementById("ryuzinepress")||"!ryuzinerack"==i[0]&&document.getElementById("ryuzinerack")||"!ryuzinewriter"==i[0]&&document.getElementById("ryuzinewriter"))s=2;else if(i[0].match(/!/gi)){s=1,i[0]=i[0].split("!")[1];for(var l=0;l<Object.keys(addon).length;l++)i[0]==Object.keys(addon)[l].toString()&&(s=3,null!=i[1]&&parseFloat(addon[""+Object.keys(addon)[l]].info.version)<parseFloat(i[1])&&(s=1))}else for(var l=0;l<Object.keys(addon).length;l++)i[0]==Object.keys(addon)[l].toString()&&(s=1,null!=i[1]&&parseFloat(addon[""+Object.keys(addon)[l]].info.version)<parseFloat(i[1])&&(s=0));if(1!=s){for(var l=Object.keys(e).length-1;l>-1;l--)"name"==Object.keys(e)[l]||"index"==Object.keys(e)[l]||"info"==Object.keys(e)[l]||"requires"==Object.keys(e)[l]||delete e[""+Object.keys(e)[l]];e.disabled=1}}if(e.inject){if(e.inject.js&&Array.isArray(e.inject.js))for(var d=e.inject.js.length-1;d>=0;d--)if(Array.isArray(e.inject.js[d])&&e.inject.js[d].length>0){if(null==e.inject.js[d][1])e.inject.js[d][1]=0;else if((3==e.inject.js[d][1]||4==e.inject.js[d][1])&&null!=e.inject.js[d][3]&&""!=e.inject.js[d][3])for(var i=e.inject.js[d][3].split("?"),s=0,a=0;a<document.getElementsByTagName("script").length;a++){var r=document.getElementsByTagName("script")[a].src.split("/");r=r[r.length-1].split("?"),i[0]==r[0]&&(s=1,null!=i[1]&&parseFloat(r[1])<parseFloat(i[1])&&(s=0))}}else e.inject.js.splice(d,1);if(e.inject.css&&Array.isArray(e.inject.css))for(var c=e.inject.css-1;c>=0;c--)if(Array.isArray(e.inject.css[c])&&e.inject.css[c].length>0){if(null==e.inject.css[c][3])e.inject.css[c][3]=0;else if(null!=e.inject.css[c][3]&&""!=e.inject.css[c][3])for(var i=e.inject.css[c][3].split("?"),s=0,a=0;a<document.getElementsByTagName("link").length;a++){var r=document.getElementsByTagName("link")[a].href.split("/");r=r[r.length-1].split("?"),i[0]==r[0]&&(s=1,null!=i[1]&&parseFloat(r[1])<parseFloat(i[1])&&(s=0))}}else e.inject.css.splice(c,1);addonInjector(e)}if(e.ui){if(e.ui.panels)for(var m=0;m<e.ui.panels.length;m++)addPanel(e.ui.panels[m][0],e.name+"_"+e.ui.panels[m][1],e.ui.panels[m][2],e.ui.panels[m][3],e.ui.panels[m][4]);if(e.ui.dialogs)for(var u=0;u<e.ui.dialogs.length;u++)addDialogBox(e.name+"_"+e.ui.dialogs[u][0],e.ui.dialogs[u][1],e.ui.dialogs[u][2],e.ui.dialogs[u][3],e.ui.dialogs[u][4],e.ui.dialogs[u][5],e.ui.dialogs[u][6]);if(e.ui.controls)for(var p=0;p<e.ui.controls.length;p++)addControl(e.ui.controls[p][0],e.name+"_"+e.ui.controls[p][1],e.ui.controls[p][2],e.ui.controls[p][3],e.ui.controls[p][4],e.ui.controls[p][5],e.ui.controls[p][6],e.ui.controls[p][7])}e.actions&&"function"==typeof e.actions&&e.actions(),loadAddOns(o+1)}};var addon_optData=[],iscrollers=[],optEvent={},regback=addon.register,addon_loaded=null,addon_timer,addPanel=function(e,t,n,o){(""==o||void 0==o)&&(o="left");var l=document.createElement("div");l.id=t+"_panel",(""==e||void 0==e)&&(e="a"),l.className="panel "+e+" "+o+" out";var a=document.createElement("div");a.className="titlebar",paneltitle=document.createElement("h1"),paneltitle.className="title l10n",paneltitle.innerHTML=n||"Custom Panel",panelclose=document.createElement("div"),panelclose.id=t+"_done",panelclose.className="button type2 right done",panelclose.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc("Done")+"</span></p>",panelclose.addEventListener(iDown,function(){RYU.togglePanel(""+t+"_panel")},!1),a.appendChild(paneltitle),a.appendChild(panelclose),l.appendChild(a);var i=document.createElement("div");i.className="area",i.innerHTML='<div class="scrollbox"></div>',l.appendChild(i),document.getElementById("upbox").appendChild(l)},firstclass=0,addControl=function(e,t,n,o,l,a,i,s,d,r){function c(){if(1==insert&&0==firstclass)if(document.getElementById("party3opts"))var e=document.getElementById("party3opts");else{var e=document.createElement("ul");e.id="party3opts",e.className="opts"}else if(1==insert&&1==firstclass)var e=document.getElementById("opts");else if(document.getElementById(i+"_optlist"))var e=document.getElementById(i+"_optlist");else{var e=document.createElement("ul");e.id=i+"_optlist",e.className="opts"}return e}""==i||void 0==i?(i="opt_panel",insert=1):insert=0,"start"!=i||"button3"==e&&"button4"==e||(e="button3"),document.getElementById(""+i).getElementsByClassName("area")[0].getElementsByClassName("scrollbox").length>0?panel=document.getElementById(""+i).getElementsByClassName("area")[0].getElementsByClassName("scrollbox")[0]:panel=document.getElementById(""+i).getElementsByClassName("area")[0],null!=r&&(panel=document.getElementById(""+r),insert=0);var m=addon_optData.length,u=[];switch(addon_optData[m]=[],addon_optData[m][0]=e,addon_optData[m][1]=t,addon_optData[m][2]=n,null==o?addon_optData[m][3]=function(){}:addon_optData[m][3]=o,Array.isArray(l)&&(u=l,l=0),1==a?Get_Cookie(""+t)?l=Get_Cookie(""+t):RYU.config[""+t]?l=RYU.config[""+t]:null==l&&(l=1):a=0,null==l&&(l=1),addon_optData[m][4]=l,addon_optData[m][5]=a,addon_optData[m][6]=i,e){case"button1":case"button2":case"button3":case"button4":switch(e){case"button4":var p="type4";break;case"button3":var p="type3";break;case"button2":var p="type2";break;default:var p="type1"}var g=document.createElement("div");if(g.id=t,g.className="button "+p,g.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc(n)+"</span></p>",
g.addEventListener(eDown,optEvent[""+t]=o,!1),"button1"==e||"button2"==e){var f=t.split("_")[0];if(document.getElementById(""+f+"_buttonbox"))var v=document.getElementById(""+f+"_buttonbox");else{var v=document.createElement("div");v.id=f+"_buttonbox",v.className="buttonbox"}g.className=g.className+" left",v.appendChild(g),el=v}else el=g;break;case"text":var y=document.createElement("p");y.id=t,null!=d?y.className="smallprint "+d:y.className="smallprint",null!=o&&y.addEventListener(eDown,optEvent[""+t]=o,!1),y.innerHTML=n,el=y;break;case"select":case"drop":case"list":case"multi":var h=c(),b=document.createElement("li");b.id=t+"_li",b.className="opt-li";var E=document.createElement("span");E.className="optitem l10n",E.innerHTML=RYU._lc(n),b.appendChild(E);var k=document.createElement("p"),R=document.createElement("select");R.id=t,R.addEventListener("change",o,!1),("list"==e||"multi"==e)&&(R.addEventListener("mousedown",function(){event.stopPropagation()},!1),R.addEventListener("touchstart",function(){event.stopPropagation()},!1),R.className="listbox",R.size="2"),"multi"==e&&R.setAttribute("multiple",!0);for(var T=u[0][1],_=u[0][0],U=0;U<u.length;U++){var Y=document.createElement("option");Y.value=u[U][0],Y.innerHTML=u[U][1],null!=u[U][2]&&0==l&&(Y.setAttribute("selected","true"),T=u[U][1],_=u[U][0]),R.appendChild(Y)}if(0==l&&(l=_),"drop"==e){var w=document.createElement("div");w.className="opt-switch opt-drop opt-off",R.addEventListener("change",function(e){return function(){RYU.setOptGhostList(""+e)}}(t),!1),R.addEventListener("mousedown",function(){event.stopPropagation()},!1),R.addEventListener("touchstart",function(){event.stopPropagation()},!1),w.appendChild(R),k.innerHTML=T,w.appendChild(k),b.appendChild(w)}else b.appendChild(R);h.appendChild(b),el=h;break;case"checkbox":var h=c(),b=document.createElement("li");b.id=t+"_li",b.className="opt-li";var E=document.createElement("span");E.className="optitem l10n",E.innerHTML=RYU._lc(n),b.appendChild(E);var B=document.createElement("input");B.className="opt-switch opt-check opt-off",B.type="checkbox",null!=s&&(B.name=s),Array.isArray(l)||(l="1"==l?[1,1]:[0,0]),B.value=l[0],1==l[1]&&(B.checked=!0),b.appendChild(B),h.appendChild(b),el=h;break;case"radio":var h=c(),b=document.createElement("li");b.id=t+"_li",b.className="opt-li";var E=document.createElement("span");E.className="optitem l10n",E.innerHTML=RYU._lc(n),b.appendChild(E);var I=document.createElement("input");I.className="opt-switch opt-radio opt-off",I.type="radio",null!=s&&(I.name=s),"1"==l&&(I.checked=!0),b.appendChild(I),h.appendChild(b),el=h;break;case"toggle":var h=c(),b=document.createElement("li");b.id="opt_"+t+"_li",b.className="opt-li";var C=document.createElement("span");if(C.id="opt_"+t+"_label",C.className="optitem l10n",C.innerHTML=RYU._lc(n),1==l)var N="opt-on";else var N="opt-off";var x=document.createElement("div");x.id="opt_"+t,x.className="opt-switch "+N,x.innerHTML='<span class="symbol"></span><span class="label"></span>',x.addEventListener(eDown,optEvent[""+t]=function(e){return function(){RYU.toggleOptSwitch(""+e)}}(t)),b.appendChild(C),b.appendChild(x),h.appendChild(b),el=h}if(1==a&&Set_Cookie(""+addon_optData[m][1],""+l),RYU.config[""+t]=l,1==insert&&0==firstclass&&!document.getElementById("addonheader")){var S=document.createElement("h2");S.id="addonheader",S.className="smallprint l10n",S.innerHTML=RYU._lc("Add-On Settings"),panel.appendChild(S)}panel.appendChild(el);for(var U=0;U<iscrollers.length;U++)onRebind(iscrollers[U][1])},dialogs=[],iClick=iEvent().iClick,iDown=iEvent().iDown,iUp=iEvent().iUp,iMove=iEvent().iMove,iOver=iEvent().iOver,iOut=iEvent().iOut,eDown=iEvent().eDown,init_zine=function(e){if(body=document.getElementsByTagName("body")[0],up_box=document.getElementById("upbox"),font_opt=document.getElementById("font_panel"),color_opt=document.getElementById("colorbox"),opt_slide=document.getElementById("opt_panel"),opt_list=document.getElementById("optlist"),toc_slide=document.getElementById("toc_panel"),toc_list=document.getElementById("toclist"),bmark_slide=document.getElementById("bmark_panel"),bmark_list=document.getElementById("bmarklist"),view_opt=document.getElementById("views_panel"),controls=document.getElementById("tabbar0"),slide_box=document.getElementById("slidebox1"),light_box=document.getElementById("lightbox"),lightshade=document.getElementById("shade"),sh=document.getElementById("sheet"),bm=document.getElementById("bmark"),am=document.getElementById("addmark"),back=document.getElementById("back"),next=document.getElementById("next"),document.getElementById("ui_theme")){var t=window.location.href;t=t.split("#"),t=t[0],defaultTheme=document.getElementById("ui_theme").href==t?""+baseurl+"ryuzine/theme/dark/theme.css":document.getElementById("ui_theme").href.match(/theme/gi)?document.getElementById("ui_theme").href:""+RYU.baseurl+"ryuzine/theme/dark/theme.css"}else 1==swapThemes&&(themeline=document.getElementsByTagName("head")[0].innerHTML,themeline+='\n<link rel="stylesheet" type="text/css" href="" id="ui_theme" />\n',document.getElementsByTagName("head")[0].innerHTML=themeline),defaultTheme=""+RYU.baseurl+"ryuzine/theme/dark/theme.css";0==defaultTheme.length&&0==swapThemes?RYU.config.themeset=0:Get_Cookie("themeset")?RYU.config.themeset=Get_Cookie("themeset"):RYU.config.themeset=1;var n=[[],[],[],[],[],[],[],[],[],[],[],[]];n[0][0]="toggle",n[0][1]="pgslider",n[0][2]="Pages Slider",n[0][3]=function(){RYU.sliderToggle()},n[0][4]=RYU.config.pgslider,n[1][0]="toggle",n[1][1]="pageshadows",n[1][2]="Page Shadows",n[1][3]=function(){RYU.shadowToggle()},n[1][4]=RYU.config.pageshadows,n[2][0]="toggle",n[2][1]="css3d",n[2][2]="3D Page Turns",n[2][3]=function(){RYU.css3dToggle()},n[2][4]=RYU.config.css3d,n[3][0]="toggle",n[3][1]="animate",n[3][2]="Page Animations",n[3][3]=function(){RYU.aniToggle()},n[3][4]=RYU.config.animate,n[4][0]="toggle",n[4][1]="nscroll",n[4][2]="Native Scrolling",n[4][3]=function(){RYU.scrollToggle()},n[4][4]=RYU.config.nscroll,n[5][0]="toggle",n[5][1]="zoompan",n[5][2]="Zoom &#38; Pan",n[5][3]=function(){RYU.zoomToggle()},n[5][4]=RYU.config.zoompan,n[6][0]="toggle",n[6][1]="themeset",n[6][2]="Theme UI",n[6][3]=function(){RYU.themeToggle()},n[6][4]=RYU.config.themeset,n[7][0]="toggle",n[7][1]="autohide",n[7][2]="Auto-hide UI",n[7][3]=function(){RYU.autohideToggle()},n[7][4]=RYU.config.autohide,n[8][0]="toggle",n[8][1]="nags",n[8][2]="Show All Dialogs",n[8][3]=function(){},n[8][4]=RYU.config.nags,n[9][0]="text",n[9][1]="optnotice",n[9][2]="Disabling features can improve performance.  Older browsers cannot display some options",n[9][3]=null,n[9][4]=null,n[10][0]="button3",n[10][1]="aboutbutton",n[10][2]="About Ryuzine",n[10][3]=function(){RYU.toggleDialog("about")},n[10][4]=null,n[11][0]="button4",n[11][1]="altoptdone",n[11][2]="Close",n[11][3]=function(){RYU.togglePanel(5)},n[11][4]=null,firstclass=1;for(var o=0;o<n.length;o++){if("toggle"==n[o][0])var l=1;else var l=0;addControl(n[o][0],n[o][1],n[o][2],n[o][3],n[o][4],l)}firstclass=0,loadAddOns(),"undefined"!=typeof IScroll&&(iScroll=IScroll),Get_Cookie("iscroll_iscroll")?RYU.config.iscroll_iscroll=Get_Cookie("iscroll_iscroll"):"undefined"!=typeof iScroll?RYU.config.iscroll_iscroll=1:RYU.config.iscroll_iscroll=0,"undefined"!=typeof document.getElementById("this_issue")?(mystyles=document.getElementById("this_issue").href.split(".css")[0],mystyles=mystyles.split("/"),mystyles=mystyles[mystyles.length-1]):mystyles="blank",document.getElementById("screen_format").href=""+baseurl+"ryuzine/css/"+viewstyle+".css",writeHelp(),pagecount=null==e?2:e;document.onkeyup=function(e){e=e||window.event,keyNav(e)},window.addEventListener("orientationchange",function(){window.orientation&&RYU.bookBinder()},!1),window.addEventListener("resize",function(){RYU.bookBinder()},!1),document.getElementById("under_glass").addEventListener(iDown,function(){RYU.togglePanel("all")},!1),document.getElementById("fontbutton").addEventListener(iDown,function(){RYU.togglePanel(1)},!1),document.getElementById("fontdone").addEventListener(iDown,function(){RYU.togglePanel(1)},!1),document.getElementById("fontup").addEventListener(iDown,function(){RYU.resizeText(1)},!1),document.getElementById("fontdn").addEventListener(iDown,function(){RYU.resizeText(-1)},!1),document.getElementById("colors").addEventListener(iDown,function(){RYU.colorText()},!1),document.getElementById("color_basic").addEventListener(iDown,function(){RYU.colorText(0)},!1),document.getElementById("color_sepia").addEventListener(iDown,function(e){e=window.event?event:e,e.shiftKey?RYU.colorText(3):RYU.colorText(1)},!1),document.getElementById("color_black").addEventListener(iDown,function(e){e=window.event?event:e,e.shiftKey?RYU.colorText(4):RYU.colorText(2)},!1),document.getElementById("slidetoggle").addEventListener(iDown,function(){RYU.pgslideToggle()},!1),document.getElementById("tocbutton").addEventListener(iDown,function(){RYU.togglePanel(2)},!1),document.getElementById("tocdone").addEventListener(iDown,function(){RYU.togglePanel(2)},!1),document.getElementById("viewsbutton").addEventListener(iDown,function(){RYU.togglePanel(3)},!1),document.getElementById("viewsdone").addEventListener(iDown,function(){RYU.togglePanel(3)},!1),document.getElementById("viewbutton0").addEventListener(iDown,function(){RYU.gridBox("continuous"),RYU.togglePanel(3)},!1),void 0!=cssTransform?document.getElementById("viewbutton1").addEventListener(iDown,function(){RYU.gridBox("grid"),RYU.togglePanel(3)},!1):(document.getElementById("viewbutton1").style.display="none",document.getElementById("viewbutton3").className="button type3",document.getElementById("viewbutton4").style.display="block"),document.getElementById("viewbutton2").addEventListener(iDown,function(){RYU.gridBox("plain"),RYU.togglePanel(3)},!1),document.getElementById("viewbutton3").addEventListener(iDown,function(){RYU.gridBox("ryuzine"),RYU.togglePanel(3)},!1),document.getElementById("viewbutton4").addEventListener(iDown,function(){RYU.togglePanel(3),RYU.controlsDelay(0)},!1),document.getElementById("helpbutton").addEventListener(iDown,function(){RYU.helpPlay(1)},!1),document.getElementById("bmarkdone").addEventListener(iDown,function(){RYU.togglePanel(0)},!1),document.getElementById("sharebutton").addEventListener(iDown,function(){RYU.togglePanel(4)},!1),document.getElementById("optbutton").addEventListener(iDown,function(){RYU.togglePanel(5)},!1),document.getElementById("optdone").addEventListener(iDown,function(){RYU.togglePanel(5)},!1),"Windows Phone 7"==RYU.device.OS&&(document.getElementById("opt_pgslider_li").style.display="none"),void 0!=cssTransform&&0==nav?void 0!=cssTransitionDelay?("Android"==RYU.device.OS&&(document.getElementById("opt_pageshadows_li").style.display="none"),"Android"==RYU.device.OS&&RYU.device.v<3&&(document.getelementById("opt_css3d_li").style.display="none"),void 0!=nativeScroll&&null!=nativeScroll||"Android"==RYU.device.OS&&RYU.device.v>=3||(document.getElementById("opt_nscroll_li").style.display="none",RYU.config.nscroll=0),void 0!=css3dCapable&&null!=css3dCapable||(document.getElementById("opt_css3d_li").style.display="none")):(document.getElementById("opt_pageshadows_li").style.display="none",document.getElementById("opt_css3d_li").style.display="none",document.getElementById("opt_animate_li").style.display="none",document.getElementById("opt_nscroll_li").style.display="none"):(document.getElementById("opt_pageshadows_li").style.display="none",document.getElementById("opt_css3d_li").style.display="none",document.getElementById("opt_animate_li").style.display="none",document.getElementById("opt_nscroll_li").style.display="none",RYU.config.pageshadow=0,RYU.config.animate=0),"ontouchstart"in document.documentElement||"Windows Phone 7"==RYU.device.OS?"webOS"==RYU.device.OS&&(RYU.config.zoompan=0):document.getElementById("opt_zoompan_li").style.display="none",0==swapThemes||1==swapThemes&&""==dynTheme()?(RYU.config.themeset=0,document.getElementById("opt_themeset_label").parentNode.className="opt-disabled"):document.getElementById("opt_themeset_label").parentNode.className="",themeToggle(RYU.config.themeset),shadowToggle(RYU.config.pageshadows),aniToggle(RYU.config.animate),css3dToggle(RYU.config.css3d),zoomToggle(RYU.config.zoompan),scrollToggle(RYU.config.nscroll),iScrollToggle(RYU.config.iscroll_iscroll),sliderToggle(RYU.config.pgslider),autohideToggle(RYU.config.autohide),document.getElementById("controltoggle").addEventListener(iDown,function(){RYU.controlsToggle(1)},!1),document.getElementById("zoom").addEventListener(iDown,function(){RYU.zoomMode()},!1),bm.addEventListener(iDown,function(){RYU.togglePanel(0)},!1),am.addEventListener(iDown,function(){RYU.bookMark()},!1),"right"==binding?(back.addEventListener(iDown,function(){RYU.flip(1)},!1),back.getElementsByClassName("label")[0].innerHTML="Next",next.addEventListener(iDown,function(){RYU.flip(0)},!1),next.getElementsByClassName("label")[0].innerHTML="Back",next.className="button type1 right firstnav"):(back.className="button type1 left firstnav",back.addEventListener(iDown,function(){RYU.flip(0)},!1),next.addEventListener(iDown,function(){RYU.flip(1)},!1));for(var a=0;pagecount>a;a++)folio[a]=document.getElementById("folio"+a),shadow[a]=document.getElementById("shadow"+a),0==RYU.config.pageshadow&&(shadow[a].style.display="none"),page[a]=document.getElementById("page"+a),live[a]=document.getElementById("live"+a),column[a]=document.getElementById("column"+a),footer[a]=document.getElementById("footer"+a),marginL[a]=document.getElementById("marginleft-"+a),marginR[a]=document.getElementById("marginright-"+a),"right"==binding?(marginL[a].addEventListener(iDown,function(){RYU.flip(1)},!1),marginR[a].addEventListener(iDown,function(){RYU.flip(0)},!1)):(marginL[a].addEventListener(iDown,function(){RYU.flip(0)},!1),marginR[a].addEventListener(iDown,function(){RYU.flip(1)},!1));if("right"==binding){var i=document.getElementById("plankL").innerHTML,s=document.getElementById("plankR").innerHTML;document.getElementById("plankL").innerHTML=s,document.getElementById("plankR").innerHTML=i}if(p=0,x=1,z=0,events=0,prevW=0,prevH=0,aCheck=null,0==splashad||document.getElementById("skipad")||(splashad=0),isNaN(RYU.config.appbanner)&&(document.getElementById("appbanner").className="appbanner_dn"),document.getElementById("appbanner").addEventListener(iDown,function(){RYU.restoreDefault(this)},!1),document.getElementById("appbanner").getElementsByClassName("xbox").length>0&&document.getElementById("appbanner").getElementsByClassName("xbox")[0].addEventListener(iDown,function(){RYU.bannerClear()},!1),Get_Cookie("view")&&setTimeout(function(){changeView(""+Get_Cookie("view"))},1e3),"Android"==RYU.device.OS&&RYU.device.v<3&&(document.getElementById("binder").style.position="absolute"),bookBinder(),getBookmarksList(),null!=bookmarks&&0!=bookmarks)if(1==simulated){var d=bookmarkList[bookmarks-1];d=d.split("#"),d=d[1],flipTo(d)}else window.location.href=bookmarkList[bookmarks-1];if(window.location.hash){var d=window.location.hash;d=d.match(/page/g)?d.replace("#page",""):d.replace("#",""),d>=0&&pagecount>d&&flipTo(d)}("Opera"==RYU.device.Platform||"IE"==RYU.device.Platform)&&setTimeout(function(){bookBinder()},1100),RYU.config.lblinks=[],RYU.config.lblinks_listeners=[],RYU.config.preplinks=function(){for(var e=0;e<RYU.config.lblinks.length;e++)RYU.config.lblinks[e].removeEventListener(iDown,RYU.config.lblinks_listeners[e],!1)};for(var r=document.getElementsByTagName("a"),a=0;a<r.length;a++)if("lightbox"==r[a].rel&&r[a].hostname==window.location.host&&r[a].href.match(/#/gi)){RYU.config.lblinks.push(r[a]);var c=r[a].href.split("#")[1];if(r[a].hasAttribute("title"))var m=r[a].title;else var m="Figure "+(RYU.config.lblinks.length-1);if(document.getElementById(""+c)){var u=document.getElementById(""+c).innerHTML;addDialogBox("nolb-"+c,m,u,"",0,0,"nolightbox"),r[a].addEventListener(iDown,RYU.config.lblinks_listeners[RYU.config.lblinks_listeners.length]=function(e){e.preventDefault(),RYU.toggleDialog("nolb-"+c)},!1)}else r[a].addEventListener(iDown,RYU.config.lblinks_listeners[RYU.config.lblinks_listeners.length]=function(e){e.preventDefault()},!1)}else"lightbox"==r[a].rel&&(RYU.config.lblinks.push(r[a]),r[a].setAttribute("target","_blank"),r[a].addEventListener(iDown,RYU.config.lblinks_listeners[RYU.config.lblinks_listeners.length]=function(){"ontouchstart"in document.documentElement&&(alert("opening in new window"),window.open(this.href,"_blank"))},!1))},aboutDialog=function(){var e='	<div style="height:72px;overflow:hidden;text-align:center;margin-bottom:5px;">		<a href="http://www.ryumaru.com" style="border: none;text-decoration:none;color: #000;">			<div id="aboutlogo"></div>		</a>	</div>	<p style="text-align:center;"><small><strong>Ryuzine Reader</strong><br/>	'+RYU._lc("Version")+" "+version+"<br/></p>	<p>"+RYU._lc("Ryuzine is a javascript application designed for publishing content to the web and mobile devices in a familiar magazine-style format.")+" "+RYU._lc("Publishing Kit available at")+' <a href="http://www.ryumaru.com/products/ryuzine" target="_blank">www.ryumaru.com</a>.</p>	<p>'+RYU._lc("Ryuzine was created by K.M. Hansen, original code 2011-2015 All Rights Reserved.")+"</p>	<p>"+RYU._lc("Read the license and a list of project contributors:")+' <a href="'+baseurl+'ryuzine/LICENSE.txt" target="_blank">'+RYU._lc("LICENSE FILE")+'</a>, <a href="'+baseurl+'ryuzine/AUTHORS.txt" target="blank">'+RYU._lc("CONTRIBUTORS")+"</a></p>	<p>"+RYU._lc("Ryuzine and the Ryuzine logos are trademarks of K.M. Hansen and Ryu Maru. All rights reserved. The names of other companies, products, services and content distributed via the Ryuzine publishing platform are the property of their respective owners.")+"</p><hr/>	<h2>Add-ons</h2>";for(var t in addon)addon.hasOwnProperty(t)&&"register"!=t&&void 0!=typeof addon[""+t].name&&(e+="<p>"+RYU._lc("Name")+": "+addon[""+t].info.name+"<br/>"+RYU._lc("Version")+" :"+addon[""+t].info.version+"<br/>"+RYU._lc("Author")+": "+addon[""+t].info.author+"<br/>"+RYU._lc("Website")+': <a href="'+addon[""+t].info.url+'" target="_blank">'+addon[""+t].info.url+"</a><br/>"+RYU._lc("License")+": "+addon[""+t].info.license+"<br/>"+RYU._lc("Description")+": "+addon[""+t].info.about+"<hr/>");addDialogBox("about",RYU._lc("About Ryuzine"),e),toggleDialog("about"),aboutDialog=function(){toggleDialog("about")}},splashAction=function(){if(0!=RYU.config.themeset)var e=2;else var e=1;null==handle&&(handle=window.setInterval(function(){document.getElementById("tcheck").clientWidth==e&&1==document.getElementById("vcheck").clientWidth&&(clearSplash(splashad),window.clearInterval(handle),handle=null)},30)),splashcatch=setTimeout(function(){clearSplash(splashad),window.clearInterval(handle),handle=null,clearTimeout(splashcatch),splashcatch=null},2e3),splashAction=function(){}},adclock=null,boxad_timer=null,time=splashad,triggerAds=function(){if(time=box_ad,clearInterval(adtrigger),adtrigger=null,(box_ad>0||isNaN(box_ad))&&document.getElementById("myboxad")&&(addDialogBox("boxad",_lc("Advertisement"),document.getElementById("myboxad").innerHTML),document.getElementsByTagName("body")[0].removeChild(document.getElementById("myboxad")),toggleDialog("boxad"),resizeBoxAd(),!isNaN(box_ad))){var e=document.createElement("p");if(e.id="boxad_timer",10>time)var t="0";else var t="";e.innerHTML="0:"+t+time,document.getElementById("boxad").getElementsByTagName("div")[0].appendChild(e),adclock=setInterval(function(){if(document.getElementById("boxad_timer")){if(10>time)var e="0";else var e="";document.getElementById("boxad_timer").innerHTML="0:"+e+time,time>0?time--:time=0}else clearInterval(adclock),clearTimeout(boxad_timer),adclock=null,boxad_timer=null},1e3),boxad_timer=setTimeout(function(){RYU.toggleDialog("boxad"),clearInterval(adclock),adclock=null},1e3*box_ad)}isNaN(RYU.config.appbanner)||0==RYU.config.appbanner||(showad=setInterval(function(){bannerAd()},1e3*RYU.config.appbanner)),triggerAds=function(){}},touchmoveCheck=0,scrollIt=function(e){n=event.currentTarget,updown=event.touches[0].pageY,sideside=event.touches[0].pageX,n.addEventListener("touchmove",RYU.touchScroll,!1),touchmoveCheck=0},touchScroll=function(e){var t=event.currentTarget,n=event.touches[0],o=updown-n.pageY,l=n.pageX;touchmoveCheck=1,(void 0==nativeScroll||void 0!=nativeScroll&&0==RYU.config.zoompan||0==RYU.config.nscroll)&&"undefined"==typeof iScroll&&("Android"==RYU.device.OS&&RYU.device.v>=3||event.preventDefault(),t.scrollTop=t.scrollTop+o,updown=n.pageY),0==nav&&swipeGesture(l,sideside),sideside=n.pageX,n=0},swipeGesture=function(e,t){swipeGesture="right"==binding?function(e,t){e>t&&e-t>90&&current>=0&&pagecount-2>=current&&(q=current+1,setTimeout(function(){turnPage(q,1)},500)),t>e&&t-e>90&&current>0&&pagecount>=current&&(W>H&&current!=pagecount-1?q=current-2:q=current-1,setTimeout(function(){turnPage(q,0)},500))}:function(e,t){t>e&&t-e>90&&current>=0&&pagecount-2>=current&&(q=current+1,setTimeout(function(){turnPage(q,1)},500)),e>t&&e-t>90&&current>0&&pagecount>current&&(W>H&&current!=pagecount-1?q=current-2:q=current-1,setTimeout(function(){turnPage(q,0)},500))}},mScrollItOn=function(e,t){if("undefined"==typeof iScroll){var n=e.currentTarget?e.currentTarget:document.getElementById("live"+t);n.style.overflow="auto",n.style.overflowX="hidden"}},mScrollItOff=function(e,t){if("undefined"==typeof iScroll){var n=e.currentTarget?e.currentTarget:document.getElementById("live"+t);n.style.overflow="hidden"}},blocking_elements=[];RYU.config.block_keynav=function(e){null!=e&&-1===blocking_elements.indexOf(e)&&blocking_elements.push(e);for(var t=!1,n=0;n<blocking_elements.length;n++)document.getElementById(""+blocking_elements[n])&&"none"!=document.getElementById(""+blocking_elements[n]).style.display&&""!=document.getElementById(""+blocking_elements[n]).style.display&&(t=!0);return t};var panelopen=[];panelopen[0]=0,panelopen[1]=0,panelopen[2]=0,panelopen[3]=0,panelopen[4]=0,panelopen[5]=0;var today=new Date,zero_date=new Date(0,0,0);today.setTime(today.getTime()-zero_date.getTime());var todays_date=new Date(today.getYear()+1,today.getMonth(),today.getDate(),0,0,0),expires_date=new Date(todays_date.getTime()+48384e5);"Windows Phone 7"==RYU.device.OS&&RYU.device.bv>=9&&document.write('<meta name="viewport" id="zooming" content="width=device-width,height=device-height,initial-scale=1.0,minimum-scale=1.0,maximum-scale=10.0,user-scalable=yes" />');var touchSlideStart=function(e){var t=document.getElementById("tocslider_button");event.touches[0].pageX;t.addEventListener("touchmove",RYU.touchSlideGo,!1)},touchSlideGo=function(e){var t=document.getElementById("tocslider_button");prevX=e.touches[0].pageX,e.preventDefault();var n=e.touches[0].pageX;n<prevX-adjW?prevX=n:n>prevX+adjW&&(prevX=n),e.preventDefault();var o=n-document.getElementById("tocslider").offsetLeft-t.offsetWidth/2;t.style.left=o+"px",trackPos(t),touched=1},is_supported=function(){var e=1;if("Opera"==RYU.device.Platform&&RYU.device.bv<=12&&RYU.device.bv<15&&document.getElementsByClassName){var t=confirm("Your browser has known problems running the Ryuzine webapp.\nWould you prefer to see a plain HTML page instead?");1==t&&(e=0)}return Object.prototype&&Object.keys&&Array.isArray&&Array.prototype.indexOf&&document.getElementsByClassName||(alert("Your browser is not compatible with this version of Ryuzine.\nYou will see the plain HTML page without any Ryuzine features."),e=0),0==e?!1:!0};return{_lc:_lc,baseurl:baseurl,device:RYU.device,config:RYU.config,init_zine:init_zine,bookBinder:bookBinder,flipTo:flipTo,flip:flip,bannerAd:bannerAd,bannerClear:bannerClear,clearSplash:clearSplash,resizeText:resizeText,colorText:colorText,tapCheck:tapCheck,scrollIt:scrollIt,touchScroll:touchScroll,mScrollItOn:mScrollItOn,mScrollItOff:mScrollItOff,keyNav:keyNav,swapList:swapList,changeView:changeView,clickthumb:clickthumb,gridBox:gridBox,toggleDialog:toggleDialog,hideDialog:hideDialog,togglePanel:togglePanel,toggleOptSwitch:toggleOptSwitch,zoomMode:zoomMode,zoomToggle:zoomToggle,bookMark:bookMark,unMark:unMark,getBookmarksList:getBookmarksList,defaultPrevention:defaultPrevention,preventDefault:preventDefault,restoreDefault:restoreDefault,enableDefault:enableDefault,touchmoveSet:function(e){touchmoveCheck=e},touchmoveCheck:touchmoveCheck,pgslideToggle:pgslideToggle,slideStart:slideStart,slideFlip:slideFlip,touchSlideStart:touchSlideStart,touchSlideStop:touchSlideStop,touchSlideGo:touchSlideGo,setOptGhostList:setOptGhostList,hasClass:hasClass,addClass:addClass,removeClass:removeClass,is_supported:is_supported,helpPlay:helpPlay,playHelp:playHelp,guidedHelp:guidedHelp,controlsToggle:controlsToggle,controlsDelay:controlsDelay,controlSlide:controlSlide,shadowToggle:shadowToggle,sliderToggle:sliderToggle,autohideToggle:autohideToggle,themeToggle:themeToggle,aniToggle:aniToggle,css3dToggle:css3dToggle,scrollToggle:scrollToggle,iScrollToggle:iScrollToggle,iScrollApply:iScrollApply,onDemand:onDemand,php:php,addon:addon,iEvent:iEvent,init:RYU.reWrite}}(),window.onload=RYU.reWrite=function(){function e(){o=!1;var e=document.createElement("div");if(e.style.position="absolute",document.getElementsByTagName("body")[0].appendChild(e),e.currentStyle)var t=e.currentStyle.position;else if(window.getComputedStyle)var t=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");o="static"==t?!0:!1,document.getElementsByTagName("body")[0].removeChild(e)}function t(e){return e%2==0}function n(e){return e=e.replace(/(^|[-\u2014\s(\["])'/g,"$1"),e=e.replace(/'/g,""),e=e.replace(/(^|[-\u2014\([\u2018\s])"/g,"$1"),e=e.replace(/"/g,""),e=e.replace(/--/g,"")}String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}();var o=!1,l=document,a=0;if(top===self)var i=!1;else{if("sourceframe"==window.name)var i=!0;else var i=!1;if("preview"==window.name)var s=!0;else var s=!1}if(RYU.is_supported()||(a=1),(1==i||1==a)&&(document.getElementById("screen_format").href="css/blank.css",document.getElementById("lightbox_format")&&(document.getElementById("lightbox_format").href="css/blank.css"),document.getElementById("ui_format").href="css/blank.css",document.getElementById("ui_theme")&&(document.getElementById("ui_theme").href="css/blank.css"),document.getElementById("curves")&&(document.getElementById("curves").href="css/blank.css"),a=1),e(),1==o){var d=l.createElement("div"),r="<p><strong>App Error:</strong> Stylesheets</span> are disabled!</p><p>You are viewing this as a plain web page.  Enable stylesheet support and reload to view it as a web application.</p>";d.innerHTML=r,l.getElementById("splashblock").appendChild(d)}else if(0==a){var c=document.getElementsByTagName("a"),m=window.location.href;m=m.split("#");for(var u=0;u<c.length;u++)if(c[u].href.match(/#/gi)&&("new_link"!=c[u].parentNode.className||"lightbox"!=c[u].rel)){var p=c[u].href.split("#");if(p[0]===m[0]&&p[1].match(/page/gi)){var g=p[1].split("page");isNaN(g[1])||(c[u].href="javascript:RYU.flipTo("+g[1]+");")}}if(l.getElementById("summary")){for(var f=l.getElementById("summary"),v=f.getElementsByTagName("img"),y="",h=v.length-1;h>-1;h--)0==h&&(y=v.src),f.removeChild(v[h]);for(var b=f.getElementsByTagName("br").length-1;b>-1;b--)f.removeChild(f.getElementsByTagName("br")[b]);f=escape(f.innerHTML.replace(/\"/gi,"'").replace(/&nbsp;/gi,"").trim())}else var y="",f="A Ryuzine webapp publication";if(l.getElementById("offline"))var E=l.getElementById("offline").innerHTML;else var E="no";if((""==E||null==E||void 0==E)&&(E="no"),l.getElementById("splash_screen"))var k=l.getElementById("splash_screen").innerHTML;else var k="";k=k.replace(/^\s+|\s+$/gm,"");var R="";if(l.getElementById("splash_title")){var T=l.getElementById("splash_title");T.getElementsByTagName("img").length>0&&(R=T.getElementsByTagName("img")[0].src);var _=escape(T.innerHTML);l.getElementById("splash_title").parentNode.removeChild(l.getElementById("splash_title"))}else if(l.getElementsByTagName("title").length>0)var _=escape(l.getElementsByTagName("title")[0].innerHTML);else var _="";if(_=n(_),""==_||""!=R)if(l.getElementsByTagName("title").length>0){var U=escape(l.getElementsByTagName("title")[0].innerHTML);U=n(U)}else var U="Ryuzine";else var U=_;if(l.getElementById("app_logo"))if(l.getElementById("app_logo").getElementsByTagName("img").length>0)var Y='<img src="'+l.getElementById("app_logo").getElementsByTagName("img")[0].src+'" id="app_logo" alt="'+U+'"/>';else var Y="";else if(""!=R)var Y='<img src="'+R+'" id="app_logo" alt="'+U+'"/>';else var Y="";var w=0,B=null;if(l.getElementById("social_widget")?(B=l.getElementById("social_widget").innerHTML,w=B.length>0?1:0):w=0,"no"!=E)var I=E;else var I=window.location;if(l.getElementById("copy_right"))var C=l.getElementById("copy_right").innerHTML;else C="";if(l.getElementById("appbanner"))var N=l.getElementById("appbanner").innerHTML;else var N="";if(""==N.trim()?RYU.config.appbanner=0:N+='\n<p class="xbox"><span class="l10n">Advertisement</span> <span><span class="l10n">Close</span> [X]</span></p></div>',l.getElementById("boxad"))var x=l.getElementById("boxad").innerHTML;else var x="";var S=l.getElementsByClassName("light_boxed");if(l.getElementById("welcome_sign"))var D=l.getElementById("welcome_sign").innerHTML;else var D="";for(var L=l.getElementsByClassName("section_head"),H=[],O=0;O<L.length;O++)if(H[O]=L[O].innerHTML,""==H[O]||null==H[O]){if(0==O)var z="Front Cover";else if(O==L.length-1)var z="Back Cover";else var z="Page "+O;H[O]=z}var A=l.getElementsByClassName("page_box");if(t(A.length)){var P=A.length;L=L.length}else{var P=A.length+1;L=L.length+1}for(var M=[],j=[],O=0;P>O;O++)if(void 0==A[O])H[O]="Page "+O,M[O]="<p>This Page Was Intentionally Left Blank</p>",j[O]="col1";else if(M[O]=A[O].innerHTML,A[O].className.length>8){var W=A[O].className.split(" ");j[O]=W[1]}else j[O]="col1";if(l.getElementById("exit_sign"))var G=l.getElementById("exit_sign").innerHTML;else var G="";var X=document.createElement("div");if(X.setAttribute("id","splash"),X.className="splash_in",""!=k)var F='<p id="skipad" class="l10n" onclick="RYU.clearSplash(0);">Skip Ad</p>'+k;else var F='<div id="splashblock">\n<p class="splash-title">'+unescape(_)+'</p>\n<p class="splash-port">ryuzine<span>&trade;</span></p>\n</div>\n<p class="splash-fineprint">'+C+"</p>\n";X.innerHTML='<div id="splashcell">'+F+"</div>";var V=document.createElement("div");V.setAttribute("id","binder"),V.className="binder_shift";for(var q='<div id="sheet"><div id="gridbox" class="grid_in">\n<div id="plankL" class="plank left">'+D+"</div>\n",O=0;P>O;O++){var K="",$='<div class="bmark"></div>',Z="",J="";if(t(O))var Q="recto",ee="shift";else var Q="verso",ee="";0==O?(J="covercorners-front",K='style="z-index:'+P+';"',$=""):O==P-1?(J="covercorners-back",$=""):1==O?Z="covershadow-front":O==P-2&&(Z="covershadow-back"),q=q+'<div id="folio'+O+'" class="folio '+Q+" "+ee+" "+J+'" '+K+'>\n<div id="shadow'+O+'" class="shadow"></div>\n<div id="page'+O+'" class="page '+Q+" "+Z+'">\n<a id="'+O+'"></a>\n<div id="header'+O+'" class="header">\n<h1>'+H[O]+'</h1>\n</div>\n<div id="live'+O+'" class="live entry-content">\n<div id="column'+O+'" class="columns '+j[O]+'">'+M[O]+'</div>\n</div>\n<div id="footer'+O+'" class="footer">\n<p>'+unescape(U)+' <span class="pgnum"><span class="rdash"> -</span> '+O+' <span class="ldash">-</span> </span></p>\n</div>\n<div id="marginleft-'+O+'" class="flipleft flipper"></div>\n<div id="marginright-'+O+'" class="flipright flipper"></div>\n'+$+"\n</div></div>\n"}if(document.getElementById("curves"))if(""!=document.getElementById("curves").href.location)var te="spine_curve";else var te="spine_fill";else var te="spine_fill";q=q+'<div id="bmark"></div><div id="spineshadow" class="'+te+'"><div class="spine_top spine"></div><div class="spine_bot spine"></div></div>\n',q=q+'<div id="plankR" class="plank right">'+G+"</div>\n</div>\n</div>\n",V.innerHTML=q;
var ne=document.createElement("div");ne.setAttribute("id","controlbox0"),ne.className="navbars_show";var oe='<div id="zoom" class="button"><p><span class="symbol"></span><span class="label"></span></p></div>\n<div id="appbanner" class="appbanner_up">\n<div class="appbannerbox">\n'+N+'</div>\n</div>\n<div id="navbar0" class="navbars">\n';""!=Y?appTitle=Y:unescape(U).length>22?(appTitle=unescape(U),appTitle=appTitle.trim().substring(0,25),appTitle=appTitle.substr(0,Math.min(appTitle.length,appTitle.lastIndexOf(" "))),appTitle+="...",appTitle=escape(appTitle)):appTitle=U,oe=oe+'<div id="navset0" class="navset nav_in">\n	<div class="titlebar"><h1 class="title">'+unescape(appTitle)+'</h1></div>\n	<div id="back" class="button type1 left"><p><span class="symbol"></span><span class="label l10n">Back</span></p></div>\n	<div id="next" class="button type1 right"><p><span class="symbol"></span><span class="label l10n">Next</span></p></div>\n</div>\n',ne.innerHTML=oe;var le=document.createElement("div");le.setAttribute("id","controlbox1"),le.className="tabbars_show";var ae='<div id="controltoggle" class="button up"><p><span class="symbol"></span><span class="label"></span></p></div>\n<div id="tocslider" class="tocsliderOUT">\n	<div>\n		<div id="tocslider_track"></div>\n		<div id="tocslider_button" ontouchstart="RYU.touchSlideStart(event);" ontouchend="RYU.touchSlideStop();" onmousedown="RYU.slideStart(event);" onmouseup="RYU.slideFlip();"><p>0</p></div>\n	</div>\n</div>\n<div id="tabbar0" class="tabbars">\n<div id="controlset0" class="controlset control_in">\n<div class="button type1 quarter left" id="slidetoggle"><p><span class="symbol"></span><span class="label l10n">Slider</span></p></div>\n<div class="button type1 quarter left" id="tocbutton"><p><span class="symbol"></span><span class="label l10n">Contents</span></p></div>\n<div class="button type1 quarter left" id="fontbutton"><p><span class="symbol"></span><span class="label l10n">Font</span></p></div>\n<div class="button type1 quarter center" id="sharebutton"><p><span class="symbol"></span><span class="label l10n">Share</span></p></div>\n<div class="button type1 quarter right" id="optbutton"><p><span class="symbol"></span><span class="label l10n">Options</span></p></div>\n<div class="button type1 quarter right" id="viewsbutton"><p><span class="symbol"></span><span class="label l10n">Views</span></p></div>\n</div>\n<!--// End of controls //-->\n</div>\n';le.innerHTML=ae;var ie=document.createElement("div");ie.setAttribute("id","upbox");var se=document.createElement("div");se.id="under_glass";var de=document.createElement("div");de.setAttribute("id","bmark_panel"),de.className="panel style1 right out";var re='<div class="titlebar" id="bmark_titlebar">\n<h1 id="bmarktitle" class="title l10n">Bookmarks</h1>\n<div id="addmark" class="button type2 left"><p><span class="symbol"></span><span class="label l10n">Add</span></p>\n</div>\n<div id="bmarkdone" class="button type2 done right"><p><span class="symbol"></span><span class="label l10n">Done</span></p>\n</div>\n</div>\n<div id="bmarklist" class="area">\n<div id="bmarkfile" class="scrollbox">\n<ul id="mybookmarks">\n</ul>\n</div>\n</div>\n<div class="pointer"></div>\n';de.innerHTML=re;var ce=document.createElement("div");ce.setAttribute("id","font_panel"),ce.className="panel style2 out";var me='<div class="titlebar" id="font_titlebar">\n<h1 id="fonttitle" class="title l10n">Fonts</h1>\n<div id="fontdone" class="button type2 right">\n<p><span class="symbol"></span><span class="label l10n">Done</span></p>\n</div>\n</div>\n<div class="area">\n<div id="colorbox" class="colorbox_OUT">\n	<div id="color_basic" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Normal</span></p></div>\n	<div id="color_sepia" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Sepia</span></p></div>\n	<div id="color_black" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Black</span></p></div>\n</div>\n<div id="fontbox">\n	<div id="fontdn" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Decrease</span></p></div>\n	<div id="colors" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Colors</span></p></div>\n	<div id="fontup" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Increase</span></p></div>\n</div>\n</div>\n<div class="pointer"></div>\n';ce.innerHTML=me;var ue=document.createElement("div");ue.setAttribute("id","toc_panel"),ue.className="panel style1 left out";var pe='<div class="titlebar" id="toc_titlebar">\n<h1 id="toctitle" class="title l10n">Contents</h1>\n<div id="tocdone" class="button type2 done left"><p><span class="symbol"></span><span class="label l10n">Done</span></p></div>\n</div>\n<div id="toclist" class="area">\n<div class="scrollbox">\n<ul id="nav">\n';for(O=0;L>O;O++){if(1==s)var p='<span class="label">'+H[O]+"</span>";else var p='<a href="#'+O+'">'+H[O]+"</a>";(""!=H[O]||null!=H[O])&&(pe=pe+'<li class="list_up">'+p+"</li>\n")}pe+='</ul>\n</div>\n</div>\n<div class="pointer"></div>\n',ue.innerHTML=pe;var ge=document.createElement("div");ge.setAttribute("id","views_panel"),ge.className="panel style3 out";var fe='<div class="titlebar" id="views_titlebar">\n<h1 id="viewstitle" class="title l10n">Other Views</h1>\n<div id="viewsdone" class="button type2 done right"><p><span class="symbol"></span><span class="label l10n">Done</span></p></div>\n</div>\n<div class="area">\n<div id="viewbutton0" class="button type3" title="CTRL+L"><p><span class="symbol"></span><span class="label l10n">Continuous</span></p></div>\n<div id="viewbutton1" class="button type3" title="CTRL+G"><p><span class="symbol"></span><span class="label l10n">Grid View</span></p></div>\n<div id="viewbutton2" class="button type3" title="CTRL+H"><p><span class="symbol"></span><span class="label l10n">HTML Only</span></p></div>\n<div id="viewbutton3" class="button type4" title="CTRL+M"><p><span class="symbol"></span><span class="label l10n">Magazine</span></p></div>\n<div id="viewbutton4" class="button type4" title="Cancel"><p><span class="symbol"></span><span class="label l10n">Cancel</span></p></div>\n</div>\n<div class="pointer"></div>\n';ge.innerHTML=fe;var ve=document.createElement("div");ve.setAttribute("id","share_panel"),ve.className="panel style3 out";var ye='<div class="area"></div>\n<div class="pointer"></div>';ve.innerHTML=ye;var he=document.createElement("div");he.setAttribute("id","opt_panel"),he.className="panel style1 right out";var be='<div class="titlebar" id="opt_titlebar">\n<h1 id="opttitle" class="title l10n">Options</h1>\n<div class="button type1 quarter left" id="helpbutton"><p><span class="symbol"></span><span class="label l10n">Help</p></div>\n<div id="optdone" class="button type2 done right"><p><span class="symbol"></span><span class="label l10n">Done</span></p></div>\n</div>\n<div id="optlist" class="area">\n	<div class="scrollbox">\n		<ul id="opts" class="opts"></ul>\n	</div>\n</div>\n\n<div class="pointer"></div>\n</div>\n';he.innerHTML=be,ie.appendChild(se),ie.appendChild(de),ie.appendChild(ce),ie.appendChild(ue),ie.appendChild(ge),ie.appendChild(ve),ie.appendChild(he);var Ee=document.createElement("div");Ee.id="lightbox";var ke=document.createElement("div");if(ke.id="shade",Ee.appendChild(ke),null!=document.cloneNode(!0))var l=document.cloneNode(!0);for(O=S.length-1;O>=0;O--)"boxad"!=S[O].id&&Ee.appendChild(S[O]);var Re=document.createElement("div");Re.setAttribute("id","pan"),Re.className="pan_off";var Te=document.createElement("div");Te.setAttribute("id","helper"),Te.className="helper_off",help_html='	<div id="help_guide">\n		<div id="help_arrow"></div>\n	</div>\n	<div id="help_box">\n	</div>\n',Te.innerHTML=help_html;var _e=document.createElement("div");_e.setAttribute("id","loadicon"),""==k&&(_e.className="spinning start");var Ue=document.getElementsByTagName("body")[0];Ue.id="ryuzinereader",Ue.innerHTML="",Ue.appendChild(X),Ue.appendChild(_e),Ue.appendChild(V),Ue.appendChild(ie),Ue.appendChild(Ee),Ue.appendChild(Re),Ue.appendChild(ne),Ue.appendChild(le),Ue.appendChild(Te),1==w?ve.getElementsByClassName("area")[0].innerHTML=B:document.getElementById("socialwidget")||(RYU.config.socialwidget={url:I,title:U,media:y,desc:f},-1===RYU.config.AddOns.indexOf("socialwidget")&&RYU.config.AddOns.push("socialwidget"));var Ye=document.createElement("div");Ye.id="tcheck";var we=document.createElement("div");if(we.id="vcheck",Ue.appendChild(Ye),Ue.appendChild(we),""!=x){var Be=document.createElement("div");Be.id="myboxad",Be.innerHTML=x,Ue.appendChild(Be)}RYU.sourceFile=l,RYU.init_zine(P)}};
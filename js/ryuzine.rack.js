DEBUG=0;var RYU=RYU||{};RYU=function(){function T$(e){return dataSrc.getElementById(e)}function T$$(e,t){return t.getElementsByTagName(e)}function loadAddOns(e){if(clearTimeout(addon_timer),addon.register!=regback&&(addon.register=regback),null==e&&(e=0),e<AddOns.length&&!document.getElementById("AddOn_"+AddOns[e])){if(addon_loaded=e,"register"==AddOns[e]);else{addon[""+AddOns[e]]={},addon[""+AddOns[e]].index=e;var t=document.createElement("script");t.setAttribute("id","AddOn_"+AddOns[e]),t.src=RYU.baseurl+"ryuzine/addons/"+AddOns[e]+"/"+AddOns[e]+".config.js",document.getElementsByTagName("head")[0].appendChild(t)}addon_timer=setTimeout(function(){addon[""+AddOns[e]].name!=AddOns[e]&&loadAddOns(e+1)},1e3)}}function addonInjector(e){for(var t=document.getElementsByTagName("head")[0],n=t.getElementsByTagName("link"),a=[],o=0;o<n.length;o++)"stylesheet"==n[o].getAttribute("rel")&&a.push(n[o]);if(e.inject.js&&e.inject.js.length>0)for(var l=0;l<e.inject.js.length;l++){var i=document.createElement("script");i.src=RYU.baseurl+"ryuzine/addons/"+e.name+"/"+e.inject.js[l][0],null!=e.inject.js[l][2]&&(i.id=e.inject.js[l][2]),1==e.inject.js[l][1]?t.insertBefore(i,a[0]):t.appendChild(i)}if(e.inject.css&&e.inject.css.length>0)for(var o=0;o<e.inject.css.length;o++){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.href=RYU.baseurl+"ryuzine/addons/"+e.name+"/"+e.inject.css[o][0],null!=e.inject.css[o][2]&&(s.id=e.inject.css[o][2]),1==e.inject.css[o][1]?t.insertBefore(s,a[0]):t.appendChild(s)}}function setOptGhostList(e,t){if(isNaN(e))for(var n=0;n<addon_optData.length;n++)addon_optData[n][1]==e&&(e=n);var a=document.getElementById(""+addon_optData[e][1]);1==t?Get_Cookie(""+addon_optData[e][1])?(a.value=Get_Cookie(""+addon_optData[e][1]),RYU.config[""+addon_optData[e][1]]=Get_Cookie(""+addon_optData[e][1])):RYU.config[""+addon_optData[e][1]]&&(a.value=RYU.config[""+addon_optData[e][1]]):RYU.config[""+addon_optData[e][1]]=""+a.value;for(var o=0;e<a.options.length;o++)if(a.options[o].value===a.value){a.selectedIndex=o;break}a.parentNode.getElementsByTagName("p")[0].innerHTML=a.options[a.selectedIndex].text,1==addon_optData[e][5]&&Set_Cookie(""+addon_optData[e][1],""+a.value)}function toggleOptSwitch(i,dir){var poop=i;if(isNaN(i))for(var a=0;a<addon_optData.length;a++)addon_optData[a][1]==i&&(i=a);if(null==dir&&(dir=hasClass(document.getElementById("opt_"+addon_optData[i][1]),"opt-on")?"0":"1"),"0"==dir?(document.getElementById("opt_"+addon_optData[i][1]).className="opt-switch opt-off",1==addon_optData[i][5]&&Set_Cookie(addon_optData[i][1],"0"),RYU.config[""+addon_optData[i][1]]=0,addon_optData[i][4]=0):(document.getElementById("opt_"+addon_optData[i][1]).className="opt-switch opt-on",1==addon_optData[i][5]&&Set_Cookie(addon_optData[i][1],"1"),RYU.config[""+addon_optData[i][1]]=1,addon_optData[i][4]=1),"string"==typeof addon_optData[i][3])var fn=function(){return eval(addon_optData[i][3])}();else addon_optData[i][3]()}function addDialogBox(e,t,n,a,o,l,i){var s=dialogs.length;dialogs[s]=[],dialogs[s][0]=e,dialogs[s][1]=t,dialogs[s][2]=n,dialogs[s][3]=a,dialogs[s][4]=o,dialogs[s][5]=l,dialogs[s][6]=i}function toggleDialog(e){if("all"!=e){for(var t=null,n=0;n<dialogs.length;n++)if(dialogs[n][0]==e)var t=n;if(null==t)return void("about"==e&&aboutDialog());for(var a=!1,o=0;o<hide_dialogs.length;o++)e==hide_dialogs[o]&&(a=!0);if(document.getElementById(""+e))if(hasClass(document.getElementById(""+e),"out")){if("0"==RYU.config.rzw_noobnags&&1==a)return;if(!document.getElementById("shade_box")){var l=document.createElement("div");l.id="shade_box",l.addEventListener(iDown,function(){RYU.toggleDialog(""+e)},!1),document.getElementsByTagName("body")[0].appendChild(l)}addClass(document.getElementById(""+e),"in"),removeClass(document.getElementById(""+e),"out")}else{if("1"==dialogs[t][4])addClass(document.getElementById(""+e),"out"),removeClass(document.getElementById(""+e),"in");else{for(var i=0;i<iscrollers.length;i++)iscrollers[i][0]==e&&null!=iscrollers[i][1]&&(iscrollers[i][1].destroy(),iscrollers[i][1]=null);document.getElementsByTagName("body")[0].removeChild(document.getElementById(""+e))}document.getElementsByTagName("body")[0].removeChild(document.getElementById("shade_box"))}else{if("0"==RYU.config.rzw_noobnags&&1==a)return;if(!document.getElementById("shade_box")){var l=document.createElement("div");l.id="shade_box",l.addEventListener(iDown,function(){RYU.toggleDialog(""+e)},!1),document.getElementsByTagName("body")[0].appendChild(l)}if(null!=dialogs[t][6])var s=" "+dialogs[t][6];else var s="";var d=document.createElement("div");d.id=e,d.className="ryudialog"+s+" in";var r=document.createElement("div");r.className="titlebar";var c=document.createElement("h1");c.className="title",c.innerHTML=RYU._lc(dialogs[t][1]);var m=document.createElement("div");m.className="xdialog button type2 right",m.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc("Close")+"</span></p>",m.addEventListener(iDown,function(){RYU.toggleDialog(""+e)},!1),r.appendChild(c),r.appendChild(m);var p=document.createElement("div");p.className="area";var u=document.createElement("div");if(u.className="scrollbox","string"==typeof dialogs[t][2]&&(u.innerHTML=""+unescape(dialogs[t][2])),p.appendChild(u),d.appendChild(r),d.appendChild(p),null!=dialogs[t][5]&&"0"!=dialogs[t][5]&&""!=dialogs[t][5]&&dialogs[t][3].unshift(["checkbox",e+"_hide","Do not show this again",function(){RYU.hideDialog(this,""+e)}]),null!=dialogs[t][3]&&""!=dialogs[t][3]){p.className="area action";var g=document.createElement("div");if(g.className="actionbar",Array.isArray(dialogs[t][3])){null!=dialogs[t][5]&&"0"!=dialogs[t][5]&&""!=dialogs[t][5]&&dialogs[t][3].length>3&&(dialogs[t][3].length=3),(null==dialogs[t][5]||"0"==dialogs[t][5]||""==dialogs[t][5])&&dialogs[t][3].length>6&&(dialogs[t][3].length=6);for(var v=0;v<dialogs[t][3].length;v++)if("button1"==dialogs[t][3][v][0]||"button2"==dialogs[t][3][v][0]||"checkbox"==dialogs[t][3][v][0]){if(null==dialogs[t][3][v][4])var f="left";else{dialogs[t][3][v][4].match(/left/gi)||dialogs[t][3][v][4].match(/right/gi)||(dialogs[t][3][v][4]="left "+dialogs[t][3][v][4]);var f=dialogs[t][3][v][4]}if("button1"==dialogs[t][3][v][0]||"button2"==dialogs[t][3][v][0]){var h=document.createElement("div");h.id=dialogs[t][3][v][1],h.className="button "+f,h.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc(dialogs[t][3][v][2])+"</span></p>",h.addEventListener(eDown,dialogs[t][3][v][3],!1),g.appendChild(h)}else{var y=document.createElement("div");y.className="hidebox left";var b=document.createElement("input");b.id=dialogs[t][3][v][1],b.type="checkbox",1==a&&b.setAttribute("checked","true"),b.addEventListener(eDown,dialogs[t][3][v][3],!1);var E=document.createElement("span");E.className="label l10n",E.innerHTML=RYU._lc(dialogs[t][3][v][2]),y.appendChild(b),y.appendChild(E),g.appendChild(y)}}}d.appendChild(g)}if(document.getElementsByTagName("body")[0].appendChild(d),Array.isArray(dialogs[t][2]))for(var v=0;v<dialogs[t][2].length;v++)addControl(dialogs[t][2][v][0],dialogs[t][2][v][1],dialogs[t][2][v][2],dialogs[t][2][v][3],dialogs[t][2][v][4],dialogs[t][2][v][5],e,dialogs[t][2][v][7],dialogs[t][2][v][8]);iScrollApply(""+e)}}else for(var T=document.getElementsByClassName("ryudialog"),_=0;_<T.length;_++)hasClass(T[_],"in")&&toggleDialog(""+T[_].id)}function hideDialog(e,t){if("1"==RYU.config.nags&&alert(""+RYU._lc("Hiding dialogs is being overidden, go to OPTIONS > SHOW ALL DIALOGS and turn it OFF to allow hiding")),e.checked)for(var n=hide_dialogs.length-1;n>-1;n--)t==hide_dialogs[n]&&hide_dialogs.splice(n,1);else{for(var a=!1,n=0;n<hide_dialogs.length;n++)t==hide_dialogs[n]&&(a=!0);0==a&&hide_dialogs.push(""+t)}Set_Cookie("hide_dialogs",hide_dialogs)}function isEven(e){return e%2==0}function limitItems(e){sorter.size(e),RYU.config.rackItems=e,RYU.pullNames()}function getsupportedprop(e){for(var t=document.documentElement,n=0;n<e.length;n++)if("string"==typeof t.style[e[n]])return e[n]}function hasClass(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function addClass(e,t){hasClass(e,t)||(e.className+=(e.className?" ":"")+t)}function removeClass(e,t){hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function iEvent(){if("ontouchstart"in document.documentElement&&"webOS"!=RYU.device.OS)var e="touchstart",t="touchstart",n="touchend",a="touchmove",o="touchstart",l="touchend";else var e="click",t="mousedown",n="mouseup",a="mousemove",o="mouseover",l="mouseout";if("undefined"!=typeof IScroll)var i="tap";else var i=t;return{iClick:e,iDown:t,iUp:n,iMove:a,iOver:o,iOut:l,eDown:i}}function defaultPrevention(){"Android"==RYU.device.OS&&window.scrollTo(0,0),preventDefault()}function preventDefault(e){if(null==e)var e=document;e.ontouchstart=function(e){e.elementIsEnabled||e.preventDefault()},e.ontouchmove=function(e){e.elementIsEnabled||e.preventDefault()},e.ontouchend=function(e){e.elementIsEnabled||e.preventDefault()}}function restoreDefault(e){if(null==e)var e=document;e.ontouchstart=function(e){e.elementIsEnabled||(e.elementIsEnabled=!0)},e.ontouchmove=function(e){e.elementIsEnabled||(e.elementIsEnabled=!0)},e.ontouchend=function(e){e.elementIsEnabled||(e.elementIsEnabled=!0)}}function onRebind(e){"undefined"!=typeof iScroll&&null!=e&&(setTimeout(function(){e.refresh()},0),e.scrollTo(0,0))}function toc_addEventListeners(){var e=document.getElementById("nav").innerHTML;document.getElementById("nav").innerHTML="",document.getElementById("nav").innerHTML=e;for(var t=document.getElementById("nav").getElementsByTagName("li"),n=0;n<t.length;n++)"go2list"==t[n].id?"ontouchend"in document.documentElement?t[n].addEventListener("touchend",function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:"rl"})},!1):"undefined"==typeof iScroll?t[n].addEventListener("mouseup",function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:"rl"})},!1):(("Firefox"==RYU.device.Platform||"IE"==RYU.device.Platform)&&t[n].addEventListener("click",function(){return this.getElementsByTagName("a")[0].href="javascript:void(0);",!1},!1),"undefined"!=typeof IScroll?t[n].addEventListener("tap",function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:"rl"})},!1):t[n].addEventListener("mouseup",function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:"rl"})},!1)):t[n].id.match(/change2cat/gi)||("ontouchend"in document.documentElement?"undefined"!=typeof IScroll?t[n].addEventListener("tap",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:e})}}(sort_list[n]),!1):t[n].addEventListener("touchend",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:e})}}(sort_list[n]),!1):"undefined"==typeof iScroll?t[n].addEventListener("mouseup",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:e})}}(sort_list[n]),!1):(("Firefox"==RYU.device.Platform||"IE"==RYU.device.Platform)&&t[n].addEventListener("click",function(e){return this.getElementsByTagName("a")[0].href="#",!1},!1),"undefined"!=typeof IScroll?t[n].addEventListener("tap",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:e})}}(sort_list[n]),!1):t[n].addEventListener("mouseup",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:e})}}(sort_list[n]),!1)));for(var a=0,n=0;n<t.length;n++)t[n].id.match(/change2cat/gi)&&("ontouchend"in document.documentElement?t[n].addEventListener("touchend",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:e})}}(a),!1):"undefined"==typeof iScroll?t[n].addEventListener("mouseup",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:e})}}(a),!1):(("Firefox"==RYU.device.Platform||"IE"==RYU.device.Platform)&&t[n].addEventListener("click",function(){return this.getElementsByTagName("a")[0].href="javascript:void(0);",!1},!1),"undefined"!=typeof IScroll?t[n].addEventListener("tap",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:e})}}(a),!1):t[n].addEventListener("mouseup",function(e){return function(){RYU.tapCheck("list",{element:this,panel:1,sort:0,catalog:e})}}(a),!1)),a++)}function initSorter(){sortInit=function(){function e(e){return e.match(/png|gif|jpg|jpeg|svg+/i)?e.match(/img|src=/i)?!1:!0:!1}function t(e,t,n){var a=dataTbl.getElementsByTagName("tr")[e];if(""==a.getElementsByTagName("td")[7].innerHTML)var o=baseurl+"ryuzine/images/rack/default_thumbnail.jpg";else var o=rackImg();if(m=m+'<div id="promo'+t+'" class="promo '+n+'">\n	<div class="cover cover_in"><img class="thumbnail" src="'+o+a.getElementsByTagName("td")[7].innerHTML+'" /><div class="mylar"></div></div>\n	<div class="description">\n		<h1>'+a.getElementsByTagName("td")[2].innerHTML+"</h1>\n		<h4>"+a.getElementsByTagName("td")[1].innerHTML+'</h4>\n<div class="blurb">'+a.getElementsByTagName("td")[3].innerHTML+"</div>\n",""==a.getElementsByTagName("td")[4].innerHTML)var l="Uncategorized";else var l=a.getElementsByTagName("td")[4].innerHTML;if(""==a.getElementsByTagName("td")[6].innerHTML)var i="Unknown";else var i=a.getElementsByTagName("td")[6].innerHTML;if(m=m+'<p class="meta"><small><span class="catid">'+a.getElementsByTagName("td")[0].innerHTML+" |</span> Category: <a href=\"javascript:RYU.pullNames('"+l+"');\">"+l+"</a> | Media: <a href=\"javascript:RYU.pullNames('"+i+"');\">"+i+'</a></small></p></div>\n<div class="read">\n	<div class="button type2 center" title="'+a.getElementsByTagName("td")[5].innerHTML+'" '+linkOpens+">\n<p>",a.getElementsByTagName("td")[6].innerHTML==mediaType[0][0]||""==a.getElementsByTagName("td")[6].innerHTML)m+=unescape(mediaType[0][1]);else if(a.getElementsByTagName("td")[6].innerHTML==mediaType[1][0])m+=unescape(mediaType[1][1]);else if(a.getElementsByTagName("td")[6].innerHTML==mediaType[2][0])m+=unescape(mediaType[2][1]);else if(a.getElementsByTagName("td")[6].innerHTML==mediaType[3][0])m+=unescape(mediaType[3][1]);else if(a.getElementsByTagName("td")[6].innerHTML==mediaType[4][0])m+=unescape(mediaType[4][1]);else{for(var s=0;s<mediaType.length;s++)if(a.getElementsByTagName("td")[6].innerHTML==mediaType[s][0])var d=s;else var d=0;0!=d?(m+=unescape(mediaType[d][1]),alert("f. "+mediaType[d][1])):m+=a.getElementsByTagName("td")[6].innerHTML}return m+="</p></div></div>\n</div>"}dataSrc=document,dataTbl=document.getElementById("table"),rackdoc=document.getElementsByTagName("body")[0],sorter=new TINY.table.sorter("sorter"),sorter.head="head",sorter.asc="asc",sorter.desc="desc",sorter.even="evenrow",sorter.odd="oddrow",sorter.evensel="evenselected",sorter.oddsel="oddselected",sorter.paginate=!0,sorter.currentid="currentpage",sorter.limitid="pagelimit",sorter.init("table",1),sorter.init("table",1);for(var n=dataTbl.getElementsByTagName("th"),a="",o=0,l=0;o<n.length;o++)"nosort"!=n[o].className&&(sort_list[l]=o,a=a+'<li class="list_up"><a href="#">'+n[o].innerHTML+"</a></li>",l++);if(a=a,document.getElementById("nav"))var i=document.getElementById("nav");else{var i=document.createElement("ul");i.setAttribute("id","nav"),rackdoc.appendChild(i)}i.innerHTML=a;var a=i.getElementsByTagName("li"),s=document.createElement("li");if(s.className="list_up",s.id="go2list",mylist.length>0?s.setAttribute("style","display:block;"):s.setAttribute("style","display:none;"),s.innerHTML='<a href="#" class="l10n">My Reading List</a>',i.appendChild(s),rackData.length>1)for(var d=0;d<rackData.length;d++){var s=document.createElement("li");s.id="change2cat"+d,s.className="list_up",d==catalog?s.innerHTML='<a href="#">&#10095; '+unescape(rackData[d][0])+"</a>":s.innerHTML='<a href="#">'+unescape(rackData[d][0])+"</a>",i.appendChild(s)}var r=dataTbl.getElementsByTagName("tr"),c=[],m="",p=document.getElementById("rackdata").getElementsByTagName("table")[0].getElementsByTagName("td")[1].innerHTML;if(e(p)?(p=p.replace(/^\s*|\s*$/g,""),p='<img src="'+rackImg()+p+'" id="app_logo" alt="Ryuzine Rack"/>',document.getElementById("navset0").getElementsByClassName("title")[0].innerHTML=p):document.getElementById("navset0").getElementsByClassName("title")[0].innerHTML=unescape(RYU.config.applogo),0==maxpromos)RYU.config.showpromos=0,hideRackTop();else{for(var d=1;d<r.length;d++)""!=r[d].getElementsByTagName("td")[8].innerHTML&&c.push(d);if("1"!=c[0]){for(var u=[1],g=0;g<c.length;g++)u.push(c[g]);c=u}c.length%2==0&&(c.length=c.length-1),c.length>maxpromos&&(c.length=maxpromos);for(var g=0;g<c.length;g++){if(0==g)var v="promo_in";else if(g==c.length-1)var v="promo_out";else if(maxpromos>4&&g==c.length-2)var v="promo_wayout";else if(1==g)var v="promo_ondeck";else var v="promo_deck";if("auto"==r[c[g]].getElementsByTagName("td")[8].innerHTML.toLowerCase().trim()||""==r[c[g]].getElementsByTagName("td")[8].innerHTML.trim())t(c[g],g,v);else{var f=r[c[g]].getElementsByTagName("td")[8].innerHTML;if(e(f)){if(f=f.replace(/^\s*|\s*$/g,""),m=m+'<div id="promo'+g+'" class="promo '+v+'"><div></div><div></div><img class="promobanner" src="'+rackImg()+f+'" width="100%" height="auto"><div class="mylar"></div>\n<span class="catid">'+r[c[g]].getElementsByTagName("td")[0].innerHTML+' |</span><div class="read">\n	<div class="button type2 center" title="'+r[c[g]].getElementsByTagName("td")[5].innerHTML+'" '+linkOpens+">\n<p>",r[c[g]].getElementsByTagName("td")[6].innerHTML==mediaType[0][0]||""==r[c[g]].getElementsByTagName("td")[6].innerHTML)m+=unescape(mediaType[0][1]);else if(r[c[g]].getElementsByTagName("td")[6].innerHTML==mediaType[1][0])m+=unescape(mediaType[1][1]);else if(r[c[g]].getElementsByTagName("td")[6].innerHTML==mediaType[2][0])m+=unescape(mediaType[2][1]);else if(r[c[g]].getElementsByTagName("td")[6].innerHTML==mediaType[3][0])m+=unescape(mediaType[3][1]);else if(r[c[g]].getElementsByTagName("td")[6].innerHTML==mediaType[4][0])m+=unescape(mediaType[4][1]);else{for(var h=0;h<mediaType.length;h++)if(r[c[g]].getElementsByTagName("td")[6].innerHTML==mediaType[h][0])var y=h;else var y=0;m+=0!=y?unescape(mediaType[y][1]):r[c[g]].getElementsByTagName("td")[6].innerHTML}m+="</p></div></div>\n</div>"}else m=m+'<div id="promo'+g+'" class="promo '+v+'"><div class="description"><h4>Error 400: Bad Request</h4><p>Catalog file "'+rackData[catalog][1]+'" data error for promo ='+g+".</p><p>Promo image file request in improper format.</p></div></div>"}}if(document.getElementById("racktop"))var b=document.getElementById("racktop");else{var b=document.createElement("div");b.setAttribute("id","racktop"),b.className="show",rackdoc.appendChild(b)}if(c.length<5)if(c.length<3)var m='<div id="carousel" class="noverflow">\n'+m+'</div><div id="promonav_left" class="flipper"></div><div id="promonav_right" class="flipper"></div>\n';else var m='<div id="carousel" class="noverflow">\n'+m+'</div><div id="promonav_left" class="flipleft promonav"></div><div id="promonav_right" class="flipright promonav"></div>\n';else var m='<div id="carousel">\n'+m+'</div>\n<div id="promonav_left" class="flipleft promonav"></div><div id="promonav_right" class="flipright promonav"></div>\n';b.innerHTML=m,document.getElementById("promonav_left").addEventListener(iDown,function(){RYU.carousel(0)},!1),document.getElementById("promonav_right").addEventListener(iDown,function(){RYU.carousel(1)},!1),autopromo>0&&c.length>2&&(promotimer=setInterval(function(){document.getElementById("carousel")?RYU.carousel(1,1):clearInterval(promotimer)},1e3*autopromo))}pullNames()}(),0==newSrc?RYU.init():bookBinder()}function pullNames(e,t){if(null!=e){if(1==filterall||"reading_list"==e)var n=!0;else var n=!1;var a="cover_out";if("Unknown"==e||"Uncategorized"==e){e="";var a="cover_out"}}else var n=!1,a="cover_in";for(var o=dataTbl.getElementsByTagName("tr"),l="",i=1;i<o.length;i++){var s=o[i].getElementsByTagName("td")[0].innerHTML;if(checkList(s))var d=!0;else var d=!1;if(("reading_list"==e&&d||o[i].getElementsByTagName("td")[4].innerHTML==e||o[i].getElementsByTagName("td")[6].innerHTML==e||null==e)&&("none"!=o[i].style.display||1==n)){if(""==o[i].getElementsByTagName("td")[7].innerHTML)var r=baseurl+"ryuzine/images/rack/default_thumbnail.jpg";else var r=rackImg();if(d)var m='<div class="plusbutton lb_minus" on'+iDown+"=\"RYU.unMark('"+s+'\',this);" style="display:block;"></div>\n<div class="plusbutton lightboxbutton" on'+iDown+"=\"RYU.add2List('"+s+'\',this);" style="display:none;"></div>\n',p='<div class="ribbon" on'+iDown+"=\"RYU.pullNames('reading_list');\"></div>\n",u=" marked";else var m='<div class="plusbutton lb_minus" on'+iDown+"=\"RYU.unMark('"+s+'\',this);" style="display:none;"></div>\n<div class="plusbutton lightboxbutton" on'+iDown+"=\"RYU.add2List('"+s+'\',this);" style="display:block;"></div>\n',p='<div class="ribbon" on'+iDown+"=\"RYU.pullNames('reading_list');\"></div>\n",u="";if(l=l+'<div id="slot'+i+'" class="slot">\n<div class="rack_card'+u+'"><div class="cover '+a+'" >\n<img src="'+r+o[i].getElementsByTagName("td")[7].innerHTML+'" class="thumbnail"/>',l+='<div class="mylar" on'+iDown+"=\"RYU.tapCheck('details',{item:'"+i+"'});\"></div>\n",l+=p+'<div class="date">'+m+"<p>"+o[i].getElementsByTagName("td")[1].innerHTML+'</p></div>\n</div>\n	<div class="description">\n		<h1>'+o[i].getElementsByTagName("td")[2].innerHTML+"</h1>\n		<h4>"+o[i].getElementsByTagName("td")[1].innerHTML+'</h4>\n<div class="blurb">'+o[i].getElementsByTagName("td")[3].innerHTML+"</div>",""==o[i].getElementsByTagName("td")[4].innerHTML)var g="Uncategorized";else var g=o[i].getElementsByTagName("td")[4].innerHTML;if(""==o[i].getElementsByTagName("td")[6].innerHTML)var v="Unknown";else var v=o[i].getElementsByTagName("td")[6].innerHTML;if(l=l+'<p class="meta"><small><span class="catid">'+s+" |</span> Category: <a href=\"javascript:RYU.pullNames('"+g+"');\">"+g+"</a> | Media: <a href=\"javascript:RYU.pullNames('"+v+"');\">"+v+'</a><span class="on_reading_list"> | Reading List:<a href="javascript:RYU.pullNames(\'reading_list\');">Show List</a></span></small></p></div>\n<div class="read" >\n	<div class="button type2 center" title="'+o[i].getElementsByTagName("td")[5].innerHTML+'" '+linkOpens+">\n<p>",o[i].getElementsByTagName("td")[6].innerHTML==mediaType[0][0]||""==o[i].getElementsByTagName("td")[6].innerHTML)l+=unescape(mediaType[0][1]);else if(o[i].getElementsByTagName("td")[6].innerHTML==mediaType[1][0])l+=unescape(mediaType[1][1]);else if(o[i].getElementsByTagName("td")[6].innerHTML==mediaType[2][0])l+=unescape(mediaType[2][1]);else if(o[i].getElementsByTagName("td")[6].innerHTML==mediaType[3][0])l+=unescape(mediaType[3][1]);else if(o[i].getElementsByTagName("td")[6].innerHTML==mediaType[4][0])l+=unescape(mediaType[4][1]);else{for(var f=0;f<mediaType.length;f++)if(o[i].getElementsByTagName("td")[6].innerHTML==mediaType[f][0])var h=f;else var h=0;l+=0!=h?unescape(mediaType[h][1]):o[i].getElementsByTagName("td")[6].innerHTML}l+="</p></div></div>\n",l+="</div></div>\n\n"}}if("dropbar_thumbs"==t)if(document.getElementById("dropbar_thumbs")){var y=document.getElementById("dropbar_thumbs");y.innerHTML=l}else;else{for(var b=0;b<iscrollers.length;b++)"binder"==iscrollers[b][0]&&null!=iscrollers[b][1]&&onRebind(iscrollers[b][1]);if(document.getElementById("item_list"))var y=document.getElementById("item_list");else{var y=document.createElement("ul");namelist.setAttribute("id","item_list"),rackdoc.appendChild(y)}y.innerHTML=l}if(null!=RYU.config.filterall){var E=document.getElementsByClassName("cover");for(c=0;c<E.length;c++)E[c].className="cover cover_in"}}function checkList(e){for(var t=0;t<mylist.length;t++)if(catalog==mylist[t][0]&&e==mylist[t][1])return!0}function add2List(e,t,n){if(checkList(e))alert(RYU._lc("This item is already on your reading list."));else{var a=confirm(RYU._lc("Add to Reading List?"));if(1==a){0==mylist.length&&(document.getElementById("go2list").style.display="block");var o=[catalog,e];mylist.push(o),updateReadingList(),null!=t&&("dropbar_current"==t?(document.getElementById("dropbar_current").removeChild(document.getElementById("numark")),refreshDropBar(e,n,1),RYU.changePage("left",1)):(t.parentNode.getElementsByTagName("div")[0].style.display="block",t.style.display="none",t.parentNode.parentNode.parentNode.className="rack_card marked"))}}}function removeMarkfromIndex(e,t){e.splice(t,1)}function unMark(e,t,n){var a=confirm(RYU._lc("Remove from Reading List?"));if(1==a){for(var o=0;o<mylist.length;o++)if(catalog==mylist[o][0]&&e==mylist[o][1])var l=o;if(null==l)return void alert(RYU._lc("App Error: can not find item in reading list"));removeMarkfromIndex(mylist,l),updateReadingList(),null!=t&&("dropbar_current"==t?(document.getElementById("dropbar_current").removeChild(document.getElementById("unmark")),refreshDropBar(e,n,1),RYU.changePage("left",1)):(t.parentNode.getElementsByTagName("div")[1].style.display="block",t.style.display="none",t.parentNode.parentNode.parentNode.className="rack_card"))}}function updateReadingList(){Delete_Cookie("readinglist"),Set_Cookie("readinglist",mylist),0==mylist.length&&(document.getElementById("go2list").style.display="none")}function getReadingListCovers(e){if(linkOpens.match(/onclick/g)||linkOpens.match(/ontouchstart/g)||linkOpens.match(/ontouchend/g)){var t=linkOpens.split('="');t=t[1];var n=e+'="'+t}else var n=linkOpens;for(var a=dataTbl.getElementsByTagName("tr"),o="",l=1;l<a.length;l++){var i=a[l].getElementsByTagName("td")[0].innerHTML;if(checkList(i)){if(""==a[l].getElementsByTagName("td")[7].innerHTML)var s=baseurl+"ryuzine/images/rack/default_thumbnail.jpg";else var s=rackImg()+a[l].getElementsByTagName("td")[7].innerHTML;o=o+'<div class="thumb"><span class="catid">'+i+'</span><div title="'+a[l].getElementsByTagName("td")[5].innerHTML+'" '+n+'><img src="'+s+'"></div></div>',24==l&&(l=a.length)}}return o}function elementSizes(){sH=sh.offsetHeight,hH=document.getElementById("header1").offsetHeight,hM=document.getElementById("header1").offsetTop,fH=document.getElementById("footer1").offsetHeight,nH=document.getElementById("controlbox0").offsetHeight,cH=document.getElementById("controlbox1").offsetHeight,fM=hM,sW=sh.offsetWidth,tM=50}function iScrollApply(e,t,n){if("string"==typeof e){if(!document.getElementById(""+e))return;e=document.getElementById(""+e)}if(null==t&&(t="area"),"string"==typeof t)if(document.getElementById(""+t))t=document.getElementById(""+t);else{if(!(e.getElementsByClassName(""+t).length>0))return;t=e.getElementsByClassName(""+t)[0]}if(n=null==n?t:document.getElementById(""+n)?document.getElementById(""+n):e.getElementsByClassName(""+n).length>0?e.getElmentsByClassName(""+n)[0]:t,n.scrollTop=0,"undefined"!=typeof iScroll&&1==RYU.config.iscroll_iscroll){n.style.overflow="hidden",n.style.height="auto";for(var a=iscrollers.length,o=0,l=0;a>l;l++)iscrollers[l][0]==e.id&&null!=iscrollers[l][1]&&(o=1,onRebind(iscrollers[l][1]));0==o&&(iscrollers[a]=[],iscrollers[a][0]=e.id,void 0==nativeScroll&&"Firefox"!=RYU.device.Platform&&"IE"!=RYU.device.Platform?iscrollers[a][1]=new iScroll(t,{scrollbarClass:"iscrollbar",scrollbars:"custom",mouseWheel:!0,interactiveScrollbars:!0,onBeforeScrollStart:function(){return!1},onScrollMove:function(){touchmoveCheck=1},onBeforeScrollEnd:function(){touchmoveCheck=0},tap:!0}):iscrollers[a][1]=new iScroll(t,{scrollbarClass:"iscrollbar",scrollbars:"custom",mouseWheel:!0,interactiveScrollbars:!0,onScrollMove:function(){touchmoveCheck=1},onBeforeScrollEnd:function(){touchmoveCheck=0},tap:!0}))}else{n.style.height="",1==RYU.config.nscroll&&"iOS"==RYU.device.OS&&void 0!=nativeScroll&&1==RYU.config.zoompan&&0==zoomed||1==RYU.config.nscroll&&"Android"==RYU.device.OS&&RYU.device.v>=3&&1==RYU.config.zoompan||"Windows Phone 7"==RYU.device.OS?(n.style.overflow="auto",n.style.overflowX="hidden",void 0!=nativeScroll&&(n.style[nativeScroll]="touch")):"ontouchstart"in document.documentElement?(n.style.overflow="hidden",n.addEventListener("touchstart",RYU.scrollIt,!1)):(n.style.overflow="auto",n.style.overflowX="hidden");for(var i=0;i<iscrollers.length;i++)null!=iscrollers[i][1]&&(iscrollers[i][1].destroy(),iscrollers[i][1]=null);t.children[0].setAttribute("style","")}}function bookBinder(){"undefined"!=typeof IScroll&&(iScroll=IScroll),("Android"==RYU.device.OS&&RYU.device.v<3||"Safari"==RYU.device.Platform&&RYU.device.v<4||"Windows Phone 7"==RYU.device.OS)&&(iScroll=void 0);for(var e=document.getElementsByClassName("style1"),t=0;t<e.length;t++)iScrollApply(e[t]);iScrollApply(document.getElementById("binder"),document.getElementById("binder"),"sheet"),W=window.innerWidth,H=window.innerHeight,document.getElementById("spineshadow").style.zIndex=pagecount+1,elementSizes(),prevW=W,prevH=H,splashAction(),resizeBoxAd(),"iOS"==RYU.device.OS&&void 0!=nativeScroll&&(up_box.style.display="block",setTimeout(function(){document.getElementById("upbox").style.display="none"},1e3)),toc_addEventListeners()}function resizeBoxAd(){if(document.getElementById("boxad")){var e=document.getElementById("boxad"),t=e.getElementsByClassName("scrollbox")[0];e.style.top="50%",e.style.left="50%",t.offsetHeight+t.parentNode.offsetTop+10<=parseInt(.8*H)?(e.style.height=t.offsetHeight+t.parentNode.offsetTop+10+"px",e.style.marginTop="-"+(t.offsetHeight+t.parentNode.offsetTop+10)/2+"px"):(e.style.height=parseInt(.8*H)+"px",e.style.marginTop="-"+parseInt(.8*H/2)+"px"),e.style.width=parseInt(.8*W)+"px",e.style.marginLeft="-"+parseInt(.8*W/2)+"px"}}function clearSplash(e){null==e?e=0:splashad=e,clearTimeout(splashoff),clearTimeout(splashout),clearTimeout(splashload),clearTimeout(adtrigger),splashoff=null,splashout=null,splashload=null,adtrigger=null;var t=function(){document.getElementById("loadicon").className=""},n=function(){document.getElementById("splash").className="splash_out"},a=function(){document.getElementById("splash").style.display="none"};if(e>0||isNaN(e)){if(isNaN(e)&&(e=15),!document.getElementById("splashad_timer")){var o=document.createElement("p");if(o.id="splashad_timer",10>time)var l="0";else var l="";o.innerHTML="0:"+l+time,document.getElementById("splashcell").appendChild(o),adclock=setInterval(function(){if(document.getElementById("splashad_timer")){if(10>time)var e="0";else var e="";document.getElementById("splashad_timer").innerHTML="0:"+e+time,time>0?time--:time=0}else clearInterval(adclock),adclock=null},1e3)}if(void 0!=cssTransitionDelay&&void 0!=cssTransitionDuration){var i=getStyle("splash",cssTransitionDelay),s=getStyle("splash",cssTransitionDuration);null==i&&(i=0),null==s&&(s=0);var d=parseInt(1e3*(parseFloat(s)+parseFloat(i)+e));splashload=setTimeout(t,d),splashout=setTimeout(n,1e3*e),splashoff=setTimeout(a,d),adtrigger=setTimeout(function(){triggerAds()},d)}else splashload=setTimeout(t,1e3*e),splashoff=setTimeout(a,1e3*e),adtrigger=setTimeout(function(){triggerAds()},1e3*e)}else if(void 0!=cssTransitionDelay&&void 0!=cssTransitionDuration){var i=getStyle("splash",cssTransitionDelay),s=getStyle("splash",cssTransitionDuration);null==i&&(i=0),null==s&&(s=0);var d=parseInt(1e3*(parseFloat(s)+parseFloat(i)));splashload=setTimeout(t,d),document.getElementById("splash").className="splash_out",splashoff=setTimeout(a,d),adtrigger=setTimeout(function(){triggerAds()},d)}else document.getElementById("loadicon").className="",document.getElementById("splash").style.display="none",triggerAds()}function getStyle(e,t){var n="",a=document.getElementById(e);return window.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=document.defaultView.getComputedStyle(a,null).getPropertyValue(t)):a.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=a.currentStyle[t]),n}function onDemand(e,t){document.getElementById("column"+e).style.display=""+t,"block"==t&&"undefined"!=typeof iScroll&&0==nscroll?(null==livescroll[e]||void 0==livescroll[e])&&(livescroll[e]=new iScroll(live[e],{scrollbarClass:"iscrollbar",scrollbars:"custom",mouseWheel:!0,interactiveScrollbars:!0})):"undefined"!=typeof iScroll&&(null!=livescroll[e]||void 0!=livescroll[e])&&(livescroll[e].destroy(),
livescroll[e]=null)}function out3d(e){return 1==css3d?"right"==binding?W>H&&W>1023&&!isEven(e)?"rotate3d(0,1,0,-90deg)":"rotate3d(0,1,0,90deg)":W>H&&W>1023&&!isEven(e)?"rotate3d(0,1,0,90deg)":"rotate3d(0,1,0,-90deg)":"scaleX(0)"}function in3d(e){return 1==css3d?"rotate3d(0,1,0,0deg)":"scaleX(1)"}function changePage(e,t){var n=parseInt(document.getElementById("pagelimit").innerHTML),a=parseInt(document.getElementById("currentpage").innerHTML);0==RYU.config.animate?("left"==e?1==a||(setTimeout(function(){document.getElementById("loadicon").className="spinning"},100),null!=t?sorter.move(-1,!0):sorter.move(-1),window.innerWidth<720&&(document.getElementById("pagecounter").style.display="block",setTimeout(function(){document.getElementById("pagecounter").className="counter_in"},100))):a==n||(setTimeout(function(){document.getElementById("loadicon").className="spinning"},100),null!=t?sorter.move(1,!0):sorter.move(1),window.innerWidth<720&&(document.getElementById("pagecounter").style.display="block",setTimeout(function(){document.getElementById("pagecounter").className="counter_in"},100))),setTimeout(function(){document.getElementById("loadicon").className="",folio[0].style[cssTransitionDuration]="1s",folio[0].className="folio sheet_in",hideRackTop(),RYU.pullNames()},1100),setTimeout(function(){window.innerWidth<720&&(document.getElementById("pagecounter").className="",document.getElementById("pagecounter").style.display="")},2e3)):(folio[0].className="folio sheet_out_part_"+e,"left"==e?1==a||(setTimeout(function(){document.getElementById("loadicon").className="spinning"},100),window.innerWidth<720&&(document.getElementById("pagecounter").style.display="block",setTimeout(function(){document.getElementById("pagecounter").className="counter_in"},100)),folio[0].className="folio sheet_out_"+e,setTimeout(function(){null!=t?sorter.move(-1,!0):sorter.move(-1),folio[0].style[cssTransitionDuration]="0s",folio[0].className="folio sheet_out_right"},1e3)):a==n||(setTimeout(function(){document.getElementById("loadicon").className="spinning"},100),window.innerWidth<720&&(document.getElementById("pagecounter").style.display="block",setTimeout(function(){document.getElementById("pagecounter").className="counter_in"},100)),folio[0].className="folio sheet_out_"+e,setTimeout(function(){null!=t?sorter.move(1,!0):sorter.move(1),folio[0].style[cssTransitionDuration]="0s",folio[0].className="folio sheet_out_left"},1e3)),setTimeout(function(){document.getElementById("loadicon").className="",folio[0].style[cssTransitionDuration]="1s",folio[0].className="folio sheet_in",hideRackTop(),RYU.pullNames()},1100),setTimeout(function(){window.innerWidth<720&&(document.getElementById("pagecounter").className="",document.getElementById("pagecounter").style.display="")},2e3))}function hideRackTop(){"1"==document.getElementById("currentpage").innerHTML&&1==RYU.config.showpromos?document.getElementById("racktop").className="show":document.getElementById("racktop").className="hide"}function carousel(e,t){null==t&&clearInterval(promotimer);var n=document.getElementsByClassName("promo"),a=0;if(1==e){for(var o=0;o<n.length;o++)"promo promo_in"==n[o].className&&(a=o),"promo promo_wayout"==n[o].className&&(n[o].className="promo promo_deck");if(n[a].className="promo promo_out",0==a)var l=n.length-1,i=n.length-2;else if(1==a)var l=a-1,i=n.length-1;else var l=a-1,i=a-2;if(n[l].className="promo promo_wayout",n[i].className="promo promo_deck",a==n.length-1)var s=0,d=1;else if(a==n.length-2)var s=a+1,d=0;else var s=a+1,d=a+2;n[s].className="promo promo_in",n[d].className="promo promo_ondeck"}else{for(var o=0;o<n.length;o++)"promo promo_in"==n[o].className&&(a=o),"promo promo_deck"==n[o].className&&(n[o].className="promo promo_wayout");if(n[a].className="promo promo_ondeck",0==a)var s=n.length-1,d=n.length-2;else if(1==a)var s=0,d=n.length-1;else var s=a-1,d=a-2;if(n[s].className="promo promo_in",n[d].className="promo promo_out",n.length>4){if(a==n.length-1)var l=0,i=1;else if(a==n.length-2)var l=a+1,i=0;else l=a+1,i=a+2;n[l].className="promo promo_deck",n[i].className="promo promo_wayout"}}}function findThis(){for(var e=document.getElementById("item_list"),t=document.getElementsByName(rid),n=0;n<t.length;n++)t[n].style.color="",t[n].style.backgroundColor="",t[n].style.fontWeight="";var a=document.getElementById("findinput").value;if(" "!=a&&""!=a&&null!=a){var a="("+a+")",o=new RegExp(a,"gi"),l=Math.floor(100*Math.random());rid="s"+l;for(var i=e.getElementsByTagName("h1"),s=e.getElementsByTagName("h4"),d=e.getElementsByTagName("p"),n=0;n<d.length;n++)d[n].innerHTML=d[n].innerHTML.replace(o,'<span name="'+rid+'" style="color:#000;background-color:yellow; font-weight:bold;">$1</span>');for(var n=0;n<i.length;n++)i[n].innerHTML=i[n].innerHTML.replace(o,'<span name="'+rid+'" style="color:#000;background-color:yellow; font-weight:bold;">$1</span>');for(var n=0;n<s.length;n++)s[n].innerHTML=s[n].innerHTML.replace(o,'<span name="'+rid+'" style="color:#000;background-color:yellow; font-weight:bold;">$1</span>');alert(RYU._lc("Found")+" "+document.getElementsByName(rid).length+" "+_lc("matches."))}}function tapCheck(e,t){1==touchmoveCheck||("list"==e||0==e?RYU.swapList(t.element,t.panel,t.sort,t.catalog):"details"==e||1==e?RYU.showDetails(t.item):("link"==e||2==e)&&("inapp"==t.target?RYU.openInApp(t.url,t.cat):window.open(t.url,t.target)))}function enableDefault(e,t){null==t&&(t=4),1==t&&(e.ontouchstart=function(t){t.elementIsEnabled=!0,swapList(e,1,1)}),2==t&&(e.ontouchmove=function(e){e.elementIsEnabled=!0}),3==t&&(e.ontouchend=function(e){e.elementIsEnabled=!0}),4==t&&(e.ontouchstart=function(e){e.elementIsEnabled=!0},e.ontouchmove=function(e){e.elementIsEnabled=!0},e.ontouchend=function(e){e.elementIsEnabled=!0})}function keyNav(e){if("right"==binding)var t=39,n=37;else var t=37,n=39;if(e.keyCode!=t||RYU.config.block_keynav()||changePage("left"),e.keyCode!=n||RYU.config.block_keynav()||changePage("right"),36==e.keyCode&&changePage("left",1),35==e.keyCode&&changePage("right",1),113==e.keyCode&&(ctog=0,controlsToggle(0),togglePanel(1)),114==e.keyCode&&(ctog=0,controlsToggle(0),togglePanel(2)),115!=e.keyCode||e.shiftKey||(ctog=0,controlsToggle(0),togglePanel(3)),115==e.keyCode&&e.shiftKey&&(ctog=0,controlsToggle(0),togglePanel(4)),187!=e.keyCode&&107!=e.keyCode||!e.ctrlKey||resizeText(1),189!=e.keyCode&&109!=e.keyCode||!e.ctrlKey||resizeText(-1),27==e.keyCode&&RYU.toggleDialog("all"),45==e.keyCode&&e.ctrlKey&&(mylist.length>0?RYU.pullNames("reading_list"):alert(RYU._lc("Reading List is empty."))),46==e.keyCode&&e.ctrlKey&&e.shiftKey){var a=confirm(RYU._lc("DELETE ENTIRE READING LIST? (Warning: This cannot be undone!)"));1==a&&(mylist=[],updateReadingList(),pullNames())}}function togglePanel(e){onRebind(tocscroll),onRebind(optscroll),clearTimeout(o),clearTimeout(a),clearTimeout(hidecontrols);var t=document.getElementsByClassName("panel");if(isNaN(e))for(var n=0;n<t.length;n++)t[n].id==e&&(e=n);if("block"!=up_box.style.display&&"all"!=e){up_box.style.display="block",up_box.style.visibility="visible";var a=setTimeout(function(){addClass(t[e],"in"),removeClass(t[e],"out")},5)}else if("all"==e||hasClass(t[e],"in")){for(var n=0;n<t.length;n++)addClass(t[n],"out"),removeClass(t[n],"in");var o=setTimeout(function(){up_box.style.display="none",up_box.style.visibility="hidden"},1001);hidecontrols=setTimeout("RYU.controlsToggle(0)",2500)}else{for(var n=0;n<t.length;n++)addClass(t[n],"out"),removeClass(t[n],"in");addClass(t[e],"in"),removeClass(t[e],"out")}}function zoomMode(){if("pan_off"==document.getElementById("pan").className){if(document.getElementById("pan").className="pan_on",zoomed=1,"iOS"==RYU.device.OS&&void 0!=nativeScroll)for(var e=0;pagecount>e;e++)live[e].style.overflow="hidden"}else if(document.getElementById("pan").className="pan_off",zoomed=0,"iOS"==RYU.device.OS&&void 0!=nativeScroll)for(var e=0;pagecount>e;e++)live[e].style.overflow="auto";linkTargeting(),changePage("left",1)}function swapList(e,t,n,a){e.className="list_down",setTimeout(function(){togglePanel(t)},300),null!=a?"rl"==a?(e.className="list_up",RYU.pullNames("reading_list")):setTimeout(function(){e.className="list_up",changeCatalogs(a)},1e3):setTimeout(function(){e.className="list_up",sorter.wk(document.getElementById("table").getElementsByTagName("th")[n].cellIndex),RYU.pullNames()},1e3)}function resizeText(e){for(a=0;a<pagecount;a++){var t=document.getElementById("live"+a);""==t.style.fontSize&&(t.style.fontSize="1.0em"),t.style.fontSize=parseFloat(t.style.fontSize)+.2*e+"em"}}function colorText(e){null==e?"colorbox_OUT"==color_opt.className?color_opt.className="colorbox_IN":color_opt.className="colorbox_OUT":document.getElementById("colortext").href=""+baseurl+"ryuzine/css/colortext"+e+".css"}function changeView(e){Set_Cookie("racklist",""+e),view=e,altview=1;for(var t=0;t<iscrollers.length;t++)"binder"==iscrollers[t][0]&&null!=iscrollers[t][1]&&onRebind(iscrollers[t][1]);for(a=0;a<pagecount;a++)column[a].setAttribute("style",""),column[a].style.display="block",page[a].setAttribute("style",""),page[a].style[cssTransform]="scaleX(1)",page[a].style.visibility="visible",folio[a].setAttribute("style",""),folio[a].style[cssTransform]="scaleX(1)",folio[a].style.visibility="visible",live[a].style.height="auto";document.getElementById("screen_format").href=""+baseurl+"ryuzine/css/"+e+".css","plain"==e?document.getElementById("this_issue").href=""+baseurl+"ryuzine/css/blank.css":document.getElementById("this_issue").href=""+baseurl+"ryuzine/css/blank.css",setTimeout(function(){bookBinder()},2e3)}function writeHelp(){}function helpPlay(e){}function guidedHelp(e){}function playHelp(e){}function boxLink(e,t){document.getElementById(e).scrollTop=document.getElementById(t).offsetTop}function controlSlide(e,t,n){e=0==e?"nav":"control",n>0?(document.getElementById(e+"set"+(t+1)).className=e+"set "+e+"_deck",document.getElementById(e+"set"+t).className=e+"set "+e+"_in"):(document.getElementById(e+"set"+t).className=e+"set "+e+"_in",t>0&&(document.getElementById(e+"set"+(t-1)).className=e+"set "+e+"_out"))}function controlsDelay(e){clearTimeout(hidecontrols),hidecontrols=setTimeout("RYU.controlsToggle("+e+")",2500)}function controlsToggle(e){}function bannerAd(){1==adbox?(document.getElementById("appbanner").className="appbanner_up",adbox=0):(document.getElementById("appbanner").className="appbanner_dn",adbox=1),0==RYU.config.appbanner&&clearInterval(showad)}function bannerClear(){adbox=1,bannerAd(),clearInterval(showad),isNaN(RYU.config.appbanner)||0==RYU.config.appbanner?clearInterval(showad):showad=setInterval(function(){bannerAd()},1e3*RYU.config.appbanner)}function dynTheme(){if("Android"==RYU.device.OS)var e=andTheme;else if("iOS"==RYU.device.OS)var e=iOSTheme;else if("BlackBerryOS"==RYU.device.OS)var e=bbtTheme;else if("Windows Phone 7"==RYU.device.OS)var e=wp7Theme;else if("IE"==RYU.device.Platform&&1==RYU.device.metro)if(""!=w8mTheme)var e=w8mTheme;else if(""!=winTheme[0])var e=winTheme;else var e=deskTheme;else if("Windows"==RYU.device.OS&&""!=winTheme)var e=winTheme;else if("Mac"==RYU.device.OS&&""!=macTheme)var e=macTheme;else if("Linux"==RYU.device.OS&&""!=nixTheme)var e=nixTheme;else var e=deskTheme;return e}function themeToggle(e){if(null!=e&&(RYU.config.themeset=e),1==RYU.config.themeset){if(0!=swapThemes){var t=dynTheme();if(""==t||null==t)var n=defaultTheme;else var n=""+baseurl+"ryuzine/theme/"+t+"/theme.css";document.getElementById("ui_theme").href=n}else document.getElementById("ui_theme").href=defaultTheme;document.getElementById("opt_themeset").className="opt-switch opt-on"}else null!=document.getElementById("ui_theme")&&(document.getElementById("ui_theme").href=defaultTheme),document.getElementById("opt_themeset").className="opt-switch opt-off";if(0!=RYU.config.themeset)var a=2;else var a=1;var o=window.setInterval(function(){document.getElementById("tcheck").clientWidth==a&&(pgslideParent(),window.clearInterval(o))},30);setTimeout(function(){pgslideParent(),window.clearInterval(o)},2e3)}function aniToggle(e){null!=e&&(RYU.config.animate=e),0==RYU.config.animate?document.getElementById("opt_animate").className="opt-switch opt-off":document.getElementById("opt_animate").className="opt-switch opt-on"}function pgslideParent(){document.getElementById("controlbox1").offsetTop<=0?"controlbox0"==document.getElementById("appbanner").parentNode.id&&document.getElementById("controlbox1").insertBefore(document.getElementById("appbanner"),document.getElementById("controlbox1").firstChild):"controlbox1"==document.getElementById("appbanner").parentNode.id&&document.getElementById("controlbox0").insertBefore(document.getElementById("appbanner"),document.getElementById("controlbox0").firstChild)}function scrollToggle(e){null!=e&&(RYU.config.nscroll=e),0==RYU.config.nscroll?document.getElementById("opt_nscroll").className="opt-switch opt-off":document.getElementById("opt_nscroll").className="opt-switch opt-on",changeView(Get_Cookie("racklist")?""+Get_Cookie("racklist"):view),setTimeout(function(){bookBinder()},1e3)}function iScrollToggle(e){null!=e&&(RYU.config.iscroll_iscroll=e),0==RYU.config.iscroll_iscroll?"undefined"!=typeof iScroll&&(scrollHolder=iScroll,iScroll=void 0,"undefined"!=typeof IScroll&&(IScroll=void 0,eDown=iDown)):"undefined"==typeof iScroll&&void 0!=scrollHolder&&("IScroll"in window?(iScroll=IScroll=scrollHolder,eDown="tap",scrollHolder=void 0):(iScroll=scrollHolder,scrollHolder=void 0)),1==altview&&changeView(Get_Cookie("racklist")?""+Get_Cookie("racklist"):view),setTimeout(function(){bookBinder()},1e3)}function zoomToggle(e){if(null!=e&&(RYU.config.zoompan=e),"ontouchstart"in document.documentElement||"Firefox Mobile"==RYU.device.Platform||"Windows Phone 7"==RYU.device.Platform)if(1==RYU.config.zoompan){if("Windows Phone 7"==RYU.device.OS)var t="width=device-width,height=device-height,";else{var t="";body.removeEventListener("touchstart",RYU.defaultPrevention(),!1),body.addEventListener("touchstart",RYU.restoreDefault(),!1)}if(document.getElementById("zoom").style.display="block",document.getElementById("zooming")){document.getElementsByTagName("head")[0].removeChild(document.getElementById("zooming"));var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale="+maxzoom+",user-scalable=yes"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}else{var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale="+maxzoom+",user-scalable=yes"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}document.getElementById("opt_zoompan").className="opt-switch opt-on",document.getElementById("opt_nscroll_label").parentNode.className=""}else{if("Windows Phone 7"==RYU.device.OS)var t="width=device-width,height=device-height,";else{var t="";body.addEventListener("touchstart",RYU.defaultPrevention())}if(document.getElementById("zoom").style.display="none",document.getElementById("zooming")){document.getElementsByTagName("head")[0].removeChild(document.getElementById("zooming"));var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}else{var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",""+t+"initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"),n.setAttribute("id","zooming"),document.getElementsByTagName("head")[0].appendChild(n)}document.getElementById("opt_zoompan").className="opt-switch opt-off",document.getElementById("opt_nscroll_label").parentNode.className="opt-disabled",1==RYU.config.nscroll&&(RYU.config.nscroll=0,scrollToggle(0))}}function filterToggle(e){null!=e&&(RYU.config.filter=e),0==RYU.config.filter?document.getElementById("opt_filterall").className="opt-switch opt-off":document.getElementById("opt_filterall").className="opt-switch opt-on"}function promoToggle(e){null!=e&&(RYU.config.showpromos=e),0==RYU.config.showpromos?(document.getElementById("opt_showpromos").className="opt-switch opt-off",hideRackTop()):(document.getElementById("opt_showpromos").className="opt-switch opt-on",hideRackTop())}function Get_Cookie(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return null;if(-1==t)return null;var a=document.cookie.indexOf(";",n);return-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(n,a))}function Set_Cookie(e,t,n,a,o,l){n="Sun, 01-Jan-2040 00:00:01 GMT",document.cookie=e+"="+escape(t)+(n?";expires="+n:"")+(a?";path="+a:"")+(o?";domain="+o:"")+(l?";secure":"")}function Delete_Cookie(e,t,n){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-70 00:00:01 GMT")}function storeMasterCookie(){Get_Cookie("MasterCookie")||Set_Cookie("MasterCookie","MasterCookie")}function storeIntelligentCookie(e,t){if(Get_Cookie("MasterCookie")){var n=Get_Cookie(e);if(!n||n!=t){Set_Cookie(e,t,expires_date);var n=Get_Cookie(e);n&&n==t||Delete_Cookie("MasterCookie")}}}function changeCatalogs(e){if(catalog=null==e?0:e,newSrc=1,void 0==document.getElementById("loadbox")){var t=document.createElement("iframe");t.setAttribute("id","loadbox"),t.setAttribute("style","display:none;"),document.getElementsByTagName("body")[0].appendChild(t)}if(document.getElementById("loadbox").setAttribute("onload","RYU.loadRackData();"),rackData[catalog][1]=="autocat"+catalog){var n=document.getElementById("loadbox").contentWindow.document;n.open(),n.write('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Ryuzine Rack Data</title></head><body>'+document.getElementById(""+rackData[catalog][1]).innerHTML+"</body></head></body></html>"),n.close()}else document.getElementById("loadbox").src=""+baseurl+"data/"+rackData[catalog][1];clearInterval(promotimer)}function loadRackData(){document.getElementById("rackdata").innerHTML=document.getElementById("loadbox").contentWindow.document.getElementsByTagName("body")[0].innerHTML,document.getElementById("rackdata").getElementsByTagName("table")[1].setAttribute("id","table"),setTimeout(function(){document.getElementsByTagName("body")[0].removeChild(document.getElementById("loadbox"))},1e3),RYU.initSorter()}function openInApp(e,t){if(document.getElementById("detailbox")&&RYU.toggleDialog("detailbox"),void 0==document.getElementById("longbox")){document.getElementById("shade_box")&&body.removeChild(document.getElementById("shade_box"));var n=document.createElement("div");n.setAttribute("id","inappviewer"),n.className="out";var a=document.createElement("iframe");a.setAttribute("id","longbox"),a.className="longbox_out",n.appendChild(a),body.appendChild(n);var o=document.createElement("div");o.setAttribute("id","dropbar");var l=document.createElement("div");l.id="back2rack",l.className="button type1 left",l.innerHTML='<p><span class="symbol"></span><span class="label 1l0n">'+RYU._lc("Go Back to Rack")+"</span></p>",l.setAttribute("on"+iClick,"RYU.back2rack();RYU.togglePanel('all');");var i=document.createElement("div");i.id="droptab",i.setAttribute("on"+iClick,"RYU.toggleDropBar();RYU.togglePanel('all');"),i.innerHTML="=";var s=document.createElement("div");s.id="rlbutton",s.className="button type1 right",s.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc("My List")+"</span></p>",s.setAttribute("on"+iClick,"RYU.togglePanel('rlist_panel');");var d=document.createElement("div");d.setAttribute("id","rlist_panel"),d.className="panel style1 right out",d.innerHTML='<div class="titlebar" id="bmark_titlebar">\n<h1 id="bmarktitle" class="title l10n">Reading List</h1>\n<div id="dropbar_current">\n</div>\n<div id="bmarkdone" class="button type2 done right" on'+iClick+'="RYU.togglePanel(\'rlist_panel\');"><p><span class="symbol"></span><span class="label l10n">Done</span></p>\n</div>\n</div>\n<div id="bmarklist" class="area">\n<div id="dropbar_thumbs" class="scrollbox">\n</div>\n</div>\n<div class="pointer"></div>\n',o.appendChild(l),o.appendChild(i),o.appendChild(s),o.appendChild(d),n.appendChild(o),iScrollApply("rlist_panel")}document.getElementById("dropbar").className="navbars dropbar_hide",document.getElementById("longbox").src=e,document.getElementById("longbox").className="longbox_in",setTimeout(function(){document.getElementById("inappviewer").className="in",document.getElementById("longbox").focus()},1e3),refreshDropBar(t)}function refreshDropBar(e,t){null!=e?(null==t&&(e=e.split(" "),e=e[0]),checkList(e)?document.getElementById("dropbar_current").innerHTML='<div id="unmark" class="button type2 quarter left" on'+iClick+'="RYU.unMark('+e+",'dropbar_current','on"+iClick+'\');"><p><span class="symbol"></span><span class="label">'+RYU._lc("Delete")+"</span></p></div>":document.getElementById("dropbar_current").innerHTML='<div id="numark" class="button type2 quarter left" on'+iClick+'="RYU.add2List('+e+",'dropbar_current','on"+iClick+'\');"><p><span class="symbol"></span><span class="label">'+RYU._lc("Add")+"</span></p></div>"):document.getElementById("dropbar_thumbs").innerHTML="",RYU.pullNames("reading_list","dropbar_thumbs")}function back2rack(){document.getElementById("inappviewer").className="out"}function toggleDropBar(){if(void 0!=typeof document.getElementById("dropbar")){var e=document.getElementById("dropbar");"navbars dropbar_hide"==e.className?e.className="navbars dropbar_show":e.className="navbars dropbar_hide"}}for(var _lc=function(e){return e.toString(),e},pagecount=2,current=0,version="1.0",folio=[],page=[],header=[],back=[],next=[],live=[],livescroll=[],tocscroll=null,optscroll=null,aboutscroll=null,sheetscroll=null,galleryscroll=null,scrollHolder,column=[],footer=[],marginL=[],marginR=[],pagetimer=[],css3d=0,config=void 0,ovrImg=[],autoflip=0,altview=0,view="rackgrid",p_toggle=0,W=null,H=null,inputMethod="mousedown",zoomed=0,bookmarks=0,bookmarkList=[],mark=null,mystyles="",defaultTheme="",p=0,x=1,z=0,events=0,prevW=0,prevH=0,aCheck=null,ctog=1,adbox=0,showad="",hidecontrols=null,slidecontrols=null,upboxtimer=null,paneltimer=null,promotimer=null,shadow=[],splashoff=null,splashout=null,splashload=null,handle=null,adtrigger=null,splashcatch=null,TINY={},dataSrc={},dataTbl={},rackdoc={},sort_list=[],newSrc=0,showpromos=1,filterall=1,catalog=0,hires=0,mylist=[],bod={},sh={},up_box={},font_opt={},color_opt={},toc_slide={},toc_list={},opt_slide={},opt_list={},toc_button={},help_button={},view_opt={},controls={},slide_box={},light_box={},lightshade={},sH={},hH={},hM={},fH={},fM={},tM={},nH={},cH={},bm={},g1={},find_slide={},hide_dialogs=[],helpcards=0,card=[],c=0;helpcards+1>c;c++)card[c]=[];window.console||(window.console={}),window.console.log&&0!=DEBUG||(window.console.log=function(){});var cssdisabled=!1,cssTransitionsSupported=!1,cssTransform=getsupportedprop(["transform","MozTransform","WebkitTransform","msTransform","OTransform"]),cssTransitionDelay=getsupportedprop(["transitionDelay","MozTransitionDelay","WebkitTransitionDelay","msTransitionDelay","OTransitionDelay"]),cssTransitionDuration=getsupportedprop(["transitionDuration","MozTransitionDuration","WebkitTransitionDuration","msTransitionDuration","OTransitionDuration"]),css3borderRadius=getsupportedprop(["borderRadius","MozBorderRadius","WebkitBorderRadius"]),css3dCapable=getsupportedprop(["perspective","MozPerspective","WebkitPerspective","msPerspective","OPerspective"]),nativeScroll=getsupportedprop(["overflowScrolling","WebkitOverflowScrolling"]);if(TINY.table=function(){function e(e){this.n=e,this.pagesize=RYU.config.rackItems,this.paginate=0}function t(e){var t=T$(e);return t.b=T$$("tbody",t)[0],t.r=t.b.rows,t}function n(e,t){var n,a;e=n=e.v.toLowerCase(),t=a=t.v.toLowerCase();var o="";e.match(" ")&&(o=e.split(" "),o.length<3?(o=o[0]+" 1, "+o[1],e=o):o=e),e.match("/")&&(o=e.split("/"),o.length<3?(o=o[0]+"/01/"+o[1],e=o):o=e);var l="";t.match(" ")&&(l=t.split(" "),l.length<3?(l=l[0]+" 1, "+l[1],t=l):l=t),t.match("/")&&(l=t.split("/"),l.length<3?(l=l[0]+"/01/"+l[1],t=l):l=t);var i=parseFloat(e.replace(/(\$|\,)/g,"")),s=parseFloat(t.replace(/(\$|\,)/g,""));return isNaN(i)||isNaN(s)||(n=i,a=s),i=Date.parse(e),s=Date.parse(t),isNaN(i)||isNaN(s)||(n=i,a=s),n>a?1:a>n?-1:0}return e.prototype.init=function(e,n){var a=t(e),o=0;for(this.e=e,this.l=a.r.length,a.a=[],a.h=T$$("thead",T$(e))[0].rows[0],a.w=a.h.cells.length,o;o<a.w;o++){var l=a.h.cells[o];"nosort"!=l.className&&(l.className=this.head,l.onclick=new Function(this.n+".wk(this.cellIndex)"))}for(o=0;o<this.l;o++)a.a[o]={};if(null!=n){var i=new Function(this.n+".wk("+n+")");i()}this.paginate&&(this.g=1,this.pages())},e.prototype.wk=function(e){var a=t(this.e),o=a.h.cells[e],l=0;for(l;l<this.l;l++){a.a[l].o=l;var i=a.r[l].cells[e];for(a.r[l].style.display="";i.hasChildNodes();)i=i.firstChild;a.a[l].v=i.nodeValue?i.nodeValue:""}for(l=0;l<a.w;l++){var s=a.h.cells[l];"nosort"!=s.className&&(s.className=this.head)}a.p==e?(a.a.reverse(),o.className=a.d?this.asc:this.desc,a.d=a.d?0:1):(a.p=e,a.a.sort(n),a.d=0,o.className=this.asc);var d=document.createElement("tbody");for(l=0;l<this.l;l++){var r=a.r[a.a[l].o].cloneNode(!0);d.appendChild(r),r.className=l%2==0?this.even:this.odd;for(var c=T$$("td",r),m=0;m<a.w;m++)c[m].className=e==m?l%2==0?this.evensel:this.oddsel:""}a.replaceChild(d,a.b),this.paginate&&this.size(this.pagesize)},e.prototype.page=function(e){var n=t(this.e),a=0,o=e+parseInt(this.pagesize);for(document.getElementById(this.currentid)&&document.getElementById(this.limitid)&&(document.getElementById(this.currentid).innerHTML=this.g),a;a<this.l;a++)n.r[a].style.display=a>=e&&o>a?"":"none"},e.prototype.move=function(e,t){var n=1==e?t?this.d:this.g+1:t?1:this.g-1;n<=this.d&&n>0&&(this.g=n,this.page((n-1)*this.pagesize))},e.prototype.size=function(e){this.pagesize=e,this.g=1,this.pages(),this.page(0),document.getElementById(this.currentid)&&document.getElementById(this.limitid)&&(document.getElementById(this.limitid).innerHTML=this.d)},e.prototype.pages=function(){this.d=Math.ceil(this.l/this.pagesize)},{sorter:e}}(),storeMasterCookie(),storeIntelligentCookie("test","cookie value"),"undefined"!=typeof RYU.config){var binding="left",pgsize=0;RYU.config.zoompan=RYU.config.zoompan||0;var maxzoom=RYU.config.maxzoom||5,splashad=RYU.config.splashad||0,box_ad=RYU.config.boxad||0,AddOns=RYU.config.AddOns||[],rackData=RYU.config.rackData||[],autopromo=RYU.config.autopromo||5,linkOpens=RYU.config.linkOpens||0,maxpromos=RYU.config.maxpromos||5,mediaType=RYU.config.mediaType||[["Ryuzine","Read Now"],["Download","Download ⬇"],["PDF","Download ⬇"],["Print","$ Buy Now"],["Website","View Site"]],swapThemes=RYU.config.swapThemes||0;RYU.config.pageshadows=0;var deskTheme=RYU.config.deskTheme||"",winTheme=RYU.config.winTheme||"",macTheme=RYU.config.macTheme||"",nixTheme=RYU.config.nixTheme||"",iOSTheme=RYU.config.iOSTheme||"",andTheme=RYU.config.andTheme||"",wOSTheme=RYU.config.wOSTheme||"",bbtTheme=RYU.config.bbtTheme||"",wp7Theme=RYU.config.wp7Theme||"",w8mTheme=RYU.config.w8mTheme||""}else alert(RYU._lc("App Error: Loading configuration variables failed."));if("undefined"!=typeof RYU.php)var php=RYU.php;var baseurl="",rackImg=function(){if(void 0!=php){baseurl=php.baseurl;var e=""}else{if(baseurl="",rackData[0].length>2)var t=rackData[0][2];else var t=rackData[catalog][1].replace(".htm","");var e="images/rack/"+t+"/"}return e};if(rackImg(),Get_Cookie("readinglist"))for(var str=Get_Cookie("readinglist").split(","),x=0;x<str.length;x++){var temp=[str[x],str[x+1]];mylist.push(temp),x+=1}else mylist=[];Get_Cookie("showpromos")?RYU.config.showpromos=Get_Cookie("showpromos"):RYU.config.showpromos=1,Get_Cookie("filterall")?RYU.config.filterall=Get_Cookie("filterall"):RYU.config.filterall=1,Get_Cookie("animate")?RYU.config.animate=Get_Cookie("animate"):RYU.config.animate=1,(("Safari"==RYU.device.Platform||"iOS"==RYU.device.OS)&&RYU.device.v<4||"Opera"==RYU.device.Platform&&RYU.device.bv<15)&&(RYU.config.animate=0),Get_Cookie("nscroll")?RYU.config.nscroll=Get_Cookie("nscroll"):"iOS"==RYU.device.OS&&void 0!=nativeScroll||"Android"==RYU.device.OS&&RYU.device.v>=3?RYU.config.nscroll=1:RYU.config.nscroll=0,Get_Cookie("zoompan")&&(RYU.config.zoompan=Get_Cookie("zoompan"),0==RYU.config.zoompan&&(RYU.config.nscroll=0)),"Android"==RYU.device.OS&&(RYU.config.zoompan=1),Get_Cookie("nags")?RYU.config.nags=1*Get_Cookie("nags"):RYU.config.nags=0,Get_Cookie("hide_dialogs")&&(hide_dialogs=[Get_Cookie("hide_dialogs")]),viewstyle="rackgrid";var addon={};Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),addon.register=function(e){if(!e.name)return void loadAddOns(addon_loaded+1);if("register"!=e.name){for(var t=0,n=0;n<Object.keys(addon).length;n++)Object.keys(addon)[n]==e.name&&(t=1);0==t&&(addon[""+e.name]={});for(var a=0,n=0;n<AddOns.length;n++)e.name==AddOns[n]&&(e.index=n,a=n);for(var o=0;o<Object.keys(e).length;o++)addon[""+e.name][""+Object.keys(e)[o]]=e[""+Object.keys(e)[o]];if(e=addon[""+e.name],e.info||(e.info={name:""+e.name,version:"0",author:"Unknown",url:"",license:"Unknown",about:"There is no description for this add-on."}),e.requires)for(var l=0;l<e.requires.length;l++){var i=e.requires[l].split("?"),s=0;if("ryuzinereader"==i[0]&&document.getElementById("ryuzinereader")||"ryuzinerack"==i[0]&&document.getElementById("ryuzinerack")||"ryuzinerack"==i[0]&&document.getElementById("ryuzinerack")||"ryuzinewriter"==i[0]&&document.getElementById("ryuzinewriter"))s=1,null!=i[1]&&parseFloat(version)<parseFloat(i[1])&&(s=0);else if("!ryuzinereader"==i[0]&&document.getElementById("ryuzinereader")||"!ryuzinepress"==i[0]&&document.getElementById("ryuzinepress")||"!ryuzinerack"==i[0]&&document.getElementById("ryuzinerack")||"!ryuzinewriter"==i[0]&&document.getElementById("ryuzinewriter"))s=2;else if(i[0].match(/!/gi)){s=1,i[0]=i[0].split("!")[1];for(var o=0;o<Object.keys(addon).length;o++)i[0]==Object.keys(addon)[o].toString()&&(s=3,null!=i[1]&&parseFloat(addon[""+Object.keys(addon)[o]].info.version)<parseFloat(i[1])&&(s=1))}else for(var o=0;o<Object.keys(addon).length;o++)i[0]==Object.keys(addon)[o].toString()&&(s=1,null!=i[1]&&parseFloat(addon[""+Object.keys(addon)[o]].info.version)<parseFloat(i[1])&&(s=0));if(1!=s){for(var o=Object.keys(e).length-1;o>-1;o--)"name"==Object.keys(e)[o]||"index"==Object.keys(e)[o]||"info"==Object.keys(e)[o]||"requires"==Object.keys(e)[o]||delete e[""+Object.keys(e)[o]];e.disabled=1}}if(e.inject){if(e.inject.js&&Array.isArray(e.inject.js))for(var d=e.inject.js.length-1;d>=0;d--)if(Array.isArray(e.inject.js[d])&&e.inject.js[d].length>0){if(null==e.inject.js[d][1])e.inject.js[d][1]=0;else if((3==e.inject.js[d][1]||4==e.inject.js[d][1])&&null!=e.inject.js[d][3]&&""!=e.inject.js[d][3])for(var i=e.inject.js[d][3].split("?"),s=0,l=0;l<document.getElementsByTagName("script").length;l++){var r=document.getElementsByTagName("script")[l].src.split("/");r=r[r.length-1].split("?"),i[0]==r[0]&&(s=1,null!=i[1]&&parseFloat(r[1])<parseFloat(i[1])&&(s=0))}}else e.inject.js.splice(d,1);if(e.inject.css&&Array.isArray(e.inject.css))for(var c=e.inject.css-1;c>=0;c--)if(Array.isArray(e.inject.css[c])&&e.inject.css[c].length>0){if(null==e.inject.css[c][3])e.inject.css[c][3]=0;else if(null!=e.inject.css[c][3]&&""!=e.inject.css[c][3])for(var i=e.inject.css[c][3].split("?"),s=0,l=0;l<document.getElementsByTagName("link").length;l++){var r=document.getElementsByTagName("link")[l].href.split("/");r=r[r.length-1].split("?"),i[0]==r[0]&&(s=1,
null!=i[1]&&parseFloat(r[1])<parseFloat(i[1])&&(s=0))}}else e.inject.css.splice(c,1);addonInjector(e)}if(e.ui){if(e.ui.panels)for(var m=0;m<e.ui.panels.length;m++)addPanel(e.ui.panels[m][0],e.name+"_"+e.ui.panels[m][1],e.ui.panels[m][2],e.ui.panels[m][3],e.ui.panels[m][4]);if(e.ui.dialogs)for(var p=0;p<e.ui.dialogs.length;p++)addDialogBox(e.name+"_"+e.ui.dialogs[p][0],e.ui.dialogs[p][1],e.ui.dialogs[p][2],e.ui.dialogs[p][3],e.ui.dialogs[p][4],e.ui.dialogs[p][5],e.ui.dialogs[p][6]);if(e.ui.controls)for(var u=0;u<e.ui.controls.length;u++)addControl(e.ui.controls[u][0],e.name+"_"+e.ui.controls[u][1],e.ui.controls[u][2],e.ui.controls[u][3],e.ui.controls[u][4],e.ui.controls[u][5],e.ui.controls[u][6],e.ui.controls[u][7])}e.actions&&"function"==typeof e.actions&&e.actions(),loadAddOns(a+1)}};var addon_optData=[],iscrollers=[],optEvent={},regback=addon.register,addon_loaded=null,addon_timer,addPanel=function(e,t,n,a){(""==a||void 0==a)&&(a="left");var o=document.createElement("div");o.id=t+"_panel",(""==e||void 0==e)&&(e="a"),o.className="panel "+e+" "+a+" out";var l=document.createElement("div");l.className="titlebar",paneltitle=document.createElement("h1"),paneltitle.className="title l10n",paneltitle.innerHTML=n||"Custom Panel",panelclose=document.createElement("div"),panelclose.id=t+"_done",panelclose.className="button type2 right done",panelclose.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc("Done")+"</span></p>",panelclose.addEventListener(iDown,function(){RYU.togglePanel(""+t+"_panel")},!1),l.appendChild(paneltitle),l.appendChild(panelclose),o.appendChild(l);var i=document.createElement("div");i.className="area",i.innerHTML='<div class="scrollbox"></div>',o.appendChild(i),document.getElementById("upbox").appendChild(o)},firstclass=0,addControl=function(e,t,n,a,o,l,i,s,d,r){function c(){if(1==insert&&0==firstclass)if(document.getElementById("party3opts"))var e=document.getElementById("party3opts");else{var e=document.createElement("ul");e.id="party3opts",e.className="opts"}else if(1==insert&&1==firstclass)var e=document.getElementById("opts");else if(document.getElementById(i+"_optlist"))var e=document.getElementById(i+"_optlist");else{var e=document.createElement("ul");e.id=i+"_optlist",e.className="opts"}return e}""==i||void 0==i?(i="opt_panel",insert=1):insert=0,"start"!=i||"button3"==e&&"button4"==e||(e="button3"),document.getElementById(""+i).getElementsByClassName("area")[0].getElementsByClassName("scrollbox").length>0?panel=document.getElementById(""+i).getElementsByClassName("area")[0].getElementsByClassName("scrollbox")[0]:panel=document.getElementById(""+i).getElementsByClassName("area")[0],null!=r&&(panel=document.getElementById(""+r),insert=0);var m=addon_optData.length,p=[];switch(addon_optData[m]=[],addon_optData[m][0]=e,addon_optData[m][1]=t,addon_optData[m][2]=n,null==a?addon_optData[m][3]=function(){}:addon_optData[m][3]=a,Array.isArray(o)&&(p=o,o=0),1==l?Get_Cookie(""+t)?o=Get_Cookie(""+t):RYU.config[""+t]?o=RYU.config[""+t]:null==o&&(o=1):l=0,null==o&&(o=1),addon_optData[m][4]=o,addon_optData[m][5]=l,addon_optData[m][6]=i,e){case"button1":case"button2":case"button3":case"button4":switch(e){case"button4":var u="type4";break;case"button3":var u="type3";break;case"button2":var u="type2";break;default:var u="type1"}var g=document.createElement("div");if(g.id=t,g.className="button "+u,g.innerHTML='<p><span class="symbol"></span><span class="label l10n">'+RYU._lc(n)+"</span></p>",g.addEventListener(eDown,optEvent[""+t]=a,!1),"button1"==e||"button2"==e){var v=t.split("_")[0];if(document.getElementById(""+v+"_buttonbox"))var f=document.getElementById(""+v+"_buttonbox");else{var f=document.createElement("div");f.id=v+"_buttonbox",f.className="buttonbox"}g.className=g.className+" left",f.appendChild(g),el=f}else el=g;break;case"text":var h=document.createElement("p");h.id=t,null!=d?h.className="smallprint "+d:h.className="smallprint",null!=a&&h.addEventListener(eDown,optEvent[""+t]=a,!1),h.innerHTML=n,el=h;break;case"select":case"drop":case"list":case"multi":var y=c(),b=document.createElement("li");b.id=t+"_li",b.className="opt-li";var E=document.createElement("span");E.className="optitem l10n",E.innerHTML=RYU._lc(n),b.appendChild(E);var T=document.createElement("p"),_=document.createElement("select");_.id=t,_.addEventListener("change",a,!1),("list"==e||"multi"==e)&&(_.addEventListener("mousedown",function(){event.stopPropagation()},!1),_.addEventListener("touchstart",function(){event.stopPropagation()},!1),_.className="listbox",_.size="2"),"multi"==e&&_.setAttribute("multiple",!0);for(var B=p[0][1],k=p[0][0],R=0;R<p.length;R++){var I=document.createElement("option");I.value=p[R][0],I.innerHTML=p[R][1],null!=p[R][2]&&0==o&&(I.setAttribute("selected","true"),B=p[R][1],k=p[R][0]),_.appendChild(I)}if(0==o&&(o=k),"drop"==e){var w=document.createElement("div");w.className="opt-switch opt-drop opt-off",_.addEventListener("change",function(e){return function(){RYU.setOptGhostList(""+e)}}(t),!1),_.addEventListener("mousedown",function(){event.stopPropagation()},!1),_.addEventListener("touchstart",function(){event.stopPropagation()},!1),w.appendChild(_),T.innerHTML=B,w.appendChild(T),b.appendChild(w)}else b.appendChild(_);y.appendChild(b),el=y;break;case"checkbox":var y=c(),b=document.createElement("li");b.id=t+"_li",b.className="opt-li";var E=document.createElement("span");E.className="optitem l10n",E.innerHTML=RYU._lc(n),b.appendChild(E);var N=document.createElement("input");N.className="opt-switch opt-check opt-off",N.type="checkbox",null!=s&&(N.name=s),Array.isArray(o)||(o="1"==o?[1,1]:[0,0]),N.value=o[0],1==o[1]&&(N.checked=!0),b.appendChild(N),y.appendChild(b),el=y;break;case"radio":var y=c(),b=document.createElement("li");b.id=t+"_li",b.className="opt-li";var E=document.createElement("span");E.className="optitem l10n",E.innerHTML=RYU._lc(n),b.appendChild(E);var U=document.createElement("input");U.className="opt-switch opt-radio opt-off",U.type="radio",null!=s&&(U.name=s),"1"==o&&(U.checked=!0),b.appendChild(U),y.appendChild(b),el=y;break;case"toggle":var y=c(),b=document.createElement("li");b.id="opt_"+t+"_li",b.className="opt-li";var Y=document.createElement("span");if(Y.id="opt_"+t+"_label",Y.className="optitem l10n",Y.innerHTML=RYU._lc(n),1==o)var C="opt-on";else var C="opt-off";var L=document.createElement("div");L.id="opt_"+t,L.className="opt-switch "+C,L.innerHTML='<span class="symbol"></span><span class="label"></span>',L.addEventListener(eDown,optEvent[""+t]=function(e){return function(){RYU.toggleOptSwitch(""+e)}}(t)),b.appendChild(Y),b.appendChild(L),y.appendChild(b),el=y}if(1==l&&Set_Cookie(""+addon_optData[m][1],""+o),RYU.config[""+t]=o,1==insert&&0==firstclass&&!document.getElementById("addonheader")){var x=document.createElement("h2");x.id="addonheader",x.className="smallprint l10n",x.innerHTML=RYU._lc("Add-On Settings"),panel.appendChild(x)}panel.appendChild(el);for(var R=0;R<iscrollers.length;R++)onRebind(iscrollers[R][1])},dialogs=[];window.devicePixelRatio>=2&&(hires=function(){return hires=window.innerWidth<=720?0:1}());var iClick=iEvent().iClick,iDown=iEvent().iDown,iUp=iEvent().iUp,iMove=iEvent().iMove,iOver=iEvent().iOver,iOut=iEvent().iOut,eDown=iEvent().eDown,linkTargeting=function(){if(1==linkOpens)var e="_self";else if(3==linkOpens)var e="_parent";else if(4==linkOpens)var e="_top";else if(5==linkOpens)var e="inapp";else var e="_blank";linkOpens="on"+iClick+"=\"RYU.tapCheck('link',{url:''+this.title+'',target:'"+e+"',cat:''+this.parentNode.parentNode.getElementsByClassName('catid')[0].innerHTML+''});\""}(),init=function(e){if(body=document.getElementsByTagName("body")[0],up_box=document.getElementById("upbox"),font_opt=document.getElementById("font_panel"),color_opt=document.getElementById("colorbox"),opt_slide=document.getElementById("opt_panel"),opt_list=document.getElementById("optlist"),toc_slide=document.getElementById("toc_panel"),toc_list=document.getElementById("toclist"),view_opt=document.getElementById("views_panel"),controls=document.getElementById("tabbar0"),slide_box=document.getElementById("slidebox1"),light_box=document.getElementById("lightbox"),lightshade=document.getElementById("shade"),sh=document.getElementById("sheet"),find_slide=document.getElementById("find_panel"),document.getElementById("ui_theme")){var t=window.location.href;t=t.split("#"),t=t[0],defaultTheme=document.getElementById("ui_theme").href==t?""+baseurl+"ryuzine/theme/dark/theme.css":document.getElementById("ui_theme").href.match(/theme/gi)?document.getElementById("ui_theme").href:""+RYU.baseurl+"ryuzine/theme/dark/theme.css"}else 1==swapThemes&&(themeline=document.getElementsByTagName("head")[0].innerHTML,themeline+='\n<link rel="stylesheet" type="text/css" href="" id="ui_theme" />\n',document.getElementsByTagName("head")[0].innerHTML=themeline),defaultTheme=""+RYU.baseurl+"ryuzine/theme/dark/theme.css";0==defaultTheme.length&&0==swapThemes?RYU.config.themeset=0:Get_Cookie("themeset")?RYU.config.themeset=Get_Cookie("themeset"):RYU.config.themeset=1,document.getElementById("screen_format").href=""+baseurl+"ryuzine/css/"+viewstyle+".css",writeHelp(),pagecount=null==e?2:e,document.getElementsByClassName?RYU.config.ovrCount=document.getElementsByClassName("vr").length:RYU.config.ovrCount=getElementsByClassName("vr").length;document.onkeyup=function(e){e=e||window.event,keyNav(e)},RYU.config.ovrCount>0?(window.addEventListener("orientationchange",function(){window.orientation&&(RYU.bookBinder(),OVR.vrSliderFix())},!1),window.addEventListener("resize",function(){RYU.bookBinder,OVR.vrSliderFix()},!1)):(window.addEventListener("orientationchange",function(){window.orientation&&RYU.bookBinder()},!1),window.addEventListener("resize",function(){RYU.bookBinder()},!1));for(var n=0;pagecount>n;n++)folio[n]=document.getElementById("folio"+n),shadow[n]=document.getElementById("shadow"+n),0==RYU.config.pageshadows&&(shadow[n].style.display="none"),page[n]=document.getElementById("page"+n),live[n]=document.getElementById("live"+n),column[n]=document.getElementById("column"+n),footer[n]=document.getElementById("footer"+n),marginL[n]=document.getElementById("marginleft-"+n),marginR[n]=document.getElementById("marginright-"+n);var a=[[],[],[],[],[],[],[],[],[],[],[]];a[0][0]="toggle",a[0][1]="showpromos",a[0][2]="Featured Items",a[0][3]=function(){RYU.promoToggle()},a[0][4]=RYU.config.showpromos,a[1][0]="drop",a[1][1]="rackItems",a[1][2]="Item Limit",a[1][3]=function(){RYU.limitItems(this.value)},RYU.config.rackItems>=100?(RYU.config.rackItems=100,a[1][4]=[["5","5"],["10","10"],["20","20"],["50","50"],["100","100",1]]):RYU.config.rackItems<100&&RYU.config.rackItems>=50?(RYU.config.rackItems=50,a[1][4]=[["5","5"],["10","10"],["20","20"],["50","50",1],["100","100"]]):RYU.config.rackItems<50&&RYU.config.rackItems>=20?(RYU.config.rackItems=20,a[1][4]=[["5","5"],["10","10"],["20","20",1],["50","50"],["100","100"]]):RYU.config.rackItems<20&&RYU.config.rackItems>=10?(RYU.config.rackItems=10,a[1][4]=[["5","5"],["10","10",1],["20","20"],["50","50"],["100","100"]]):RYU.config.rackItems<10&&RYU.config.rackItems>=5?(RYU.config.rackItems=5,a[1][4]=[["5","5",1],["10","10"],["20","20"],["50","50"],["100","100"]]):(RYU.config.rackItems=10,a[1][4]=[["5","5"],["10","10",1],["20","20"],["50","50"],["100","100"]]),a[2][0]="toggle",a[2][1]="filterall",a[2][2]="Filter All",a[2][3]=function(){RYU.filterToggle()},a[2][4]=RYU.config.filterall,a[3][0]="toggle",a[3][1]="animate",a[3][2]="Page Animations",a[3][3]=function(){RYU.aniToggle()},a[3][4]=RYU.config.animate,a[4][0]="toggle",a[4][1]="nscroll",a[4][2]="Native Scrolling",a[4][3]=function(){RYU.scrollToggle()},a[4][4]=RYU.config.nscroll,a[5][0]="toggle",a[5][1]="zoompan",a[5][2]="Zoom & Pan",a[5][3]=function(){RYU.zoomToggle()},a[5][4]=RYU.config.zoompan,a[6][0]="toggle",a[6][1]="themeset",a[6][2]="Theme UI",a[6][3]=function(){RYU.themeToggle()},a[6][4]=RYU.config.themeset,a[7][0]="toggle",a[7][1]="nags",a[7][2]="Show All Dialogs",a[7][3]=function(){},a[7][4]=RYU.config.nags,a[8][0]="text",a[8][1]="optnotice",a[8][2]="Disabling features can improve performance.  Older browsers cannot display some options",a[8][3]=null,a[8][4]=null,a[9][0]="button3",a[9][1]="aboutbutton",a[9][2]="About Ryuzine",a[9][3]=function(){RYU.toggleDialog("about")},a[9][4]=null,a[10][0]="button4",a[10][1]="altoptdone",a[10][2]="Close",a[10][3]=function(){RYU.togglePanel(4)},a[10][4]=null,firstclass=1;for(var o=0;o<a.length;o++){if("toggle"==a[o][0])var l=1;else var l=0;addControl(a[o][0],a[o][1],a[o][2],a[o][3],a[o][4],l)}firstclass=0,loadAddOns(),"undefined"!=typeof IScroll&&(iScroll=IScroll),Get_Cookie("iscroll_iscroll")?RYU.config.iscroll_iscroll=Get_Cookie("iscroll_iscroll"):"undefined"!=typeof iScroll?RYU.config.iscroll_iscroll=1:RYU.config.iscroll_iscroll=0,p=0,x=1,z=0,events=0,prevW=0,prevH=0,aCheck=null,0==splashad||document.getElementById("skipad")||(splashad=0),document.getElementById("under_glass").addEventListener(iDown,function(){RYU.togglePanel("all")},!1),isNaN(RYU.config.appbanner)&&(document.getElementById("appbanner").className="appbanner_dn"),document.getElementById("appbanner").addEventListener(iDown,function(){RYU.restoreDefault(this)},!1),document.getElementById("appbanner").getElementsByClassName("xbox").length>0&&document.getElementById("appbanner").getElementsByClassName("xbox")[0].addEventListener(iDown,function(){RYU.bannerClear()},!1),document.getElementById("page_first").addEventListener(iDown,function(){RYU.changePage("left",1)},!1),document.getElementById("page_back").addEventListener(iDown,function(){RYU.changePage("left")},!1),document.getElementById("page_next").addEventListener(iDown,function(){RYU.changePage("right")},!1),document.getElementById("page_last").addEventListener(iDown,function(){RYU.changePage("right",1)},!1),document.getElementById("fontbutton").addEventListener(iDown,function(){RYU.togglePanel(0)},!1),document.getElementById("fontdone").addEventListener(iDown,function(){RYU.togglePanel(0)},!1),document.getElementById("fontup").addEventListener(iDown,function(){RYU.resizeText(1)},!1),document.getElementById("fontdn").addEventListener(iDown,function(){RYU.resizeText(-1)},!1),document.getElementById("colors").addEventListener(iDown,function(){RYU.colorText()},!1),document.getElementById("color_basic").addEventListener(iDown,function(){RYU.colorText(0)},!1),document.getElementById("color_sepia").addEventListener(iDown,function(e){e=window.event?event:e,e.shiftKey?RYU.colorText(3):RYU.colorText(1)},!1),document.getElementById("color_black").addEventListener(iDown,function(e){e=window.event?event:e,e.shiftKey?RYU.colorText(4):RYU.colorText(2)},!1),document.getElementById("sortbutton").addEventListener(iDown,function(){RYU.togglePanel(1)},!1),document.getElementById("findbutton").addEventListener(iDown,function(){RYU.togglePanel(5)},!1),document.getElementById("tocdone").addEventListener(iDown,function(){RYU.togglePanel(1)},!1),document.getElementById("viewsbutton").addEventListener(iDown,function(){RYU.togglePanel(2)},!1),document.getElementById("viewsdone").addEventListener(iDown,function(){RYU.togglePanel(2)},!1),document.getElementById("viewbutton1").addEventListener(iDown,function(){RYU.changeView("rackgrid"),RYU.togglePanel(2)},!1),document.getElementById("viewbutton2").addEventListener(iDown,function(){RYU.changeView("rackdetail"),RYU.togglePanel(2)},!1),document.getElementById("viewbutton3").addEventListener(iDown,function(){RYU.changeView("racklist"),RYU.togglePanel(2)},!1),document.getElementById("viewbutton4").addEventListener(iDown,function(){RYU.togglePanel(2),RYU.controlsDelay(0)},!1),document.getElementById("findall").addEventListener(iDown,function(){RYU.findThis(),RYU.togglePanel(5)},!1),document.getElementById("sharebutton").addEventListener(iDown,function(){RYU.togglePanel(3)},!1),document.getElementById("optbutton").addEventListener(iDown,function(){RYU.togglePanel(4)},!1),document.getElementById("optdone").addEventListener(iDown,function(){RYU.togglePanel(4)},!1),0==maxpromos&&(document.getElementById("opt_showpromos_li").style.display="none"),void 0!=cssTransform?void 0!=cssTransitionDelay?void 0!=nativeScroll&&null!=nativeScroll||"Android"==RYU.device.OS&&RYU.device.v>=3||(document.getElementById("opt_nscroll_li").style.display="none",RYU.config.nscroll=0):(document.getElementById("opt_animate_li").style.display="none",document.getElementById("opt_nscroll_li").style.display="none"):(document.getElementById("opt_animate_li").style.display="none",document.getElementById("opt_nscroll_li").style.display="none",RYU.config.pageshadows=0,RYU.config.animate=0),"ontouchstart"in document.documentElement||"Windows Phone 7"==RYU.device.OS?"webOS"==RYU.device.OS&&(RYU.config.zoompan=0):document.getElementById("opt_zoompan_li").style.display="none",0==swapThemes||1==swapThemes&&""==dynTheme()?(RYU.config.themeset=0,document.getElementById("opt_themeset_label").parentNode.className="opt-disabled"):document.getElementById("opt_themeset_label").parentNode.className="",themeToggle(RYU.config.themeset),aniToggle(RYU.config.animate),zoomToggle(RYU.config.zoompan),scrollToggle(RYU.config.nscroll),iScrollToggle(RYU.config.iscroll_iscroll),document.getElementById("zoom").addEventListener(iDown,function(){RYU.zoomMode()},!1),limitItems(RYU.config.rackItems),"Android"==RYU.device.OS&&RYU.device.v<3&&(document.getElementById("binder").style.position="absolute"),changeView(Get_Cookie("racklist")?""+Get_Cookie("racklist"):"rackgrid"),RYU.config.lblinks=[],RYU.config.lblinks_listeners=[],RYU.config.preplinks=function(){for(var e=0;e<RYU.config.lblinks.length;e++)RYU.config.lblinks[e].removeEventListener(iDown,RYU.config.lblinks_listeners[e],!1)};for(var i=document.getElementsByTagName("a"),n=0;n<i.length;n++)if("lightbox"==i[n].rel&&i[n].hostname==window.location.host&&i[n].href.match(/#/gi)){RYU.config.lblinks.push(i[n]);var s=i[n].href.split("#")[1];if(i[n].hasAttribute("title"))var d=i[n].title;else var d="Figure "+(RYU.config.lblinks.length-1);if(document.getElementById(""+s)){var r=document.getElementById(""+s).innerHTML;addDialogBox("nolb-"+s,d,r,"",0,0,"nolightbox"),i[n].addEventListener(iDown,RYU.config.lblinks_listeners[RYU.config.lblinks_listeners.length]=function(e){e.preventDefault(),RYU.toggleDialog("nolb-"+s)},!1)}else i[n].addEventListener(iDown,RYU.config.lblinks_listeners[RYU.config.lblinks_listeners.length]=function(e){e.preventDefault()},!1)}else"lightbox"==i[n].rel&&(RYU.config.lblinks.push(i[n]),i[n].setAttribute("target","_blank"),i[n].addEventListener(iDown,RYU.config.lblinks_listeners[RYU.config.lblinks_listeners.length]=function(){"ontouchstart"in document.documentElement&&(alert("opening in new window"),window.open(this.href,"_blank"))},!1))},aboutDialog=function(){var e='	<div style="height:72px;overflow:hidden;text-align:center;margin-bottom:5px;">		<a href="http://www.ryumaru.com" style="border: none;text-decoration:none;color: #000;">			<div id="aboutlogo"></div>		</a>	</div>	<p style="text-align:center;"><small><strong>Ryuzine Rack</strong><br/>	'+RYU._lc("Version")+" "+version+"<br/></p>	<p>"+RYU._lc("Ryuzine™ is a javascript application designed for publishing content to the web and mobile devices in a familiar magazine-style format.")+" "+RYU._lc("Publishing Kit available at")+' <a href="http://www.ryumaru.com/products/ryuzine" target="_blank">www.ryumaru.com</a>.</p>	<p>'+RYU._lc("Ryuzine was created by K.M. Hansen, original code ©2011-2015 All Rights Reserved.")+"</p>	<p>"+RYU._lc("Read the license and a list of project contributors:")+' <a href="'+baseurl+'ryuzine/LICENSE.txt" target="_blank">'+RYU._lc("LICENSE FILE")+'</a>, <a href="'+baseurl+'ryuzine/AUTHORS.txt" target="_blank">'+RYU._lc("CONTRIBUTORS")+'</a></p>	<div id="rmlogo"></div>	<p>'+RYU._lc("Ryuzine and the Ryuzine logos are trademarks of K.M. Hansen and Ryu Maru. All rights reserved. The names of other companies, products, services and content distributed via the Ryuzine publishing platform are the property of their respective owners.")+"</p><hr/>	<h2>Add-ons</h2>";for(var t in addon)addon.hasOwnProperty(t)&&"register"!=t&&void 0!=typeof addon[""+t].name&&(e+="<p>"+RYU._lc("Name")+": "+addon[""+t].info.name+"<br/>"+RYU._lc("Version")+" :"+addon[""+t].info.version+"<br/>"+RYU._lc("Author")+": "+addon[""+t].info.author+"<br/>"+RYU._lc("Website")+': <a href="'+addon[""+t].info.url+'" target="_blank">'+addon[""+t].info.url+"</a><br/>"+RYU._lc("License")+": "+addon[""+t].info.license+"<br/>"+RYU._lc("Description")+": "+addon[""+t].info.about+"<hr/>");addDialogBox("about",RYU._lc("About Ryuzine"),e),toggleDialog("about"),aboutDialog=function(){toggleDialog("about")}},splashAction=function(){if(0!=RYU.config.themeset)var e=2;else var e=1;null==handle&&(handle=window.setInterval(function(){document.getElementById("tcheck").clientWidth==e&&1==document.getElementById("vcheck").clientWidth&&(clearSplash(splashad),window.clearInterval(handle),handle=null)},30)),splashcatch=setTimeout(function(){clearSplash(splashad),window.clearInterval(handle),handle=null,clearTimeout(splashcatch),splashcatch=null},2e3),splashAction=function(){}},adclock=null,boxad_timer=null,time=splashad,triggerAds=function(){if(time=box_ad,clearInterval(adtrigger),adtrigger=null,(box_ad>0||isNaN(box_ad))&&document.getElementById("myboxad")&&(addDialogBox("boxad",_lc("Advertisement"),document.getElementById("myboxad").innerHTML),document.getElementsByTagName("body")[0].removeChild(document.getElementById("myboxad")),toggleDialog("boxad"),resizeBoxAd(),!isNaN(box_ad))){var e=document.createElement("p");if(e.id="boxad_timer",10>time)var t="0";else var t="";e.innerHTML="0:"+t+time,document.getElementById("boxad").getElementsByTagName("div")[0].appendChild(e),adclock=setInterval(function(){if(document.getElementById("boxad_timer")){if(10>time)var e="0";else var e="";document.getElementById("boxad_timer").innerHTML="0:"+e+time,time>0?time--:time=0}else clearInterval(adclock),clearTimeout(boxad_timer),adclock=null,boxad_timer=null},1e3),boxad_timer=setTimeout(function(){RYU.toggleDialog("boxad"),clearInterval(adclock),adclock=null},1e3*box_ad)}isNaN(RYU.config.appbanner)||0==RYU.config.appbanner||(showad=setInterval(function(){bannerAd()},1e3*RYU.config.appbanner)),triggerAds=function(){}},showDetails=function(e){var t=document.getElementById("slot"+e).innerHTML;addDialogBox("detailbox","Item Details",t),toggleDialog("detailbox")},rid="",touchmoveCheck=0,scrollIt=function(e){n=event.currentTarget,updown=event.touches[0].pageY,sideside=event.touches[0].pageX,n.addEventListener("touchmove",RYU.touchScroll,!1),touchmoveCheck=0},touchScroll=function(e){var t=event.currentTarget,n=event.touches[0],a=updown-n.pageY,o=n.pageX;touchmoveCheck=1,(void 0==nativeScroll||void 0!=nativeScroll&&0==RYU.config.zoompan||0==RYU.config.nscroll)&&"undefined"==typeof iScroll&&("Android"==RYU.device.OS&&RYU.device.v>=3||event.preventDefault(),t.scrollTop=t.scrollTop+a,updown=n.pageY),swipeGesture(o,sideside),sideside=n.pageX,n=0},swipeGesture=function(e,t){t>e&&t-e>100&&changePage("right"),e>t&&e-t>100&&changePage("left")},mScrollItOn=function(e,t){if("undefined"==typeof iScroll){var n=e.currentTarget?e.currentTarget:document.getElementById("live"+t);n.style.overflow="auto",n.style.overflowX="hidden"}},mScrollItOff=function(e,t){if("undefined"==typeof iScroll){var n=e.currentTarget?e.currentTarget:document.getElementById("live"+t);n.style.overflow="hidden"}},blocking_elements=[];RYU.config.block_keynav=function(e){null!=e&&-1===blocking_elements.indexOf(e)&&blocking_elements.push(e);for(var t=!1,n=0;n<blocking_elements.length;n++)document.getElementById(""+blocking_elements[n])&&"none"!=document.getElementById(""+blocking_elements[n]).style.display&&""!=document.getElementById(""+blocking_elements[n]).style.display&&(t=!0);return t};var panelopen=[];panelopen[0]=0,panelopen[1]=0,panelopen[2]=0,panelopen[3]=0,panelopen[4]=0,panelopen[5]=0,panelopen[6]=0;var today=new Date,zero_date=new Date(0,0,0);today.setTime(today.getTime()-zero_date.getTime());var todays_date=new Date(today.getYear()+1,today.getMonth(),today.getDate(),0,0,0),expires_date=new Date(todays_date.getTime()+48384e5);"Windows Phone 7"==RYU.device.OS&&RYU.device.bv>=9&&document.write('<meta name="viewport" id="zooming" content="width=device-width,height=device-height,initial-scale=1.0,minimum-scale=1.0,maximum-scale=10.0,user-scalable=yes" />');var is_supported=function(){var e=1;if("Opera"==RYU.device.Platform&&RYU.device.bv<=12&&RYU.device.bv<15&&document.getElementsByClassName){var t=confirm("Your browser has known problems running the Ryuzine webapp.\nWould you prefer to see a plain HTML page instead?");1==t&&(e=0)}return Object.prototype&&Object.keys&&Array.isArray&&Array.prototype.indexOf&&document.getElementsByClassName||(alert("Your browser is not compatible with this version of Ryuzine.\nYou will see the plain HTML page without any Ryuzine features."),e=0),0==e?!1:!0};return{_lc:_lc,back2rack:back2rack,toggleDropBar:toggleDropBar,openInApp:openInApp,baseurl:baseurl,device:RYU.device,init:init,bookBinder:bookBinder,loadRackData:loadRackData,changeCatalogs:changeCatalogs,initSorter:initSorter,changePage:changePage,limitItems:limitItems,pullNames:pullNames,carousel:carousel,changePage:changePage,bannerAd:bannerAd,bannerClear:bannerClear,showDetails:showDetails,resizeText:resizeText,colorText:colorText,tapCheck:tapCheck,scrollIt:scrollIt,touchScroll:touchScroll,mScrollItOn:mScrollItOn,mScrollItOff:mScrollItOff,keyNav:keyNav,swapList:swapList,changeView:changeView,toggleDialog:toggleDialog,hideDialog:hideDialog,togglePanel:togglePanel,toggleOptSwitch:toggleOptSwitch,setOptGhostList:setOptGhostList,zoomMode:zoomMode,zoomToggle:zoomToggle,findThis:findThis,defaultPrevention:defaultPrevention,preventDefault:preventDefault,restoreDefault:restoreDefault,enableDefault:enableDefault,touchmoveSet:function(e){touchmoveCheck=e},touchmoveCheck:touchmoveCheck,is_supported:is_supported,helpPlay:helpPlay,playHelp:playHelp,guidedHelp:guidedHelp,controlsToggle:controlsToggle,controlsDelay:controlsDelay,controlSlide:controlSlide,promoToggle:promoToggle,filterToggle:filterToggle,themeToggle:themeToggle,aniToggle:aniToggle,scrollToggle:scrollToggle,iScrollToggle:iScrollToggle,iScrollApply:iScrollApply,hasClass:hasClass,addClass:addClass,removeClass:removeClass,elementSizes:elementSizes,onDemand:onDemand,php:php,rackData:rackData,add2List:add2List,unMark:unMark,boxLink:boxLink,addon:addon,iEvent:iEvent,config:RYU.config}}(),window.onload=function(){function e(){a=!1;var e=document.createElement("div");if(e.style.position="absolute",document.getElementsByTagName("body")[0].appendChild(e),e.currentStyle)var t=e.currentStyle.position;else if(window.getComputedStyle)var t=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");a="static"==t?!0:!1,document.getElementsByTagName("body")[0].removeChild(e)}function t(e){return e%2==0}function n(e){return e=e.replace(/(^|[-\u2014\s(\["])'/g,"$1‘"),e=e.replace(/'/g,"’"),e=e.replace(/(^|[-\u2014\([\u2018\s])"/g,"$1“"),e=e.replace(/"/g,"”"),e=e.replace(/--/g,"—")}String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}();var a=!1,o=document,l=0;if(top===self)var i=!1;else{if("sourceframe"==window.name)var i=!0;else var i=!1;if("preview"==window.name)var s=!0;else var s=!1}if(RYU.is_supported()||(l=1),(1==i||1==l)&&(document.getElementById("screen_format").href="css/blank.css",document.getElementById("lightbox_format").href="css/blank.css",document.getElementById("ui_format").href="css/blank.css",document.getElementById("ui_theme")&&(document.getElementById("ui_theme").href="css/blank.css"),document.getElementById("curves")&&(document.getElementById("curves").href="css/blank.css"),l=1),e(),1==a){var d=o.createElement("div"),r="<p><strong>App Error:</strong> Stylesheets</span> are disabled!</p><p>You are viewing this as a plain web page.  Enable stylesheet support and reload to view it as a web application.</p>";d.innerHTML=r,o.getElementById("splashblock").appendChild(d)}else if(0==l){var c=document.getElementsByTagName("a"),m=window.location.href;m=m.split("#");for(var p=0;p<c.length;p++)if(c[p].href.match(/#/gi)&&"nav_link"!=c[p].parentNode.className){var u=c[p].href.split("#");if(u[0]===m[0]&&u[1].match(/page/gi)){var g=u[1].split("page");isNaN(g[1])||(c[p].href="javascript:RYU.flipTo("+g[1]+");")}}if(o.getElementById("summary")){for(var v=o.getElementById("summary"),f=v.getElementsByTagName("img"),h="",y=f.length-1;y>-1;y--)0==y&&(h=f.src),v.removeChild(f[y]);for(var b=v.getElementsByTagName("br").length-1;b>-1;b--)v.removeChild(v.getElementsByTagName("br")[b]);v=escape(v.innerHTML.replace(/\"/gi,"'").replace(/&nbsp;/gi,"").trim())}else var h="",v="A Ryuzine webapp publication";if(o.getElementById("offline"))var E=o.getElementById("offline").innerHTML;else var E="no";if((""==E||null==E||void 0==E)&&(E="no"),o.getElementById("splash_screen")){var T=o.getElementById("splash_screen").innerHTML;T=T.trim()}else var T="";""!=RYU.config.rackTitle&&"Newsstand"!=RYU.config.rackTitle&&"Newsstand"==o.getElementsByTagName("title")[0].innerHTML&&(o.getElementsByTagName("title")[0].innerHTML=RYU.config.rackTitle);var _=[];if(o.getElementById("splash_title")){var B=o.getElementById("splash_title");if(B.childNodes.length>0)for(var k=B.childNodes.length-1;k>-1;k--)"img"===B.childNodes[k].nodeName.toLowerCase()&&(_.push(B.childNodes[k].src),B.removeChild(B.childNodes[k]));var R=escape(B.innerHTML);o.getElementById("splash_title").parentNode.removeChild(o.getElementById("splash_title"))}else if(o.getElementsByTagName("title").length>0)var R=escape(o.getElementsByTagName("title")[0].innerHTML);else var R="";R=n(R),""==R?o.getElementsByTagName("title").length>0?(footerTitle=escape(o.getElementsByTagName("title")[0].innerHTML),footerTitle=n(footerTitle)):footerTitle=escape("Newsstand"):footerTitle=R,_.length>0?applogo=escape('<img src="'+_[0]+'" id="app_logo" alt="'+footerTitle+'"/>'):applogo="";var I=0,w=null;if(o.getElementById("social_widget")?(w=o.getElementById("social_widget").innerHTML,I=w.length>0?1:0):I=0,"no"!=E)var N=E;else var N=window.location;if(o.getElementById("copy_right"))var U=o.getElementById("copy_right").innerHTML;else U="";if(o.getElementById("appbanner"))var Y=o.getElementById("appbanner").innerHTML;else var Y="";if(""==Y.trim()?RYU.config.appbanner=0:Y+='\n<p class="xbox">Please visit and support our sponsors!<span>CLOSE [X]</span></p></div>',o.getElementById("boxad"))var C=o.getElementById("boxad").innerHTML;else var C="";var L=o.getElementsByClassName("light_boxed");if(o.getElementById("welcome_sign"))var x=o.getElementById("welcome_sign").innerHTML;else var x="";if(document.getElementsByClassName)var D=o.getElementsByClassName("section_head");else var D=getElementsByClassName("section_head");for(var M=[],S=0;S<D.length;S++)if(M[S]=D[S].innerHTML,""==M[S]||null==M[S]){if(0==S)var H="Front Cover";else if(S==D.length-1)var H="Back Cover";else var H="Page "+S;M[S]=H}if(document.getElementsByClassName)var A=o.getElementsByClassName("page_box");else var A=getElementsByClassName("page_box");if(t(A.length)){var O=A.length;D=D.length}else{var O=A.length+1;D=D.length+1}for(var z=[],P=[],S=0;O>S;S++)if(void 0==A[S])M[S]="Page "+S,z[S]="<p>This Page Was Intentionally Left Blank</p>",P[S]="col1";else if(z[S]=A[S].innerHTML,A[S].className.length>8){var j=A[S].className.split(" ");P[S]=j[1]}else P[S]="col1";if(o.getElementById("exit_sign"))var W=o.getElementById("exit_sign").innerHTML;else var W="";var G=document.createElement("div");if(G.setAttribute("id","splash"),G.className="splash_in",""!=T)var F='<p id="skipad" onclick="RYU.clearSplash(0);">Skip Ad</p>'+T;else var F='<div id="splashblock">\n<p class="splash-title">'+unescape(applogo)+unescape(R)+'</p>\n<p class="splash-port">a ryuzine rack<span>&trade;</span></p>\n</div>\n<p class="splash-fineprint">'+U+"</p>\n";
G.innerHTML='<div id="splashcell">'+F+"</div>";var $=document.createElement("div");$.setAttribute("id","binder"),$.className="binder_shift";for(var V='<div id="sheet"><div id="gridbox" class="grid_in">\n<div id="plankL" class="plank left">'+x+"</div>\n",S=0;O>S;S++){var q="",K='<div class="bmark"></div>',X="",J="";if(t(S))var Z="recto",Q="shift";else var Z="verso",Q="";0==S?(J="covercorners-front",q='style="z-index:'+O+';"',K=""):S==O-1?(J="covercorners-back",K=""):1==S?X="covershadow-front":S==O-2&&(X="covershadow-back"),V=V+'<div id="folio'+S+'" class="folio '+Z+" "+Q+" "+J+'" '+q+'>\n<div id="shadow'+S+'" class="shadow"></div>\n<div id="page'+S+'" class="page '+Z+" "+X+'">\n<a id="'+S+'"></a>\n<div id="header'+S+'" class="header">\n<h1>'+M[S]+'</h1>\n</div>\n<div id="live'+S+'" class="live">\n<div id="column'+S+'" class="columns '+P[S]+'">'+z[S]+'</div>\n</div>\n<div id="footer'+S+'" class="footer">\n<p>'+R+' <span class="pgnum"><span class="rdash"> -</span> '+S+' <span class="ldash">-</span> </span></p>\n</div>\n<div id="marginleft-'+S+'" class="flipleft flipper">\n<div class="margin-arrow"></div>\n</div>\n<div id="marginright-'+S+'" class="flipright flipper">\n<div class="margin-arrow"></div>\n</div>\n'+K+"\n</div></div>\n"}V+='<div id="bmark"></div><div id="spineshadow" class="spine_fill"></div>\n',V=V+'<div id="plankR" class="plank right">'+W+"</div>\n</div>\n</div>\n",$.innerHTML=V;var ee=document.createElement("div");ee.setAttribute("id","controlbox0"),ee.className="navbars_show";var te='<div id="zoom" class="button"><p><span class="symbol"></span><span class="label"></span></p></div>\n<p id="pagecounter"><span class="l10n">Page</span> <span id="currentpage"></span> / <span id="pagelimit"></span></p>\n<div id="appbanner" class="appbanner_up">\n<div class="appbannerbox">\n'+Y+'</div>\n</div>\n<div id="navbar0" class="navbars">\n';""!=applogo?(appTitle=applogo,RYU.config.applogo=applogo):(appTitle=R,RYU.config.applogo=appTitle),te=te+'<div id="navset0" class="navset nav_in">\n	<div class="titlebar"><h1 class="title">'+unescape(appTitle)+'</h1>\n</div>\n	<div id="page_first" class="button type1 left"><p><span class="symbol"></span><span class="label l10n">First</span></p></div>\n	<div id="page_back"  class="button type1 left"><p><span class="symbol"></span><span class="label l10n">Back</span></p></div>\n	<div id="page_last" class="button type1 right"><p><span class="symbol"></span><span class="label l10n">Last</span></p></div>\n	<div id="page_next" class="button type1 right"><p><span class="symbol"></span><span class="label l10n">Next</span></p></div>\n</div>\n',ee.innerHTML=te;var ne=document.createElement("div");ne.setAttribute("id","controlbox1"),ne.className="tabbars_show";var ae='<div id="controltoggle" class="button up"><p><span class="symbol"></span><span class="label"></span></p></div>\n<div id="tabbar0" class="tabbars">\n<div id="controlset0" class="controlset control_in">\n<div class="button type1 quarter left" id="sortbutton"><p><span class="symbol"></span><span class="label l10n">Sort</span></p></div>\n<div class="button type1 quarter left" id="fontbutton"><p><span class="symbol"></span><span class="label l10n">Font</span></p></div>\n<div class="button type1 quarter center" id="sharebutton"><p><span class="symbol"></span><span class="label l10n">Share</span></p></div>\n<div class="button type1 quarter right" id="optbutton"><p><span class="symbol"></span><span class="label l10n">Options</span></p></div>\n<div class="button type1 quarter right" id="viewsbutton"><p><span class="symbol"></span><span class="label l10n">Views</span></p></div>\n</div>\n<!--// End of controls //-->\n</div>\n</div>\n';ne.innerHTML=ae;var oe=document.createElement("div");oe.setAttribute("id","upbox");var le=document.createElement("div");le.id="under_glass";var ie=document.createElement("div");ie.setAttribute("id","font_panel"),ie.className="panel style3 out";var se='<div class="titlebar" id="font_titlebar">\n<h1 id="fonttitle" class="title l10n">Fonts</h1>\n<div id="fontdone" class="button type2 right">\n<p><span class="symbol"></span><span class="label l10n">Done</span></p>\n</div>\n</div>\n<div class="area">\n<div id="colorbox" class="colorbox_OUT">\n	<div id="color_basic" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Normal</span></p></div>\n	<div id="color_sepia" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Sepia</span></p></div>\n	<div id="color_black" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Black</span></p></div>\n</div>\n<div id="fontbox">\n	<div id="fontdn" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Decrease</span></p></div>\n	<div id="colors" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Colors</span></p></div>\n	<div id="fontup" class="button sub-button"><p><span class="symbol"></span><span class="label l10n">Increase</span></p></div>\n</div>\n</div>\n<div class="pointer"></div>\n';ie.innerHTML=se;var de=document.createElement("div");de.setAttribute("id","toc_panel"),de.className="panel style1 left out";var re='<div class="titlebar" id="toc_titlebar">\n<h1 id="sorttitle" class="title l10n">Sort List</h1>\n<div class="button type1 quarter right" id="findbutton"><p><span class="symbol"></span><span class="label l10n">Find</p></div>\n<div id="tocdone" class="button type2 done left"><p><span class="symbol"></span><span class="label l10n">Done</span></p></div>\n</div>\n<div id="toclist" class="area">\n<div class="scrollbox">\n<ul id="nav">\n';for(S=0;D>S;S++){if(1==s)var u='<span class="label">'+M[S]+"</span>";else var u='<a href="#'+S+'">'+M[S]+"</a>";(""!=M[S]||null!=M[S])&&(re=re+'<li class="list_up">'+u+"</li>\n")}re+='</ul>\n</div>\n</div>\n<div class="pointer"></div>\n',de.innerHTML=re;var ce=document.createElement("div");ce.setAttribute("id","views_panel"),ce.className="panel style2 out";var me='<div class="titlebar">\n<h1 id="viewstitle" class="title l10n">Other Views</h1>\n<div id="viewsdone" class="button type2 right">\n<p>Done</p>\n</div>\n</div>\n<div class="area">\n<div id="viewbutton1" class="button type3"><p><span class="symbol"></span><span class="label l10n">Gallery Grid</span></p></div>\n<div id="viewbutton2" class="button type3"><p><span class="symbol"></span><span class="label l10n">Detail List</span></p></div>\n<div id="viewbutton3" class="button type3"><p><span class="symbol"></span><span class="label l10n">Simple List</span></p></div>\n<div id="viewbutton4" class="button type4"><p><span class="symbol"></span><span class="label l10n">Cancel</span></p></div>\n</div>\n<div class="pointer"></div>\n';ce.innerHTML=me;var pe=document.createElement("div");pe.setAttribute("id","share_panel"),pe.className="panel style3 out";var ue='<div class="area"></div>\n<div class="pointer"></div>';pe.innerHTML=ue;var ge=document.createElement("div");ge.setAttribute("id","opt_panel"),ge.className="panel style1 right out";var ve='<div class="titlebar" id="opt_titlebar">\n<h1 id="opttitle" class="title l10n">Options</h1>\n<div class="button type1 quarter left" id="helpbutton"><p><span class="symbol"></span><span class="label l10n">Help</p></div>\n<div id="optdone" class="button type2 done right"><p><span class="symbol"></span><span class="label l10n">Done</span></p></div>\n</div>\n<div id="optlist" class="area">\n	<div class="scrollbox">\n		<ul id="opts" class="opts"></ul>\n	</div>\n</div>\n\n<div class="pointer"></div>\n</div>\n';ge.innerHTML=ve;var fe=document.createElement("div");fe.setAttribute("id","find_panel"),fe.className="panel style3 out",fe.innerHTML='<div id="findbox">\n<input type="text" id="findinput" value="" onfocus="this.value=\'\';">\n<a id="findall" href="#">\n<div class="button type2 right">\n<p><span class="symbol"></span><span class="label l10n">Find All</span></p>\n</div>\n</a>\n</div>\n\n<div class="pointer"></div>',oe.appendChild(le),oe.appendChild(ie),oe.appendChild(de),oe.appendChild(ce),oe.appendChild(pe),oe.appendChild(ge),oe.appendChild(fe);var he=document.createElement("div");he.id="lightbox";var ye=document.createElement("div");for(ye.id="shade",he.appendChild(ye),S=L.length-1;S>=0;S--)"boxad"!=L[S].id&&he.appendChild(L[S]);var be=document.createElement("div");be.setAttribute("id","pan"),be.className="pan_off";var Ee=document.createElement("div");Ee.setAttribute("id","helper"),Ee.className="helper_off",help_html='	<div id="help_guide">\n		<div id="help_arrow"></div>\n	</div>\n	<div id="help_box">\n	</div>\n',Ee.innerHTML=help_html;var Te=document.createElement("div");Te.setAttribute("id","loadicon"),""==T&&(Te.className="spinning start");var _e=document.createElement("iframe");_e.setAttribute("id","loadbox"),_e.setAttribute("style","display:none;"),"autocat0"==RYU.rackData[0][1]?_e.src="":(_e.src=""+RYU.baseurl+"data/"+RYU.rackData[0][1],_e.setAttribute("onload","RYU.loadRackData();"));var Be=document.createElement("div");Be.setAttribute("id","rackdata");var ke=document.getElementsByTagName("body")[0];if(ke.id="ryuzinerack",ke.innerHTML="",ke.appendChild(G),ke.appendChild(Te),ke.appendChild($),ke.appendChild(oe),ke.appendChild(he),ke.appendChild(be),ke.appendChild(ee),ke.appendChild(ne),ke.appendChild(Ee),ke.appendChild(Be),ke.appendChild(_e),!document.getElementById("racktop")||!document.getElementById("item_list")||!document.getElementById("footer")){var Re=document.getElementById("column0");Re.innerHTML="";var Ie=document.createElement("div");Ie.id="racktop",Ie.className="run-ads",Re.appendChild(Ie);var we=document.createElement("div");we.id="item_list",Re.appendChild(we)}1==I?pe.getElementsByClassName("area")[0].innerHTML=w:document.getElementById("socialwidget")||(RYU.config.socialwidget={url:N,title:footerTitle,media:h,desc:v},-1===RYU.config.AddOns.indexOf("socialwidget")&&RYU.config.AddOns.push("socialwidget"));var Ne=document.createElement("div");Ne.id="tcheck";var Ue=document.createElement("div");if(Ue.id="vcheck",ke.appendChild(Ne),ke.appendChild(Ue),""!=C){var Ye=document.createElement("div");Ye.id="myboxad",Ye.innerHTML=C,ke.appendChild(Ye)}if("autocat0"==RYU.rackData[0][1]){document.getElementById("loadbox").setAttribute("onload","RYU.loadRackData();");var Ce=document.getElementById("loadbox").contentWindow.document;Ce.open(),Ce.write('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Ryuzine Rack Data</title></head><body>'+document.getElementById("autocat0").innerHTML+"</body></head></body></html>"),Ce.close()}}else alert("ERROR: This is not a valid Ryuzine Rack HTML file.")};